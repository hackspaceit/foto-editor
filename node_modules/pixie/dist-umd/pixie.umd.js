var sH=Object.defineProperty;var oH=(Me,Ae,Ze)=>Ae in Me?sH(Me,Ae,{enumerable:!0,configurable:!0,writable:!0,value:Ze}):Me[Ae]=Ze;var Te=(Me,Ae,Ze)=>(oH(Me,typeof Ae!="symbol"?Ae+"":Ae,Ze),Ze),X0=(Me,Ae,Ze)=>{if(!Ae.has(Me))throw TypeError("Cannot "+Ze)};var oe=(Me,Ae,Ze)=>(X0(Me,Ae,"read from private field"),Ze?Ze.call(Me):Ae.get(Me)),Ie=(Me,Ae,Ze)=>{if(Ae.has(Me))throw TypeError("Cannot add the same private member more than once");Ae instanceof WeakSet?Ae.add(Me):Ae.set(Me,Ze)},Oe=(Me,Ae,Ze,Oi)=>(X0(Me,Ae,"write to private field"),Oi?Oi.call(Me,Ze):Ae.set(Me,Ze),Ze);var oh=(Me,Ae,Ze,Oi)=>({set _(ks){Oe(Me,Ae,ks,Ze)},get _(){return oe(Me,Ae,Oi)}}),It=(Me,Ae,Ze)=>(X0(Me,Ae,"access private method"),Ze);(function(Me,Ae){typeof exports=="object"&&typeof module<"u"?module.exports=Ae():typeof define=="function"&&define.amd?define(Ae):(Me=typeof globalThis<"u"?globalThis:Me||self,Me.Pixie=Ae())})(this,function(){var s5,o5,xs,Ci,$o,a5,Vo,Si,Ho,l5,Cs,u5,Uo,Wo,Pn,Ft,$l,Ss,Un,Rr,c5,rr,f5,ir,Ht,_s,sr,Ti,h5,mn,Vl,d5,nt,_i,Ei,Xo,Yo,ki,Go,Ko,p5;"use strict";var Me=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ae(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function Ze(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){return this instanceof r?Reflect.construct(t,arguments,this.constructor):t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var Oi={exports:{}},ks={},Y0={exports:{}},De={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qo=Symbol.for("react.element"),m5=Symbol.for("react.portal"),v5=Symbol.for("react.fragment"),y5=Symbol.for("react.strict_mode"),b5=Symbol.for("react.profiler"),w5=Symbol.for("react.provider"),x5=Symbol.for("react.context"),C5=Symbol.for("react.forward_ref"),S5=Symbol.for("react.suspense"),_5=Symbol.for("react.memo"),E5=Symbol.for("react.lazy"),G0=Symbol.iterator;function k5(e){return e===null||typeof e!="object"?null:(e=G0&&e[G0]||e["@@iterator"],typeof e=="function"?e:null)}var K0={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},q0=Object.assign,Q0={};function Ts(e,t,n){this.props=e,this.context=t,this.refs=Q0,this.updater=n||K0}Ts.prototype.isReactComponent={},Ts.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},Ts.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function J0(){}J0.prototype=Ts.prototype;function ah(e,t,n){this.props=e,this.context=t,this.refs=Q0,this.updater=n||K0}var lh=ah.prototype=new J0;lh.constructor=ah,q0(lh,Ts.prototype),lh.isPureReactComponent=!0;var Z0=Array.isArray,ev=Object.prototype.hasOwnProperty,uh={current:null},tv={key:!0,ref:!0,__self:!0,__source:!0};function nv(e,t,n){var r,i={},s=null,h=null;if(t!=null)for(r in t.ref!==void 0&&(h=t.ref),t.key!==void 0&&(s=""+t.key),t)ev.call(t,r)&&!tv.hasOwnProperty(r)&&(i[r]=t[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var o=Array(a),u=0;u<a;u++)o[u]=arguments[u+2];i.children=o}if(e&&e.defaultProps)for(r in a=e.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:qo,type:e,key:s,ref:h,props:i,_owner:uh.current}}function T5(e,t){return{$$typeof:qo,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ch(e){return typeof e=="object"&&e!==null&&e.$$typeof===qo}function O5(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var rv=/\/+/g;function fh(e,t){return typeof e=="object"&&e!==null&&e.key!=null?O5(""+e.key):t.toString(36)}function Wl(e,t,n,r,i){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var h=!1;if(e===null)h=!0;else switch(s){case"string":case"number":h=!0;break;case"object":switch(e.$$typeof){case qo:case m5:h=!0}}if(h)return h=e,i=i(h),e=r===""?"."+fh(h,0):r,Z0(i)?(n="",e!=null&&(n=e.replace(rv,"$&/")+"/"),Wl(i,t,n,"",function(u){return u})):i!=null&&(ch(i)&&(i=T5(i,n+(!i.key||h&&h.key===i.key?"":(""+i.key).replace(rv,"$&/")+"/")+e)),t.push(i)),1;if(h=0,r=r===""?".":r+":",Z0(e))for(var a=0;a<e.length;a++){s=e[a];var o=r+fh(s,a);h+=Wl(s,t,n,o,i)}else if(o=k5(e),typeof o=="function")for(e=o.call(e),a=0;!(s=e.next()).done;)s=s.value,o=r+fh(s,a++),h+=Wl(s,t,n,o,i);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return h}function Xl(e,t,n){if(e==null)return e;var r=[],i=0;return Wl(e,r,"","",function(s){return t.call(n,s,i++)}),r}function P5(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Lt={current:null},Yl={transition:null},D5={ReactCurrentDispatcher:Lt,ReactCurrentBatchConfig:Yl,ReactCurrentOwner:uh};function iv(){throw Error("act(...) is not supported in production builds of React.")}De.Children={map:Xl,forEach:function(e,t,n){Xl(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Xl(e,function(){t++}),t},toArray:function(e){return Xl(e,function(t){return t})||[]},only:function(e){if(!ch(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},De.Component=Ts,De.Fragment=v5,De.Profiler=b5,De.PureComponent=ah,De.StrictMode=y5,De.Suspense=S5,De.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=D5,De.act=iv,De.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=q0({},e.props),i=e.key,s=e.ref,h=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,h=uh.current),t.key!==void 0&&(i=""+t.key),e.type&&e.type.defaultProps)var a=e.type.defaultProps;for(o in t)ev.call(t,o)&&!tv.hasOwnProperty(o)&&(r[o]=t[o]===void 0&&a!==void 0?a[o]:t[o])}var o=arguments.length-2;if(o===1)r.children=n;else if(1<o){a=Array(o);for(var u=0;u<o;u++)a[u]=arguments[u+2];r.children=a}return{$$typeof:qo,type:e.type,key:i,ref:s,props:r,_owner:h}},De.createContext=function(e){return e={$$typeof:x5,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:w5,_context:e},e.Consumer=e},De.createElement=nv,De.createFactory=function(e){var t=nv.bind(null,e);return t.type=e,t},De.createRef=function(){return{current:null}},De.forwardRef=function(e){return{$$typeof:C5,render:e}},De.isValidElement=ch,De.lazy=function(e){return{$$typeof:E5,_payload:{_status:-1,_result:e},_init:P5}},De.memo=function(e,t){return{$$typeof:_5,type:e,compare:t===void 0?null:t}},De.startTransition=function(e){var t=Yl.transition;Yl.transition={};try{e()}finally{Yl.transition=t}},De.unstable_act=iv,De.useCallback=function(e,t){return Lt.current.useCallback(e,t)},De.useContext=function(e){return Lt.current.useContext(e)},De.useDebugValue=function(){},De.useDeferredValue=function(e){return Lt.current.useDeferredValue(e)},De.useEffect=function(e,t){return Lt.current.useEffect(e,t)},De.useId=function(){return Lt.current.useId()},De.useImperativeHandle=function(e,t,n){return Lt.current.useImperativeHandle(e,t,n)},De.useInsertionEffect=function(e,t){return Lt.current.useInsertionEffect(e,t)},De.useLayoutEffect=function(e,t){return Lt.current.useLayoutEffect(e,t)},De.useMemo=function(e,t){return Lt.current.useMemo(e,t)},De.useReducer=function(e,t,n){return Lt.current.useReducer(e,t,n)},De.useRef=function(e){return Lt.current.useRef(e)},De.useState=function(e){return Lt.current.useState(e)},De.useSyncExternalStore=function(e,t,n){return Lt.current.useSyncExternalStore(e,t,n)},De.useTransition=function(){return Lt.current.useTransition()},De.version="18.3.1",Y0.exports=De;var k=Y0.exports;const de=Ae(k);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var A5=k,M5=Symbol.for("react.element"),j5=Symbol.for("react.fragment"),R5=Object.prototype.hasOwnProperty,F5=A5.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I5={key:!0,ref:!0,__self:!0,__source:!0};function sv(e,t,n){var r,i={},s=null,h=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(h=t.ref);for(r in t)R5.call(t,r)&&!I5.hasOwnProperty(r)&&(i[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)i[r]===void 0&&(i[r]=t[r]);return{$$typeof:M5,type:e,key:s,ref:h,props:i,_owner:F5.current}}ks.Fragment=j5,ks.jsx=sv,ks.jsxs=sv,Oi.exports=ks;var x=Oi.exports;function L5(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}function hh(e,t){return t===void 0&&(t=15),+parseFloat(Number(e).toPrecision(t))}function Wn(e){var t=e.toString().split(/[eE]/),n=(t[0].split(".")[1]||"").length-+(t[1]||0);return n>0?n:0}function Qo(e){if(e.toString().indexOf("e")===-1)return Number(e.toString().replace(".",""));var t=Wn(e);return t>0?hh(Number(e)*Math.pow(10,t)):Number(e)}function dh(e){av&&(e>Number.MAX_SAFE_INTEGER||e<Number.MIN_SAFE_INTEGER)&&console.warn(e+" is beyond boundary when transfer to integer, the results may not be accurate")}function Gl(e){return function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];var r=t[0],i=t.slice(1);return i.reduce(function(s,h){return e(s,h)},r)}}var Fr=Gl(function(e,t){var n=Qo(e),r=Qo(t),i=Wn(e)+Wn(t),s=n*r;return dh(s),s/Math.pow(10,i)}),z5=Gl(function(e,t){var n=Math.pow(10,Math.max(Wn(e),Wn(t)));return(Fr(e,n)+Fr(t,n))/n}),B5=Gl(function(e,t){var n=Math.pow(10,Math.max(Wn(e),Wn(t)));return(Fr(e,n)-Fr(t,n))/n}),ov=Gl(function(e,t){var n=Qo(e),r=Qo(t);return dh(n),dh(r),Fr(n/r,hh(Math.pow(10,Wn(t)-Wn(e))))});function N5(e,t){var n=Math.pow(10,t),r=ov(Math.round(Math.abs(Fr(e,n))),n);return e<0&&r!==0&&(r=Fr(r,-1)),r}var av=!0;function $5(e){e===void 0&&(e=!0),av=e}var ph={strip:hh,plus:z5,minus:B5,times:Fr,divide:ov,round:N5,digitLength:Wn,float2Fixed:Qo,enableBoundaryChecking:$5};const lv=Object.prototype.toString;function uv(e){switch(lv.call(e)){case"[object Error]":case"[object Exception]":case"[object DOMException]":return!0;default:return Pi(e,Error)}}function Os(e,t){return lv.call(e)===`[object ${t}]`}function gh(e){return Os(e,"ErrorEvent")}function cv(e){return Os(e,"DOMError")}function V5(e){return Os(e,"DOMException")}function ar(e){return Os(e,"String")}function mh(e){return typeof e=="object"&&e!==null&&"__sentry_template_string__"in e&&"__sentry_template_values__"in e}function vh(e){return e===null||mh(e)||typeof e!="object"&&typeof e!="function"}function Ps(e){return Os(e,"Object")}function Kl(e){return typeof Event<"u"&&Pi(e,Event)}function H5(e){return typeof Element<"u"&&Pi(e,Element)}function U5(e){return Os(e,"RegExp")}function ql(e){return!!(e&&e.then&&typeof e.then=="function")}function W5(e){return Ps(e)&&"nativeEvent"in e&&"preventDefault"in e&&"stopPropagation"in e}function X5(e){return typeof e=="number"&&e!==e}function Pi(e,t){try{return e instanceof t}catch{return!1}}function fv(e){return!!(typeof e=="object"&&e!==null&&(e.__isVue||e._isVue))}function Ds(e,t=0){return typeof e!="string"||t===0||e.length<=t?e:`${e.slice(0,t)}...`}function hv(e,t){if(!Array.isArray(e))return"";const n=[];for(let r=0;r<e.length;r++){const i=e[r];try{fv(i)?n.push("[VueViewModel]"):n.push(String(i))}catch{n.push("[value cannot be serialized]")}}return n.join(t)}function Y5(e,t,n=!1){return ar(e)?U5(t)?t.test(e):ar(t)?n?e===t:e.includes(t):!1:!1}function Ql(e,t=[],n=!1){return t.some(r=>Y5(e,r,n))}function G5(e,t,n=250,r,i,s,h){if(!s.exception||!s.exception.values||!h||!Pi(h.originalException,Error))return;const a=s.exception.values.length>0?s.exception.values[s.exception.values.length-1]:void 0;a&&(s.exception.values=K5(yh(e,t,i,h.originalException,r,s.exception.values,a,0),n))}function yh(e,t,n,r,i,s,h,a){if(s.length>=n+1)return s;let o=[...s];if(Pi(r[i],Error)){dv(h,a);const u=e(t,r[i]),d=o.length;pv(u,i,d,a),o=yh(e,t,n,r[i],i,[u,...o],u,d)}return Array.isArray(r.errors)&&r.errors.forEach((u,d)=>{if(Pi(u,Error)){dv(h,a);const l=e(t,u),c=o.length;pv(l,`errors[${d}]`,c,a),o=yh(e,t,n,u,i,[l,...o],l,c)}}),o}function dv(e,t){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,...e.type==="AggregateError"&&{is_exception_group:!0},exception_id:t}}function pv(e,t,n,r){e.mechanism=e.mechanism||{type:"generic",handled:!0},e.mechanism={...e.mechanism,type:"chained",source:t,exception_id:n,parent_id:r}}function K5(e,t){return e.map(n=>(n.value&&(n.value=Ds(n.value,t)),n))}function Jl(e){return e&&e.Math==Math?e:void 0}const Fe=typeof globalThis=="object"&&Jl(globalThis)||typeof window=="object"&&Jl(window)||typeof self=="object"&&Jl(self)||typeof global=="object"&&Jl(global)||function(){return this}()||{};function bh(){return Fe}function gv(e,t,n){const r=n||Fe,i=r.__SENTRY__=r.__SENTRY__||{};return i[e]||(i[e]=t())}const wh=bh(),q5=80;function mv(e,t={}){if(!e)return"<unknown>";try{let n=e;const r=5,i=[];let s=0,h=0;const a=" > ",o=a.length;let u;const d=Array.isArray(t)?t:t.keyAttrs,l=!Array.isArray(t)&&t.maxStringLength||q5;for(;n&&s++<r&&(u=Q5(n,d),!(u==="html"||s>1&&h+i.length*o+u.length>=l));)i.push(u),h+=u.length,n=n.parentNode;return i.reverse().join(a)}catch{return"<unknown>"}}function Q5(e,t){const n=e,r=[];let i,s,h,a,o;if(!n||!n.tagName)return"";if(wh.HTMLElement&&n instanceof HTMLElement&&n.dataset&&n.dataset.sentryComponent)return n.dataset.sentryComponent;r.push(n.tagName.toLowerCase());const u=t&&t.length?t.filter(l=>n.getAttribute(l)).map(l=>[l,n.getAttribute(l)]):null;if(u&&u.length)u.forEach(l=>{r.push(`[${l[0]}="${l[1]}"]`)});else if(n.id&&r.push(`#${n.id}`),i=n.className,i&&ar(i))for(s=i.split(/\s+/),o=0;o<s.length;o++)r.push(`.${s[o]}`);const d=["aria-label","type","name","title","alt"];for(o=0;o<d.length;o++)h=d[o],a=n.getAttribute(h),a&&r.push(`[${h}="${a}"]`);return r.join("")}function J5(){try{return wh.document.location.href}catch{return""}}function Z5(e){if(!wh.HTMLElement)return null;let t=e;const n=5;for(let r=0;r<n;r++){if(!t)return null;if(t instanceof HTMLElement&&t.dataset.sentryComponent)return t.dataset.sentryComponent;t=t.parentNode}return null}const Jo=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,eE="Sentry Logger ",xh=["debug","info","warn","error","log","assert","trace"],Zl={};function eu(e){if(!("console"in Fe))return e();const t=Fe.console,n={},r=Object.keys(Zl);r.forEach(i=>{const s=Zl[i];n[i]=t[i],t[i]=s});try{return e()}finally{r.forEach(i=>{t[i]=n[i]})}}function tE(){let e=!1;const t={enable:()=>{e=!0},disable:()=>{e=!1},isEnabled:()=>e};return Jo?xh.forEach(n=>{t[n]=(...r)=>{e&&eu(()=>{Fe.console[n](`${eE}[${n}]:`,...r)})}}):xh.forEach(n=>{t[n]=()=>{}}),t}const _e=tE(),nE=/^(?:(\w+):)\/\/(?:(\w+)(?::(\w+)?)?@)([\w.-]+)(?::(\d+))?\/(.+)/;function rE(e){return e==="http"||e==="https"}function Zo(e,t=!1){const{host:n,path:r,pass:i,port:s,projectId:h,protocol:a,publicKey:o}=e;return`${a}://${o}${t&&i?`:${i}`:""}@${n}${s?`:${s}`:""}/${r&&`${r}/`}${h}`}function iE(e){const t=nE.exec(e);if(!t){eu(()=>{console.error(`Invalid Sentry Dsn: ${e}`)});return}const[n,r,i="",s,h="",a]=t.slice(1);let o="",u=a;const d=u.split("/");if(d.length>1&&(o=d.slice(0,-1).join("/"),u=d.pop()),u){const l=u.match(/^\d+/);l&&(u=l[0])}return vv({host:s,pass:i,path:o,projectId:u,port:h,protocol:n,publicKey:r})}function vv(e){return{protocol:e.protocol,publicKey:e.publicKey||"",pass:e.pass||"",host:e.host,port:e.port||"",path:e.path||"",projectId:e.projectId}}function sE(e){if(!Jo)return!0;const{port:t,projectId:n,protocol:r}=e;return["protocol","publicKey","host","projectId"].find(h=>e[h]?!1:(_e.error(`Invalid Sentry Dsn: ${h} missing`),!0))?!1:n.match(/^\d+$/)?rE(r)?t&&isNaN(parseInt(t,10))?(_e.error(`Invalid Sentry Dsn: Invalid port ${t}`),!1):!0:(_e.error(`Invalid Sentry Dsn: Invalid protocol ${r}`),!1):(_e.error(`Invalid Sentry Dsn: Invalid projectId ${n}`),!1)}function oE(e){const t=typeof e=="string"?iE(e):vv(e);if(!(!t||!sE(t)))return t}class Xn extends Error{constructor(t,n="warn"){super(t),this.message=t,this.name=new.target.prototype.constructor.name,Object.setPrototypeOf(this,new.target.prototype),this.logLevel=n}}function yt(e,t,n){if(!(t in e))return;const r=e[t],i=n(r);typeof i=="function"&&yv(i,r),e[t]=i}function ea(e,t,n){try{Object.defineProperty(e,t,{value:n,writable:!0,configurable:!0})}catch{Jo&&_e.log(`Failed to add non-enumerable property "${t}" to object`,e)}}function yv(e,t){try{const n=t.prototype||{};e.prototype=t.prototype=n,ea(e,"__sentry_original__",t)}catch{}}function Ch(e){return e.__sentry_original__}function aE(e){return Object.keys(e).map(t=>`${encodeURIComponent(t)}=${encodeURIComponent(e[t])}`).join("&")}function bv(e){if(uv(e))return{message:e.message,name:e.name,stack:e.stack,...xv(e)};if(Kl(e)){const t={type:e.type,target:wv(e.target),currentTarget:wv(e.currentTarget),...xv(e)};return typeof CustomEvent<"u"&&Pi(e,CustomEvent)&&(t.detail=e.detail),t}else return e}function wv(e){try{return H5(e)?mv(e):Object.prototype.toString.call(e)}catch{return"<unknown>"}}function xv(e){if(typeof e=="object"&&e!==null){const t={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t}else return{}}function lE(e,t=40){const n=Object.keys(bv(e));if(n.sort(),!n.length)return"[object has no keys]";if(n[0].length>=t)return Ds(n[0],t);for(let r=n.length;r>0;r--){const i=n.slice(0,r).join(", ");if(!(i.length>t))return r===n.length?i:Ds(i,t)}return""}function lr(e){return Sh(e,new Map)}function Sh(e,t){if(uE(e)){const n=t.get(e);if(n!==void 0)return n;const r={};t.set(e,r);for(const i of Object.keys(e))typeof e[i]<"u"&&(r[i]=Sh(e[i],t));return r}if(Array.isArray(e)){const n=t.get(e);if(n!==void 0)return n;const r=[];return t.set(e,r),e.forEach(i=>{r.push(Sh(i,t))}),r}return e}function uE(e){if(!Ps(e))return!1;try{const t=Object.getPrototypeOf(e).constructor.name;return!t||t==="Object"}catch{return!0}}const Cv=50,Sv=/\(error: (.*)\)/,_v=/captureMessage|captureException/;function Ev(...e){const t=e.sort((n,r)=>n[0]-r[0]).map(n=>n[1]);return(n,r=0)=>{const i=[],s=n.split(`
`);for(let h=r;h<s.length;h++){const a=s[h];if(a.length>1024)continue;const o=Sv.test(a)?a.replace(Sv,"$1"):a;if(!o.match(/\S*Error: /)){for(const u of t){const d=u(o);if(d){i.push(d);break}}if(i.length>=Cv)break}}return fE(i)}}function cE(e){return Array.isArray(e)?Ev(...e):e}function fE(e){if(!e.length)return[];const t=Array.from(e);return/sentryWrapped/.test(t[t.length-1].function||"")&&t.pop(),t.reverse(),_v.test(t[t.length-1].function||"")&&(t.pop(),_v.test(t[t.length-1].function||"")&&t.pop()),t.slice(0,Cv).map(n=>({...n,filename:n.filename||t[t.length-1].filename,function:n.function||"?"}))}const _h="<anonymous>";function Ir(e){try{return!e||typeof e!="function"?_h:e.name||_h}catch{return _h}}const tu={},kv={};function Di(e,t){tu[e]=tu[e]||[],tu[e].push(t)}function Ai(e,t){kv[e]||(t(),kv[e]=!0)}function Dn(e,t){const n=e&&tu[e];if(n)for(const r of n)try{r(t)}catch(i){Jo&&_e.error(`Error while triggering instrumentation handler.
Type: ${e}
Name: ${Ir(r)}
Error:`,i)}}function hE(e){const t="console";Di(t,e),Ai(t,dE)}function dE(){"console"in Fe&&xh.forEach(function(e){e in Fe.console&&yt(Fe.console,e,function(t){return Zl[e]=t,function(...n){Dn("console",{args:n,level:e});const i=Zl[e];i&&i.apply(Fe.console,n)}})})}function vn(){const e=Fe,t=e.crypto||e.msCrypto;let n=()=>Math.random()*16;try{if(t&&t.randomUUID)return t.randomUUID().replace(/-/g,"");t&&t.getRandomValues&&(n=()=>{const r=new Uint8Array(1);return t.getRandomValues(r),r[0]})}catch{}return([1e7]+1e3+4e3+8e3+1e11).replace(/[018]/g,r=>(r^(n()&15)>>r/4).toString(16))}function Tv(e){return e.exception&&e.exception.values?e.exception.values[0]:void 0}function Lr(e){const{message:t,event_id:n}=e;if(t)return t;const r=Tv(e);return r?r.type&&r.value?`${r.type}: ${r.value}`:r.type||r.value||n||"<unknown>":n||"<unknown>"}function Eh(e,t,n){const r=e.exception=e.exception||{},i=r.values=r.values||[],s=i[0]=i[0]||{};s.value||(s.value=t||""),s.type||(s.type=n||"Error")}function ta(e,t){const n=Tv(e);if(!n)return;const r={type:"generic",handled:!0},i=n.mechanism;if(n.mechanism={...r,...i,...t},t&&"data"in t){const s={...i&&i.data,...t.data};n.mechanism.data=s}}function Ov(e){if(e&&e.__sentry_captured__)return!0;try{ea(e,"__sentry_captured__",!0)}catch{}return!1}function Pv(e){return Array.isArray(e)?e:[e]}const As=Fe,pE=1e3;let Dv,kh,Th;function gE(e){const t="dom";Di(t,e),Ai(t,mE)}function mE(){if(!As.document)return;const e=Dn.bind(null,"dom"),t=Av(e,!0);As.document.addEventListener("click",t,!1),As.document.addEventListener("keypress",t,!1),["EventTarget","Node"].forEach(n=>{const r=As[n]&&As[n].prototype;!r||!r.hasOwnProperty||!r.hasOwnProperty("addEventListener")||(yt(r,"addEventListener",function(i){return function(s,h,a){if(s==="click"||s=="keypress")try{const o=this,u=o.__sentry_instrumentation_handlers__=o.__sentry_instrumentation_handlers__||{},d=u[s]=u[s]||{refCount:0};if(!d.handler){const l=Av(e);d.handler=l,i.call(this,s,l,a)}d.refCount++}catch{}return i.call(this,s,h,a)}}),yt(r,"removeEventListener",function(i){return function(s,h,a){if(s==="click"||s=="keypress")try{const o=this,u=o.__sentry_instrumentation_handlers__||{},d=u[s];d&&(d.refCount--,d.refCount<=0&&(i.call(this,s,d.handler,a),d.handler=void 0,delete u[s]),Object.keys(u).length===0&&delete o.__sentry_instrumentation_handlers__)}catch{}return i.call(this,s,h,a)}}))})}function vE(e){if(e.type!==kh)return!1;try{if(!e.target||e.target._sentryId!==Th)return!1}catch{}return!0}function yE(e,t){return e!=="keypress"?!1:!t||!t.tagName?!0:!(t.tagName==="INPUT"||t.tagName==="TEXTAREA"||t.isContentEditable)}function Av(e,t=!1){return n=>{if(!n||n._sentryCaptured)return;const r=bE(n);if(yE(n.type,r))return;ea(n,"_sentryCaptured",!0),r&&!r._sentryId&&ea(r,"_sentryId",vn());const i=n.type==="keypress"?"input":n.type;vE(n)||(e({event:n,name:i,global:t}),kh=n.type,Th=r?r._sentryId:void 0),clearTimeout(Dv),Dv=As.setTimeout(()=>{Th=void 0,kh=void 0},pE)}}function bE(e){try{return e.target}catch{return null}}const Oh=bh();function Mv(){if(!("fetch"in Oh))return!1;try{return new Headers,new Request("http://www.example.com"),new Response,!0}catch{return!1}}function Ph(e){return e&&/^function fetch\(\)\s+\{\s+\[native code\]\s+\}$/.test(e.toString())}function wE(){if(typeof EdgeRuntime=="string")return!0;if(!Mv())return!1;if(Ph(Oh.fetch))return!0;let e=!1;const t=Oh.document;if(t&&typeof t.createElement=="function")try{const n=t.createElement("iframe");n.hidden=!0,t.head.appendChild(n),n.contentWindow&&n.contentWindow.fetch&&(e=Ph(n.contentWindow.fetch)),t.head.removeChild(n)}catch(n){Jo&&_e.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return e}function xE(e){const t="fetch";Di(t,e),Ai(t,CE)}function CE(){wE()&&yt(Fe,"fetch",function(e){return function(...t){const{method:n,url:r}=SE(t),i={args:t,fetchData:{method:n,url:r},startTimestamp:Date.now()};return Dn("fetch",{...i}),e.apply(Fe,t).then(s=>{const h={...i,endTimestamp:Date.now(),response:s};return Dn("fetch",h),s},s=>{const h={...i,endTimestamp:Date.now(),error:s};throw Dn("fetch",h),s})}})}function Dh(e,t){return!!e&&typeof e=="object"&&!!e[t]}function jv(e){return typeof e=="string"?e:e?Dh(e,"url")?e.url:e.toString?e.toString():"":""}function SE(e){if(e.length===0)return{method:"GET",url:""};if(e.length===2){const[n,r]=e;return{url:jv(n),method:Dh(r,"method")?String(r.method).toUpperCase():"GET"}}const t=e[0];return{url:jv(t),method:Dh(t,"method")?String(t.method).toUpperCase():"GET"}}let nu=null;function _E(e){const t="error";Di(t,e),Ai(t,EE)}function EE(){nu=Fe.onerror,Fe.onerror=function(e,t,n,r,i){return Dn("error",{column:r,error:i,line:n,msg:e,url:t}),nu&&!nu.__SENTRY_LOADER__?nu.apply(this,arguments):!1},Fe.onerror.__SENTRY_INSTRUMENTED__=!0}let ru=null;function kE(e){const t="unhandledrejection";Di(t,e),Ai(t,TE)}function TE(){ru=Fe.onunhandledrejection,Fe.onunhandledrejection=function(e){return Dn("unhandledrejection",e),ru&&!ru.__SENTRY_LOADER__?ru.apply(this,arguments):!0},Fe.onunhandledrejection.__SENTRY_INSTRUMENTED__=!0}const iu=bh();function OE(){const e=iu.chrome,t=e&&e.app&&e.app.runtime,n="history"in iu&&!!iu.history.pushState&&!!iu.history.replaceState;return!t&&n}const na=Fe;let su;function Rv(e){const t="history";Di(t,e),Ai(t,PE)}function PE(){if(!OE())return;const e=na.onpopstate;na.onpopstate=function(...n){const r=na.location.href,i=su;if(su=r,Dn("history",{from:i,to:r}),e)try{return e.apply(this,n)}catch{}};function t(n){return function(...r){const i=r.length>2?r[2]:void 0;if(i){const s=su,h=String(i);su=h,Dn("history",{from:s,to:h})}return n.apply(this,r)}}yt(na.history,"pushState",t),yt(na.history,"replaceState",t)}const DE=Fe,ra="__sentry_xhr_v3__";function AE(e){const t="xhr";Di(t,e),Ai(t,ME)}function ME(){if(!DE.XMLHttpRequest)return;const e=XMLHttpRequest.prototype;yt(e,"open",function(t){return function(...n){const r=Date.now(),i=ar(n[0])?n[0].toUpperCase():void 0,s=jE(n[1]);if(!i||!s)return t.apply(this,n);this[ra]={method:i,url:s,request_headers:{}},i==="POST"&&s.match(/sentry_key/)&&(this.__sentry_own_request__=!0);const h=()=>{const a=this[ra];if(a&&this.readyState===4){try{a.status_code=this.status}catch{}const o={args:[i,s],endTimestamp:Date.now(),startTimestamp:r,xhr:this};Dn("xhr",o)}};return"onreadystatechange"in this&&typeof this.onreadystatechange=="function"?yt(this,"onreadystatechange",function(a){return function(...o){return h(),a.apply(this,o)}}):this.addEventListener("readystatechange",h),yt(this,"setRequestHeader",function(a){return function(...o){const[u,d]=o,l=this[ra];return l&&ar(u)&&ar(d)&&(l.request_headers[u.toLowerCase()]=d),a.apply(this,o)}}),t.apply(this,n)}}),yt(e,"send",function(t){return function(...n){const r=this[ra];if(!r)return t.apply(this,n);n[0]!==void 0&&(r.body=n[0]);const i={args:[r.method,r.url],startTimestamp:Date.now(),xhr:this};return Dn("xhr",i),t.apply(this,n)}})}function jE(e){if(ar(e))return e;try{return e.toString()}catch{}}function RE(){return"npm"}function FE(){const e=typeof WeakSet=="function",t=e?new WeakSet:[];function n(i){if(e)return t.has(i)?!0:(t.add(i),!1);for(let s=0;s<t.length;s++)if(t[s]===i)return!0;return t.push(i),!1}function r(i){if(e)t.delete(i);else for(let s=0;s<t.length;s++)if(t[s]===i){t.splice(s,1);break}}return[n,r]}function zr(e,t=100,n=1/0){try{return Ah("",e,t,n)}catch(r){return{ERROR:`**non-serializable** (${r})`}}}function Fv(e,t=3,n=100*1024){const r=zr(e,t);return BE(r)>n?Fv(e,t-1,n):r}function Ah(e,t,n=1/0,r=1/0,i=FE()){const[s,h]=i;if(t==null||["number","boolean","string"].includes(typeof t)&&!X5(t))return t;const a=IE(e,t);if(!a.startsWith("[object "))return a;if(t.__sentry_skip_normalization__)return t;const o=typeof t.__sentry_override_normalization_depth__=="number"?t.__sentry_override_normalization_depth__:n;if(o===0)return a.replace("object ","");if(s(t))return"[Circular ~]";const u=t;if(u&&typeof u.toJSON=="function")try{const f=u.toJSON();return Ah("",f,o-1,r,i)}catch{}const d=Array.isArray(t)?[]:{};let l=0;const c=bv(t);for(const f in c){if(!Object.prototype.hasOwnProperty.call(c,f))continue;if(l>=r){d[f]="[MaxProperties ~]";break}const p=c[f];d[f]=Ah(f,p,o-1,r,i),l++}return h(t),d}function IE(e,t){try{if(e==="domain"&&t&&typeof t=="object"&&t._events)return"[Domain]";if(e==="domainEmitter")return"[DomainEmitter]";if(typeof global<"u"&&t===global)return"[Global]";if(typeof window<"u"&&t===window)return"[Window]";if(typeof document<"u"&&t===document)return"[Document]";if(fv(t))return"[VueViewModel]";if(W5(t))return"[SyntheticEvent]";if(typeof t=="number"&&t!==t)return"[NaN]";if(typeof t=="function")return`[Function: ${Ir(t)}]`;if(typeof t=="symbol")return`[${String(t)}]`;if(typeof t=="bigint")return`[BigInt: ${String(t)}]`;const n=LE(t);return/^HTML(\w*)Element$/.test(n)?`[HTMLElement: ${n}]`:`[object ${n}]`}catch(n){return`**non-serializable** (${n})`}}function LE(e){const t=Object.getPrototypeOf(e);return t?t.constructor.name:"null prototype"}function zE(e){return~-encodeURI(e).split(/%..|./).length}function BE(e){return zE(JSON.stringify(e))}var ur;(function(e){e[e.PENDING=0]="PENDING";const n=1;e[e.RESOLVED=n]="RESOLVED";const r=2;e[e.REJECTED=r]="REJECTED"})(ur||(ur={}));function Ms(e){return new Jt(t=>{t(e)})}function Mh(e){return new Jt((t,n)=>{n(e)})}class Jt{constructor(t){Jt.prototype.__init.call(this),Jt.prototype.__init2.call(this),Jt.prototype.__init3.call(this),Jt.prototype.__init4.call(this),this._state=ur.PENDING,this._handlers=[];try{t(this._resolve,this._reject)}catch(n){this._reject(n)}}then(t,n){return new Jt((r,i)=>{this._handlers.push([!1,s=>{if(!t)r(s);else try{r(t(s))}catch(h){i(h)}},s=>{if(!n)i(s);else try{r(n(s))}catch(h){i(h)}}]),this._executeHandlers()})}catch(t){return this.then(n=>n,t)}finally(t){return new Jt((n,r)=>{let i,s;return this.then(h=>{s=!1,i=h,t&&t()},h=>{s=!0,i=h,t&&t()}).then(()=>{if(s){r(i);return}n(i)})})}__init(){this._resolve=t=>{this._setResult(ur.RESOLVED,t)}}__init2(){this._reject=t=>{this._setResult(ur.REJECTED,t)}}__init3(){this._setResult=(t,n)=>{if(this._state===ur.PENDING){if(ql(n)){n.then(this._resolve,this._reject);return}this._state=t,this._value=n,this._executeHandlers()}}}__init4(){this._executeHandlers=()=>{if(this._state===ur.PENDING)return;const t=this._handlers.slice();this._handlers=[],t.forEach(n=>{n[0]||(this._state===ur.RESOLVED&&n[1](this._value),this._state===ur.REJECTED&&n[2](this._value),n[0]=!0)})}}}function NE(e){const t=[];function n(){return e===void 0||t.length<e}function r(h){return t.splice(t.indexOf(h),1)[0]}function i(h){if(!n())return Mh(new Xn("Not adding Promise because buffer limit was reached."));const a=h();return t.indexOf(a)===-1&&t.push(a),a.then(()=>r(a)).then(null,()=>r(a).then(null,()=>{})),a}function s(h){return new Jt((a,o)=>{let u=t.length;if(!u)return a(!0);const d=setTimeout(()=>{h&&h>0&&a(!1)},h);t.forEach(l=>{Ms(l).then(()=>{--u||(clearTimeout(d),a(!0))},o)})})}return{$:t,add:i,drain:s}}function jh(e){if(!e)return{};const t=e.match(/^(([^:/?#]+):)?(\/\/([^/?#]*))?([^?#]*)(\?([^#]*))?(#(.*))?$/);if(!t)return{};const n=t[6]||"",r=t[8]||"";return{host:t[4],path:t[5],protocol:t[2],search:n,hash:r,relative:t[5]+n+r}}const $E=["fatal","error","warning","log","info","debug"];function VE(e){return e==="warn"?"warning":$E.includes(e)?e:"log"}const Iv=1e3;function ia(){return Date.now()/Iv}function HE(){const{performance:e}=Fe;if(!e||!e.now)return ia;const t=Date.now()-e.now(),n=e.timeOrigin==null?t:e.timeOrigin;return()=>(n+e.now())/Iv}const Lv=HE();(()=>{const{performance:e}=Fe;if(!e||!e.now)return;const t=3600*1e3,n=e.now(),r=Date.now(),i=e.timeOrigin?Math.abs(e.timeOrigin+n-r):t,s=i<t,h=e.timing&&e.timing.navigationStart,o=typeof h=="number"?Math.abs(h+n-r):t,u=o<t;return s||u?i<=o?e.timeOrigin:h:r})();function js(e,t=[]){return[e,t]}function UE(e,t){const[n,r]=e;return[n,[...r,t]]}function zv(e,t){const n=e[1];for(const r of n){const i=r[0].type;if(t(r,i))return!0}return!1}function Rh(e,t){return(t||new TextEncoder).encode(e)}function WE(e,t){const[n,r]=e;let i=JSON.stringify(n);function s(h){typeof i=="string"?i=typeof h=="string"?i+h:[Rh(i,t),h]:i.push(typeof h=="string"?Rh(h,t):h)}for(const h of r){const[a,o]=h;if(s(`
${JSON.stringify(a)}
`),typeof o=="string"||o instanceof Uint8Array)s(o);else{let u;try{u=JSON.stringify(o)}catch{u=JSON.stringify(zr(o))}s(u)}}return typeof i=="string"?i:XE(i)}function XE(e){const t=e.reduce((i,s)=>i+s.length,0),n=new Uint8Array(t);let r=0;for(const i of e)n.set(i,r),r+=i.length;return n}function YE(e,t){const n=typeof e.data=="string"?Rh(e.data,t):e.data;return[lr({type:"attachment",length:n.length,filename:e.filename,content_type:e.contentType,attachment_type:e.attachmentType}),n]}const GE={session:"session",sessions:"session",attachment:"attachment",transaction:"transaction",event:"error",client_report:"internal",user_report:"default",profile:"profile",replay_event:"replay",replay_recording:"replay",check_in:"monitor",feedback:"feedback",span:"span",statsd:"metric_bucket"};function Bv(e){return GE[e]}function Nv(e){if(!e||!e.sdk)return;const{name:t,version:n}=e.sdk;return{name:t,version:n}}function KE(e,t,n,r){const i=e.sdkProcessingMetadata&&e.sdkProcessingMetadata.dynamicSamplingContext;return{event_id:e.event_id,sent_at:new Date().toISOString(),...t&&{sdk:t},...!!n&&r&&{dsn:Zo(r)},...i&&{trace:lr({...i})}}}function qE(e,t,n){const r=[{type:"client_report"},{timestamp:n||ia(),discarded_events:e}];return js(t?{dsn:t}:{},[r])}const QE=60*1e3;function JE(e,t=Date.now()){const n=parseInt(`${e}`,10);if(!isNaN(n))return n*1e3;const r=Date.parse(`${e}`);return isNaN(r)?QE:r-t}function ZE(e,t){return e[t]||e.all||0}function ek(e,t,n=Date.now()){return ZE(e,t)>n}function tk(e,{statusCode:t,headers:n},r=Date.now()){const i={...e},s=n&&n["x-sentry-rate-limits"],h=n&&n["retry-after"];if(s)for(const a of s.trim().split(",")){const[o,u,,,d]=a.split(":",5),l=parseInt(o,10),c=(isNaN(l)?60:l)*1e3;if(!u)i.all=r+c;else for(const f of u.split(";"))f==="metric_bucket"?(!d||d.split(";").includes("custom"))&&(i[f]=r+c):i[f]=r+c}else h?i.all=r+JE(h,r):t===429&&(i.all=r+60*1e3);return i}const Ve=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__,ou="production";function Fh(){return gv("globalEventProcessors",()=>[])}function nk(e){Fh().push(e)}function au(e,t,n,r=0){return new Jt((i,s)=>{const h=e[r];if(t===null||typeof h!="function")i(t);else{const a=h({...t},n);Ve&&h.id&&a===null&&_e.log(`Event processor "${h.id}" dropped event`),ql(a)?a.then(o=>au(e,o,n,r+1).then(i)).then(null,s):au(e,a,n,r+1).then(i).then(null,s)}})}function $v(e){const t=Lv(),n={sid:vn(),init:!0,timestamp:t,started:t,duration:0,status:"ok",errors:0,ignoreDuration:!1,toJSON:()=>rk(n)};return e&&Mi(n,e),n}function Mi(e,t={}){if(t.user&&(!e.ipAddress&&t.user.ip_address&&(e.ipAddress=t.user.ip_address),!e.did&&!t.did&&(e.did=t.user.id||t.user.email||t.user.username)),e.timestamp=t.timestamp||Lv(),t.abnormal_mechanism&&(e.abnormal_mechanism=t.abnormal_mechanism),t.ignoreDuration&&(e.ignoreDuration=t.ignoreDuration),t.sid&&(e.sid=t.sid.length===32?t.sid:vn()),t.init!==void 0&&(e.init=t.init),!e.did&&t.did&&(e.did=`${t.did}`),typeof t.started=="number"&&(e.started=t.started),e.ignoreDuration)e.duration=void 0;else if(typeof t.duration=="number")e.duration=t.duration;else{const n=e.timestamp-e.started;e.duration=n>=0?n:0}t.release&&(e.release=t.release),t.environment&&(e.environment=t.environment),!e.ipAddress&&t.ipAddress&&(e.ipAddress=t.ipAddress),!e.userAgent&&t.userAgent&&(e.userAgent=t.userAgent),typeof t.errors=="number"&&(e.errors=t.errors),t.status&&(e.status=t.status)}function Vv(e,t){let n={};t?n={status:t}:e.status==="ok"&&(n={status:"exited"}),Mi(e,n)}function rk(e){return lr({sid:`${e.sid}`,init:e.init,started:new Date(e.started*1e3).toISOString(),timestamp:new Date(e.timestamp*1e3).toISOString(),status:e.status,errors:e.errors,did:typeof e.did=="number"||typeof e.did=="string"?`${e.did}`:void 0,duration:e.duration,abnormal_mechanism:e.abnormal_mechanism,attrs:{release:e.release,environment:e.environment,ip_address:e.ipAddress,user_agent:e.userAgent}})}const ik=1;function sk(e){const{spanId:t,traceId:n}=e.spanContext(),{data:r,op:i,parent_span_id:s,status:h,tags:a,origin:o}=sa(e);return lr({data:r,op:i,parent_span_id:s,span_id:t,status:h,tags:a,trace_id:n,origin:o})}function sa(e){return ok(e)?e.getSpanJSON():typeof e.toJSON=="function"?e.toJSON():{}}function ok(e){return typeof e.getSpanJSON=="function"}function ak(e){const{traceFlags:t}=e.spanContext();return!!(t&ik)}function lk(e,t,n,r,i,s){const{normalizeDepth:h=3,normalizeMaxBreadth:a=1e3}=e,o={...t,event_id:t.event_id||n.event_id||vn(),timestamp:t.timestamp||ia()},u=n.integrations||e.integrations.map(g=>g.name);uk(o,e),hk(o,u),t.type===void 0&&ck(o,e.stackParser);const d=pk(r,n.captureContext);n.mechanism&&ta(o,n.mechanism);const l=i&&i.getEventProcessors?i.getEventProcessors():[],c=Ok().getScopeData();if(s){const g=s.getScopeData();Jv(c,g)}if(d){const g=d.getScopeData();Jv(c,g)}const f=[...n.attachments||[],...c.attachments];f.length&&(n.attachments=f),Qv(o,c);const p=[...l,...Fh(),...c.eventProcessors];return au(p,o,n).then(g=>(g&&fk(g),typeof h=="number"&&h>0?dk(g,h,a):g))}function uk(e,t){const{environment:n,release:r,dist:i,maxValueLength:s=250}=t;"environment"in e||(e.environment="environment"in t?n:ou),e.release===void 0&&r!==void 0&&(e.release=r),e.dist===void 0&&i!==void 0&&(e.dist=i),e.message&&(e.message=Ds(e.message,s));const h=e.exception&&e.exception.values&&e.exception.values[0];h&&h.value&&(h.value=Ds(h.value,s));const a=e.request;a&&a.url&&(a.url=Ds(a.url,s))}const Hv=new WeakMap;function ck(e,t){const n=Fe._sentryDebugIds;if(!n)return;let r;const i=Hv.get(t);i?r=i:(r=new Map,Hv.set(t,r));const s=Object.keys(n).reduce((h,a)=>{let o;const u=r.get(a);u?o=u:(o=t(a),r.set(a,o));for(let d=o.length-1;d>=0;d--){const l=o[d];if(l.filename){h[l.filename]=n[a];break}}return h},{});try{e.exception.values.forEach(h=>{h.stacktrace.frames.forEach(a=>{a.filename&&(a.debug_id=s[a.filename])})})}catch{}}function fk(e){const t={};try{e.exception.values.forEach(r=>{r.stacktrace.frames.forEach(i=>{i.debug_id&&(i.abs_path?t[i.abs_path]=i.debug_id:i.filename&&(t[i.filename]=i.debug_id),delete i.debug_id)})})}catch{}if(Object.keys(t).length===0)return;e.debug_meta=e.debug_meta||{},e.debug_meta.images=e.debug_meta.images||[];const n=e.debug_meta.images;Object.keys(t).forEach(r=>{n.push({type:"sourcemap",code_file:r,debug_id:t[r]})})}function hk(e,t){t.length>0&&(e.sdk=e.sdk||{},e.sdk.integrations=[...e.sdk.integrations||[],...t])}function dk(e,t,n){if(!e)return null;const r={...e,...e.breadcrumbs&&{breadcrumbs:e.breadcrumbs.map(i=>({...i,...i.data&&{data:zr(i.data,t,n)}}))},...e.user&&{user:zr(e.user,t,n)},...e.contexts&&{contexts:zr(e.contexts,t,n)},...e.extra&&{extra:zr(e.extra,t,n)}};return e.contexts&&e.contexts.trace&&r.contexts&&(r.contexts.trace=e.contexts.trace,e.contexts.trace.data&&(r.contexts.trace.data=zr(e.contexts.trace.data,t,n))),e.spans&&(r.spans=e.spans.map(i=>{const s=sa(i).data;return s&&(i.data=zr(s,t,n)),i})),r}function pk(e,t){if(!t)return e;const n=e?e.clone():new cr;return n.update(t),n}function gk(e){if(e)return mk(e)?{captureContext:e}:yk(e)?{captureContext:e}:e}function mk(e){return e instanceof cr||typeof e=="function"}const vk=["user","level","extra","contexts","tags","fingerprint","requestSession","propagationContext"];function yk(e){return Object.keys(e).some(t=>vk.includes(t))}function bk(e,t){return fr().captureException(e,gk(t))}function Uv(e,t){return fr().captureEvent(e,t)}function ji(e,t){fr().addBreadcrumb(e,t)}function wk(...e){const t=fr();if(e.length===2){const[n,r]=e;return n?t.withScope(()=>(t.getStackTop().scope=n,r(n))):t.withScope(r)}return t.withScope(e[0])}function Wt(){return fr().getClient()}function oa(){return fr().getScope()}function Wv(e){const t=Wt(),n=uu(),r=oa(),{release:i,environment:s=ou}=t&&t.getOptions()||{},{userAgent:h}=Fe.navigator||{},a=$v({release:i,environment:s,user:r.getUser()||n.getUser(),...h&&{userAgent:h},...e}),o=n.getSession();return o&&o.status==="ok"&&Mi(o,{status:"exited"}),Xv(),n.setSession(a),r.setSession(a),a}function Xv(){const e=uu(),t=oa(),n=t.getSession()||e.getSession();n&&Vv(n),Yv(),e.setSession(),t.setSession()}function Yv(){const e=uu(),t=oa(),n=Wt(),r=t.getSession()||e.getSession();r&&n&&n.captureSession&&n.captureSession(r)}function Gv(e=!1){if(e){Xv();return}Yv()}function Kv(e){return e.transaction}function qv(e,t,n){const r=t.getOptions(),{publicKey:i}=t.getDsn()||{},{segment:s}=n&&n.getUser()||{},h=lr({environment:r.environment||ou,release:r.release,user_segment:s,public_key:i,trace_id:e});return t.emit&&t.emit("createDsc",h),h}function xk(e){const t=Wt();if(!t)return{};const n=qv(sa(e).trace_id||"",t,oa()),r=Kv(e);if(!r)return n;const i=r&&r._frozenDynamicSamplingContext;if(i)return i;const{sampleRate:s,source:h}=r.metadata;s!=null&&(n.sample_rate=`${s}`);const a=sa(r);return h&&h!=="url"&&(n.transaction=a.description),n.sampled=String(ak(r)),t.emit&&t.emit("createDsc",n),n}function Qv(e,t){const{fingerprint:n,span:r,breadcrumbs:i,sdkProcessingMetadata:s}=t;Ck(e,t),r&&Ek(e,r),kk(e,n),Sk(e,i),_k(e,s)}function Jv(e,t){const{extra:n,tags:r,user:i,contexts:s,level:h,sdkProcessingMetadata:a,breadcrumbs:o,fingerprint:u,eventProcessors:d,attachments:l,propagationContext:c,transactionName:f,span:p}=t;aa(e,"extra",n),aa(e,"tags",r),aa(e,"user",i),aa(e,"contexts",s),aa(e,"sdkProcessingMetadata",a),h&&(e.level=h),f&&(e.transactionName=f),p&&(e.span=p),o.length&&(e.breadcrumbs=[...e.breadcrumbs,...o]),u.length&&(e.fingerprint=[...e.fingerprint,...u]),d.length&&(e.eventProcessors=[...e.eventProcessors,...d]),l.length&&(e.attachments=[...e.attachments,...l]),e.propagationContext={...e.propagationContext,...c}}function aa(e,t,n){if(n&&Object.keys(n).length){e[t]={...e[t]};for(const r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[t][r]=n[r])}}function Ck(e,t){const{extra:n,tags:r,user:i,contexts:s,level:h,transactionName:a}=t,o=lr(n);o&&Object.keys(o).length&&(e.extra={...o,...e.extra});const u=lr(r);u&&Object.keys(u).length&&(e.tags={...u,...e.tags});const d=lr(i);d&&Object.keys(d).length&&(e.user={...d,...e.user});const l=lr(s);l&&Object.keys(l).length&&(e.contexts={...l,...e.contexts}),h&&(e.level=h),a&&(e.transaction=a)}function Sk(e,t){const n=[...e.breadcrumbs||[],...t];e.breadcrumbs=n.length?n:void 0}function _k(e,t){e.sdkProcessingMetadata={...e.sdkProcessingMetadata,...t}}function Ek(e,t){e.contexts={trace:sk(t),...e.contexts};const n=Kv(t);if(n){e.sdkProcessingMetadata={dynamicSamplingContext:xk(t),...e.sdkProcessingMetadata};const r=sa(n).description;r&&(e.tags={transaction:r,...e.tags})}}function kk(e,t){e.fingerprint=e.fingerprint?Pv(e.fingerprint):[],t&&(e.fingerprint=e.fingerprint.concat(t)),e.fingerprint&&!e.fingerprint.length&&delete e.fingerprint}const Tk=100;let Ih;class cr{constructor(){this._notifyingListeners=!1,this._scopeListeners=[],this._eventProcessors=[],this._breadcrumbs=[],this._attachments=[],this._user={},this._tags={},this._extra={},this._contexts={},this._sdkProcessingMetadata={},this._propagationContext=Zv()}static clone(t){return t?t.clone():new cr}clone(){const t=new cr;return t._breadcrumbs=[...this._breadcrumbs],t._tags={...this._tags},t._extra={...this._extra},t._contexts={...this._contexts},t._user=this._user,t._level=this._level,t._span=this._span,t._session=this._session,t._transactionName=this._transactionName,t._fingerprint=this._fingerprint,t._eventProcessors=[...this._eventProcessors],t._requestSession=this._requestSession,t._attachments=[...this._attachments],t._sdkProcessingMetadata={...this._sdkProcessingMetadata},t._propagationContext={...this._propagationContext},t._client=this._client,t}setClient(t){this._client=t}getClient(){return this._client}addScopeListener(t){this._scopeListeners.push(t)}addEventProcessor(t){return this._eventProcessors.push(t),this}setUser(t){return this._user=t||{email:void 0,id:void 0,ip_address:void 0,segment:void 0,username:void 0},this._session&&Mi(this._session,{user:t}),this._notifyScopeListeners(),this}getUser(){return this._user}getRequestSession(){return this._requestSession}setRequestSession(t){return this._requestSession=t,this}setTags(t){return this._tags={...this._tags,...t},this._notifyScopeListeners(),this}setTag(t,n){return this._tags={...this._tags,[t]:n},this._notifyScopeListeners(),this}setExtras(t){return this._extra={...this._extra,...t},this._notifyScopeListeners(),this}setExtra(t,n){return this._extra={...this._extra,[t]:n},this._notifyScopeListeners(),this}setFingerprint(t){return this._fingerprint=t,this._notifyScopeListeners(),this}setLevel(t){return this._level=t,this._notifyScopeListeners(),this}setTransactionName(t){return this._transactionName=t,this._notifyScopeListeners(),this}setContext(t,n){return n===null?delete this._contexts[t]:this._contexts[t]=n,this._notifyScopeListeners(),this}setSpan(t){return this._span=t,this._notifyScopeListeners(),this}getSpan(){return this._span}getTransaction(){const t=this._span;return t&&t.transaction}setSession(t){return t?this._session=t:delete this._session,this._notifyScopeListeners(),this}getSession(){return this._session}update(t){if(!t)return this;const n=typeof t=="function"?t(this):t;if(n instanceof cr){const r=n.getScopeData();this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&Object.keys(r.user).length&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint.length&&(this._fingerprint=r.fingerprint),n.getRequestSession()&&(this._requestSession=n.getRequestSession()),r.propagationContext&&(this._propagationContext=r.propagationContext)}else if(Ps(n)){const r=t;this._tags={...this._tags,...r.tags},this._extra={...this._extra,...r.extra},this._contexts={...this._contexts,...r.contexts},r.user&&(this._user=r.user),r.level&&(this._level=r.level),r.fingerprint&&(this._fingerprint=r.fingerprint),r.requestSession&&(this._requestSession=r.requestSession),r.propagationContext&&(this._propagationContext=r.propagationContext)}return this}clear(){return this._breadcrumbs=[],this._tags={},this._extra={},this._user={},this._contexts={},this._level=void 0,this._transactionName=void 0,this._fingerprint=void 0,this._requestSession=void 0,this._span=void 0,this._session=void 0,this._notifyScopeListeners(),this._attachments=[],this._propagationContext=Zv(),this}addBreadcrumb(t,n){const r=typeof n=="number"?n:Tk;if(r<=0)return this;const i={timestamp:ia(),...t},s=this._breadcrumbs;return s.push(i),this._breadcrumbs=s.length>r?s.slice(-r):s,this._notifyScopeListeners(),this}getLastBreadcrumb(){return this._breadcrumbs[this._breadcrumbs.length-1]}clearBreadcrumbs(){return this._breadcrumbs=[],this._notifyScopeListeners(),this}addAttachment(t){return this._attachments.push(t),this}getAttachments(){return this.getScopeData().attachments}clearAttachments(){return this._attachments=[],this}getScopeData(){const{_breadcrumbs:t,_attachments:n,_contexts:r,_tags:i,_extra:s,_user:h,_level:a,_fingerprint:o,_eventProcessors:u,_propagationContext:d,_sdkProcessingMetadata:l,_transactionName:c,_span:f}=this;return{breadcrumbs:t,attachments:n,contexts:r,tags:i,extra:s,user:h,level:a,fingerprint:o||[],eventProcessors:u,propagationContext:d,sdkProcessingMetadata:l,transactionName:c,span:f}}applyToEvent(t,n={},r=[]){Qv(t,this.getScopeData());const i=[...r,...Fh(),...this._eventProcessors];return au(i,t,n)}setSDKProcessingMetadata(t){return this._sdkProcessingMetadata={...this._sdkProcessingMetadata,...t},this}setPropagationContext(t){return this._propagationContext=t,this}getPropagationContext(){return this._propagationContext}captureException(t,n){const r=n&&n.event_id?n.event_id:vn();if(!this._client)return _e.warn("No client configured on scope - will not capture exception!"),r;const i=new Error("Sentry syntheticException");return this._client.captureException(t,{originalException:t,syntheticException:i,...n,event_id:r},this),r}captureMessage(t,n,r){const i=r&&r.event_id?r.event_id:vn();if(!this._client)return _e.warn("No client configured on scope - will not capture message!"),i;const s=new Error(t);return this._client.captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i},this),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:vn();return this._client?(this._client.captureEvent(t,{...n,event_id:r},this),r):(_e.warn("No client configured on scope - will not capture event!"),r)}_notifyScopeListeners(){this._notifyingListeners||(this._notifyingListeners=!0,this._scopeListeners.forEach(t=>{t(this)}),this._notifyingListeners=!1)}}function Ok(){return Ih||(Ih=new cr),Ih}function Zv(){return{traceId:vn(),spanId:vn().substring(16)}}const Lh="7.118.0",ey=parseFloat(Lh),Pk=100;class ty{constructor(t,n,r,i=ey){this._version=i;let s;n?s=n:(s=new cr,s.setClient(t));let h;r?h=r:(h=new cr,h.setClient(t)),this._stack=[{scope:s}],t&&this.bindClient(t),this._isolationScope=h}isOlderThan(t){return this._version<t}bindClient(t){const n=this.getStackTop();n.client=t,n.scope.setClient(t),t&&t.setupIntegrations&&t.setupIntegrations()}pushScope(){const t=this.getScope().clone();return this.getStack().push({client:this.getClient(),scope:t}),t}popScope(){return this.getStack().length<=1?!1:!!this.getStack().pop()}withScope(t){const n=this.pushScope();let r;try{r=t(n)}catch(i){throw this.popScope(),i}return ql(r)?r.then(i=>(this.popScope(),i),i=>{throw this.popScope(),i}):(this.popScope(),r)}getClient(){return this.getStackTop().client}getScope(){return this.getStackTop().scope}getIsolationScope(){return this._isolationScope}getStack(){return this._stack}getStackTop(){return this._stack[this._stack.length-1]}captureException(t,n){const r=this._lastEventId=n&&n.event_id?n.event_id:vn(),i=new Error("Sentry syntheticException");return this.getScope().captureException(t,{originalException:t,syntheticException:i,...n,event_id:r}),r}captureMessage(t,n,r){const i=this._lastEventId=r&&r.event_id?r.event_id:vn(),s=new Error(t);return this.getScope().captureMessage(t,n,{originalException:t,syntheticException:s,...r,event_id:i}),i}captureEvent(t,n){const r=n&&n.event_id?n.event_id:vn();return t.type||(this._lastEventId=r),this.getScope().captureEvent(t,{...n,event_id:r}),r}lastEventId(){return this._lastEventId}addBreadcrumb(t,n){const{scope:r,client:i}=this.getStackTop();if(!i)return;const{beforeBreadcrumb:s=null,maxBreadcrumbs:h=Pk}=i.getOptions&&i.getOptions()||{};if(h<=0)return;const o={timestamp:ia(),...t},u=s?eu(()=>s(o,n)):o;u!==null&&(i.emit&&i.emit("beforeAddBreadcrumb",u,n),r.addBreadcrumb(u,h))}setUser(t){this.getScope().setUser(t),this.getIsolationScope().setUser(t)}setTags(t){this.getScope().setTags(t),this.getIsolationScope().setTags(t)}setExtras(t){this.getScope().setExtras(t),this.getIsolationScope().setExtras(t)}setTag(t,n){this.getScope().setTag(t,n),this.getIsolationScope().setTag(t,n)}setExtra(t,n){this.getScope().setExtra(t,n),this.getIsolationScope().setExtra(t,n)}setContext(t,n){this.getScope().setContext(t,n),this.getIsolationScope().setContext(t,n)}configureScope(t){const{scope:n,client:r}=this.getStackTop();r&&t(n)}run(t){const n=ny(this);try{t(this)}finally{ny(n)}}getIntegration(t){const n=this.getClient();if(!n)return null;try{return n.getIntegration(t)}catch{return Ve&&_e.warn(`Cannot retrieve integration ${t.id} from the current Hub`),null}}startTransaction(t,n){const r=this._callExtensionMethod("startTransaction",t,n);return Ve&&!r&&(this.getClient()?_e.warn(`Tracing extension 'startTransaction' has not been added. Call 'addTracingExtensions' before calling 'init':
Sentry.addTracingExtensions();
Sentry.init({...});
`):_e.warn("Tracing extension 'startTransaction' is missing. You should 'init' the SDK before calling 'startTransaction'")),r}traceHeaders(){return this._callExtensionMethod("traceHeaders")}captureSession(t=!1){if(t)return this.endSession();this._sendSessionUpdate()}endSession(){const n=this.getStackTop().scope,r=n.getSession();r&&Vv(r),this._sendSessionUpdate(),n.setSession()}startSession(t){const{scope:n,client:r}=this.getStackTop(),{release:i,environment:s=ou}=r&&r.getOptions()||{},{userAgent:h}=Fe.navigator||{},a=$v({release:i,environment:s,user:n.getUser(),...h&&{userAgent:h},...t}),o=n.getSession&&n.getSession();return o&&o.status==="ok"&&Mi(o,{status:"exited"}),this.endSession(),n.setSession(a),a}shouldSendDefaultPii(){const t=this.getClient(),n=t&&t.getOptions();return!!(n&&n.sendDefaultPii)}_sendSessionUpdate(){const{scope:t,client:n}=this.getStackTop(),r=t.getSession();r&&n&&n.captureSession&&n.captureSession(r)}_callExtensionMethod(t,...n){const i=lu().__SENTRY__;if(i&&i.extensions&&typeof i.extensions[t]=="function")return i.extensions[t].apply(this,n);Ve&&_e.warn(`Extension method ${t} couldn't be found, doing nothing.`)}}function lu(){return Fe.__SENTRY__=Fe.__SENTRY__||{extensions:{},hub:void 0},Fe}function ny(e){const t=lu(),n=zh(t);return ry(t,e),n}function fr(){const e=lu();if(e.__SENTRY__&&e.__SENTRY__.acs){const t=e.__SENTRY__.acs.getCurrentHub();if(t)return t}return Dk(e)}function uu(){return fr().getIsolationScope()}function Dk(e=lu()){return(!Ak(e)||zh(e).isOlderThan(ey))&&ry(e,new ty),zh(e)}function Ak(e){return!!(e&&e.__SENTRY__&&e.__SENTRY__.hub)}function zh(e){return gv("hub",()=>new ty,e)}function ry(e,t){if(!e)return!1;const n=e.__SENTRY__=e.__SENTRY__||{};return n.hub=t,!0}function Mk(e,t){return t&&(e.sdk=e.sdk||{},e.sdk.name=e.sdk.name||t.name,e.sdk.version=e.sdk.version||t.version,e.sdk.integrations=[...e.sdk.integrations||[],...t.integrations||[]],e.sdk.packages=[...e.sdk.packages||[],...t.packages||[]]),e}function jk(e,t,n,r){const i=Nv(n),s={sent_at:new Date().toISOString(),...i&&{sdk:i},...!!r&&t&&{dsn:Zo(t)}},h="aggregates"in e?[{type:"sessions"},e]:[{type:"session"},e.toJSON()];return js(s,[h])}function Rk(e,t,n,r){const i=Nv(n),s=e.type&&e.type!=="replay_event"?e.type:"event";Mk(e,n&&n.sdk);const h=KE(e,i,r,t);return delete e.sdkProcessingMetadata,js(h,[[{type:s},e]])}const Fk="7";function Ik(e){const t=e.protocol?`${e.protocol}:`:"",n=e.port?`:${e.port}`:"";return`${t}//${e.host}${n}${e.path?`/${e.path}`:""}/api/`}function Lk(e){return`${Ik(e)}${e.projectId}/envelope/`}function zk(e,t){return aE({sentry_key:e.publicKey,sentry_version:Fk,...t&&{sentry_client:`${t.name}/${t.version}`}})}function Bk(e,t={}){const n=typeof t=="string"?t:t.tunnel,r=typeof t=="string"||!t._metadata?void 0:t._metadata.sdk;return n||`${Lk(e)}?${zk(e,r)}`}const iy=[];function Nk(e){const t={};return e.forEach(n=>{const{name:r}=n,i=t[r];i&&!i.isDefaultInstance&&n.isDefaultInstance||(t[r]=n)}),Object.keys(t).map(n=>t[n])}function $k(e){const t=e.defaultIntegrations||[],n=e.integrations;t.forEach(h=>{h.isDefaultInstance=!0});let r;Array.isArray(n)?r=[...t,...n]:typeof n=="function"?r=Pv(n(t)):r=t;const i=Nk(r),s=Hk(i,h=>h.name==="Debug");if(s!==-1){const[h]=i.splice(s,1);i.push(h)}return i}function Vk(e,t){const n={};return t.forEach(r=>{r&&oy(e,r,n)}),n}function sy(e,t){for(const n of t)n&&n.afterAllSetup&&n.afterAllSetup(e)}function oy(e,t,n){if(n[t.name]){Ve&&_e.log(`Integration skipped because it was already installed: ${t.name}`);return}if(n[t.name]=t,iy.indexOf(t.name)===-1&&(t.setupOnce(nk,fr),iy.push(t.name)),t.setup&&typeof t.setup=="function"&&t.setup(e),e.on&&typeof t.preprocessEvent=="function"){const r=t.preprocessEvent.bind(t);e.on("preprocessEvent",(i,s)=>r(i,s,e))}if(e.addEventProcessor&&typeof t.processEvent=="function"){const r=t.processEvent.bind(t),i=Object.assign((s,h)=>r(s,h,e),{id:t.name});e.addEventProcessor(i)}Ve&&_e.log(`Integration installed: ${t.name}`)}function Hk(e,t){for(let n=0;n<e.length;n++)if(t(e[n])===!0)return n;return-1}function Br(e,t){return Object.assign(function(...r){return t(...r)},{id:e})}function aH(e){return e}function Uk(e){let t="";for(const n of e){const r=Object.entries(n.tags),i=r.length>0?`|#${r.map(([s,h])=>`${s}:${h}`).join(",")}`:"";t+=`${n.name}@${n.unit}:${n.metric}|${n.metricType}${i}|T${n.timestamp}
`}return t}function Wk(e,t,n,r){const i={sent_at:new Date().toISOString()};n&&n.sdk&&(i.sdk={name:n.sdk.name,version:n.sdk.version}),r&&t&&(i.dsn=Zo(t));const s=Xk(e);return js(i,[s])}function Xk(e){const t=Uk(e);return[{type:"statsd",length:t.length},t]}const ay="Not capturing exception because it's already been captured.";class Yk{constructor(t){if(this._options=t,this._integrations={},this._integrationsInitialized=!1,this._numProcessing=0,this._outcomes={},this._hooks={},this._eventProcessors=[],t.dsn?this._dsn=oE(t.dsn):Ve&&_e.warn("No DSN provided, client will not send events."),this._dsn){const n=Bk(this._dsn,t);this._transport=t.transport({tunnel:this._options.tunnel,recordDroppedEvent:this.recordDroppedEvent.bind(this),...t.transportOptions,url:n})}}captureException(t,n,r){if(Ov(t)){Ve&&_e.log(ay);return}let i=n&&n.event_id;return this._process(this.eventFromException(t,n).then(s=>this._captureEvent(s,n,r)).then(s=>{i=s})),i}captureMessage(t,n,r,i){let s=r&&r.event_id;const h=mh(t)?t:String(t),a=vh(t)?this.eventFromMessage(h,n,r):this.eventFromException(t,r);return this._process(a.then(o=>this._captureEvent(o,r,i)).then(o=>{s=o})),s}captureEvent(t,n,r){if(n&&n.originalException&&Ov(n.originalException)){Ve&&_e.log(ay);return}let i=n&&n.event_id;const h=(t.sdkProcessingMetadata||{}).capturedSpanScope;return this._process(this._captureEvent(t,n,h||r).then(a=>{i=a})),i}captureSession(t){typeof t.release!="string"?Ve&&_e.warn("Discarded session because of missing or non-string release"):(this.sendSession(t),Mi(t,{init:!1}))}getDsn(){return this._dsn}getOptions(){return this._options}getSdkMetadata(){return this._options._metadata}getTransport(){return this._transport}flush(t){const n=this._transport;return n?(this.metricsAggregator&&this.metricsAggregator.flush(),this._isClientDoneProcessing(t).then(r=>n.flush(t).then(i=>r&&i))):Ms(!0)}close(t){return this.flush(t).then(n=>(this.getOptions().enabled=!1,this.metricsAggregator&&this.metricsAggregator.close(),n))}getEventProcessors(){return this._eventProcessors}addEventProcessor(t){this._eventProcessors.push(t)}setupIntegrations(t){(t&&!this._integrationsInitialized||this._isEnabled()&&!this._integrationsInitialized)&&this._setupIntegrations()}init(){this._isEnabled()&&this._setupIntegrations()}getIntegrationById(t){return this.getIntegrationByName(t)}getIntegrationByName(t){return this._integrations[t]}getIntegration(t){try{return this._integrations[t.id]||null}catch{return Ve&&_e.warn(`Cannot retrieve integration ${t.id} from the current Client`),null}}addIntegration(t){const n=this._integrations[t.name];oy(this,t,this._integrations),n||sy(this,[t])}sendEvent(t,n={}){this.emit("beforeSendEvent",t,n);let r=Rk(t,this._dsn,this._options._metadata,this._options.tunnel);for(const s of n.attachments||[])r=UE(r,YE(s,this._options.transportOptions&&this._options.transportOptions.textEncoder));const i=this._sendEnvelope(r);i&&i.then(s=>this.emit("afterSendEvent",t,s),null)}sendSession(t){const n=jk(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}recordDroppedEvent(t,n,r){if(this._options.sendClientReports){const i=`${t}:${n}`;Ve&&_e.log(`Adding outcome: "${i}"`),this._outcomes[i]=this._outcomes[i]+1||1}}captureAggregateMetrics(t){Ve&&_e.log(`Flushing aggregated metrics, number of metrics: ${t.length}`);const n=Wk(t,this._dsn,this._options._metadata,this._options.tunnel);this._sendEnvelope(n)}on(t,n){this._hooks[t]||(this._hooks[t]=[]),this._hooks[t].push(n)}emit(t,...n){this._hooks[t]&&this._hooks[t].forEach(r=>r(...n))}_setupIntegrations(){const{integrations:t}=this._options;this._integrations=Vk(this,t),sy(this,t),this._integrationsInitialized=!0}_updateSessionFromEvent(t,n){let r=!1,i=!1;const s=n.exception&&n.exception.values;if(s){i=!0;for(const o of s){const u=o.mechanism;if(u&&u.handled===!1){r=!0;break}}}const h=t.status==="ok";(h&&t.errors===0||h&&r)&&(Mi(t,{...r&&{status:"crashed"},errors:t.errors||Number(i||r)}),this.captureSession(t))}_isClientDoneProcessing(t){return new Jt(n=>{let r=0;const i=1,s=setInterval(()=>{this._numProcessing==0?(clearInterval(s),n(!0)):(r+=i,t&&r>=t&&(clearInterval(s),n(!1)))},i)})}_isEnabled(){return this.getOptions().enabled!==!1&&this._transport!==void 0}_prepareEvent(t,n,r,i=uu()){const s=this.getOptions(),h=Object.keys(this._integrations);return!n.integrations&&h.length>0&&(n.integrations=h),this.emit("preprocessEvent",t,n),lk(s,t,n,r,this,i).then(a=>{if(a===null)return a;const o={...i.getPropagationContext(),...r?r.getPropagationContext():void 0};if(!(a.contexts&&a.contexts.trace)&&o){const{traceId:d,spanId:l,parentSpanId:c,dsc:f}=o;a.contexts={trace:{trace_id:d,span_id:l,parent_span_id:c},...a.contexts};const p=f||qv(d,this,r);a.sdkProcessingMetadata={dynamicSamplingContext:p,...a.sdkProcessingMetadata}}return a})}_captureEvent(t,n={},r){return this._processEvent(t,n,r).then(i=>i.event_id,i=>{if(Ve){const s=i;s.logLevel==="log"?_e.log(s.message):_e.warn(s)}})}_processEvent(t,n,r){const i=this.getOptions(),{sampleRate:s}=i,h=uy(t),a=ly(t),o=t.type||"error",u=`before send for type \`${o}\``;if(a&&typeof s=="number"&&Math.random()>s)return this.recordDroppedEvent("sample_rate","error",t),Mh(new Xn(`Discarding event because it's not included in the random sample (sampling rate = ${s})`,"log"));const d=o==="replay_event"?"replay":o,c=(t.sdkProcessingMetadata||{}).capturedSpanIsolationScope;return this._prepareEvent(t,n,r,c).then(f=>{if(f===null)throw this.recordDroppedEvent("event_processor",d,t),new Xn("An event processor returned `null`, will not send event.","log");if(n.data&&n.data.__sentry__===!0)return f;const m=Kk(i,f,n);return Gk(m,u)}).then(f=>{if(f===null)throw this.recordDroppedEvent("before_send",d,t),new Xn(`${u} returned \`null\`, will not send event.`,"log");const p=r&&r.getSession();!h&&p&&this._updateSessionFromEvent(p,f);const m=f.transaction_info;if(h&&m&&f.transaction!==t.transaction){const g="custom";f.transaction_info={...m,source:g}}return this.sendEvent(f,n),f}).then(null,f=>{throw f instanceof Xn?f:(this.captureException(f,{data:{__sentry__:!0},originalException:f}),new Xn(`Event processing pipeline threw an error, original event will not be sent. Details have been sent as a new event.
Reason: ${f}`))})}_process(t){this._numProcessing++,t.then(n=>(this._numProcessing--,n),n=>(this._numProcessing--,n))}_sendEnvelope(t){if(this.emit("beforeEnvelope",t),this._isEnabled()&&this._transport)return this._transport.send(t).then(null,n=>{Ve&&_e.error("Error while sending event:",n)});Ve&&_e.error("Transport disabled")}_clearOutcomes(){const t=this._outcomes;return this._outcomes={},Object.keys(t).map(n=>{const[r,i]=n.split(":");return{reason:r,category:i,quantity:t[n]}})}}function Gk(e,t){const n=`${t} must return \`null\` or a valid event.`;if(ql(e))return e.then(r=>{if(!Ps(r)&&r!==null)throw new Xn(n);return r},r=>{throw new Xn(`${t} rejected with ${r}`)});if(!Ps(e)&&e!==null)throw new Xn(n);return e}function Kk(e,t,n){const{beforeSend:r,beforeSendTransaction:i}=e;return ly(t)&&r?r(t,n):uy(t)&&i?i(t,n):t}function ly(e){return e.type===void 0}function uy(e){return e.type==="transaction"}function qk(e,t){t.debug===!0&&(Ve?_e.enable():eu(()=>{console.warn("[Sentry] Cannot initialize SDK with `debug` option using a non-debug bundle.")})),oa().update(t.initialScope);const r=new e(t);Qk(r),Jk(r)}function Qk(e){const n=fr().getStackTop();n.client=e,n.scope.setClient(e)}function Jk(e){e.init?e.init():e.setupIntegrations&&e.setupIntegrations()}const Zk=30;function cy(e,t,n=NE(e.bufferSize||Zk)){let r={};const i=h=>n.drain(h);function s(h){const a=[];if(zv(h,(l,c)=>{const f=Bv(c);if(ek(r,f)){const p=fy(l,c);e.recordDroppedEvent("ratelimit_backoff",f,p)}else a.push(l)}),a.length===0)return Ms();const o=js(h[0],a),u=l=>{zv(o,(c,f)=>{const p=fy(c,f);e.recordDroppedEvent(l,Bv(f),p)})},d=()=>t({body:WE(o,e.textEncoder)}).then(l=>(l.statusCode!==void 0&&(l.statusCode<200||l.statusCode>=300)&&Ve&&_e.warn(`Sentry responded with status code ${l.statusCode} to sent event.`),r=tk(r,l),l),l=>{throw u("network_error"),l});return n.add(d).then(l=>l,l=>{if(l instanceof Xn)return Ve&&_e.error("Skipped sending event because buffer is full."),u("queue_overflow"),Ms();throw l})}return s.__sentry__baseTransport__=!0,{send:s,flush:i}}function fy(e,t){if(!(t!=="event"&&t!=="transaction"))return Array.isArray(e)?e[1]:void 0}function hy(e,t,n=[t],r="npm"){const i=e._metadata||{};i.sdk||(i.sdk={name:`sentry.javascript.${t}`,packages:n.map(s=>({name:`${r}:@sentry/${s}`,version:Lh})),version:Lh}),e._metadata=i}const eT=[/^Script error\.?$/,/^Javascript error: Script error\.? on line 0$/,/^ResizeObserver loop completed with undelivered notifications.$/,/^Cannot redefine property: googletag$/],tT=[/^.*\/healthcheck$/,/^.*\/healthy$/,/^.*\/live$/,/^.*\/ready$/,/^.*\/heartbeat$/,/^.*\/health$/,/^.*\/healthz$/],dy="InboundFilters",py=(e={})=>({name:dy,setupOnce(){},processEvent(t,n,r){const i=r.getOptions(),s=nT(e,i);return rT(t,s)?null:t}});Br(dy,py);function nT(e={},t={}){return{allowUrls:[...e.allowUrls||[],...t.allowUrls||[]],denyUrls:[...e.denyUrls||[],...t.denyUrls||[]],ignoreErrors:[...e.ignoreErrors||[],...t.ignoreErrors||[],...e.disableErrorDefaults?[]:eT],ignoreTransactions:[...e.ignoreTransactions||[],...t.ignoreTransactions||[],...e.disableTransactionDefaults?[]:tT],ignoreInternal:e.ignoreInternal!==void 0?e.ignoreInternal:!0}}function rT(e,t){return t.ignoreInternal&&uT(e)?(Ve&&_e.warn(`Event dropped due to being internal Sentry Error.
Event: ${Lr(e)}`),!0):iT(e,t.ignoreErrors)?(Ve&&_e.warn(`Event dropped due to being matched by \`ignoreErrors\` option.
Event: ${Lr(e)}`),!0):sT(e,t.ignoreTransactions)?(Ve&&_e.warn(`Event dropped due to being matched by \`ignoreTransactions\` option.
Event: ${Lr(e)}`),!0):oT(e,t.denyUrls)?(Ve&&_e.warn(`Event dropped due to being matched by \`denyUrls\` option.
Event: ${Lr(e)}.
Url: ${cu(e)}`),!0):aT(e,t.allowUrls)?!1:(Ve&&_e.warn(`Event dropped due to not being matched by \`allowUrls\` option.
Event: ${Lr(e)}.
Url: ${cu(e)}`),!0)}function iT(e,t){return e.type||!t||!t.length?!1:lT(e).some(n=>Ql(n,t))}function sT(e,t){if(e.type!=="transaction"||!t||!t.length)return!1;const n=e.transaction;return n?Ql(n,t):!1}function oT(e,t){if(!t||!t.length)return!1;const n=cu(e);return n?Ql(n,t):!1}function aT(e,t){if(!t||!t.length)return!0;const n=cu(e);return n?Ql(n,t):!0}function lT(e){const t=[];e.message&&t.push(e.message);let n;try{n=e.exception.values[e.exception.values.length-1]}catch{}return n&&n.value&&(t.push(n.value),n.type&&t.push(`${n.type}: ${n.value}`)),Ve&&t.length===0&&_e.error(`Could not extract message for event ${Lr(e)}`),t}function uT(e){try{return e.exception.values[0].type==="SentryError"}catch{}return!1}function cT(e=[]){for(let t=e.length-1;t>=0;t--){const n=e[t];if(n&&n.filename!=="<anonymous>"&&n.filename!=="[native code]")return n.filename||null}return null}function cu(e){try{let t;try{t=e.exception.values[0].stacktrace.frames}catch{}return t?cT(t):null}catch{return Ve&&_e.error(`Cannot extract url for event ${Lr(e)}`),null}}let gy;const my="FunctionToString",vy=new WeakMap,yy=()=>({name:my,setupOnce(){gy=Function.prototype.toString;try{Function.prototype.toString=function(...e){const t=Ch(this),n=vy.has(Wt())&&t!==void 0?t:this;return gy.apply(n,e)}}catch{}},setup(e){vy.set(e,!0)}});Br(my,yy);const $e=Fe;let Bh=0;function by(){return Bh>0}function fT(){Bh++,setTimeout(()=>{Bh--})}function Rs(e,t={},n){if(typeof e!="function")return e;try{const i=e.__sentry_wrapped__;if(i)return i;if(Ch(e))return e}catch{return e}const r=function(){const i=Array.prototype.slice.call(arguments);try{n&&typeof n=="function"&&n.apply(this,arguments);const s=i.map(h=>Rs(h,t));return e.apply(this,s)}catch(s){throw fT(),wk(h=>{h.addEventProcessor(a=>(t.mechanism&&(Eh(a,void 0,void 0),ta(a,t.mechanism)),a.extra={...a.extra,arguments:i},a)),bk(s)}),s}};try{for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=e[i])}catch{}yv(r,e),ea(e,"__sentry_wrapped__",r);try{Object.getOwnPropertyDescriptor(r,"name").configurable&&Object.defineProperty(r,"name",{get(){return e.name}})}catch{}return r}const hr=typeof __SENTRY_DEBUG__>"u"||__SENTRY_DEBUG__;function wy(e,t){const n=$h(e,t),r={type:t&&t.name,value:gT(t)};return n.length&&(r.stacktrace={frames:n}),r.type===void 0&&r.value===""&&(r.value="Unrecoverable error caught"),r}function hT(e,t,n,r){const i=Wt(),s=i&&i.getOptions().normalizeDepth,h={exception:{values:[{type:Kl(t)?t.constructor.name:r?"UnhandledRejection":"Error",value:yT(t,{isUnhandledRejection:r})}]},extra:{__serialized__:Fv(t,s)}};if(n){const a=$h(e,n);a.length&&(h.exception.values[0].stacktrace={frames:a})}return h}function Nh(e,t){return{exception:{values:[wy(e,t)]}}}function $h(e,t){const n=t.stacktrace||t.stack||"",r=pT(t);try{return e(n,r)}catch{}return[]}const dT=/Minified React error #\d+;/i;function pT(e){if(e){if(typeof e.framesToPop=="number")return e.framesToPop;if(dT.test(e.message))return 1}return 0}function gT(e){const t=e&&e.message;return t?t.error&&typeof t.error.message=="string"?t.error.message:t:"No error message"}function mT(e,t,n,r){const i=n&&n.syntheticException||void 0,s=Vh(e,t,i,r);return ta(s),s.level="error",n&&n.event_id&&(s.event_id=n.event_id),Ms(s)}function vT(e,t,n="info",r,i){const s=r&&r.syntheticException||void 0,h=Hh(e,t,s,i);return h.level=n,r&&r.event_id&&(h.event_id=r.event_id),Ms(h)}function Vh(e,t,n,r,i){let s;if(gh(t)&&t.error)return Nh(e,t.error);if(cv(t)||V5(t)){const h=t;if("stack"in t)s=Nh(e,t);else{const a=h.name||(cv(h)?"DOMError":"DOMException"),o=h.message?`${a}: ${h.message}`:a;s=Hh(e,o,n,r),Eh(s,o)}return"code"in h&&(s.tags={...s.tags,"DOMException.code":`${h.code}`}),s}return uv(t)?Nh(e,t):Ps(t)||Kl(t)?(s=hT(e,t,n,i),ta(s,{synthetic:!0}),s):(s=Hh(e,t,n,r),Eh(s,`${t}`,void 0),ta(s,{synthetic:!0}),s)}function Hh(e,t,n,r){const i={};if(r&&n){const s=$h(e,n);s.length&&(i.exception={values:[{value:t,stacktrace:{frames:s}}]})}if(mh(t)){const{__sentry_template_string__:s,__sentry_template_values__:h}=t;return i.logentry={message:s,params:h},i}return i.message=t,i}function yT(e,{isUnhandledRejection:t}){const n=lE(e),r=t?"promise rejection":"exception";return gh(e)?`Event \`ErrorEvent\` captured as ${r} with message \`${e.message}\``:Kl(e)?`Event \`${bT(e)}\` (type=${e.type}) captured as ${r}`:`Object captured as ${r} with keys: ${n}`}function bT(e){try{const t=Object.getPrototypeOf(e);return t?t.constructor.name:void 0}catch{}}function wT(e,{metadata:t,tunnel:n,dsn:r}){const i={event_id:e.event_id,sent_at:new Date().toISOString(),...t&&t.sdk&&{sdk:{name:t.sdk.name,version:t.sdk.version}},...!!n&&!!r&&{dsn:Zo(r)}},s=xT(e);return js(i,[s])}function xT(e){return[{type:"user_report"},e]}class CT extends Yk{constructor(t){const n=$e.SENTRY_SDK_SOURCE||RE();hy(t,"browser",["browser"],n),super(t),t.sendClientReports&&$e.document&&$e.document.addEventListener("visibilitychange",()=>{$e.document.visibilityState==="hidden"&&this._flushOutcomes()})}eventFromException(t,n){return mT(this._options.stackParser,t,n,this._options.attachStacktrace)}eventFromMessage(t,n="info",r){return vT(this._options.stackParser,t,n,r,this._options.attachStacktrace)}captureUserFeedback(t){if(!this._isEnabled()){hr&&_e.warn("SDK not enabled, will not capture user feedback.");return}const n=wT(t,{metadata:this.getSdkMetadata(),dsn:this.getDsn(),tunnel:this.getOptions().tunnel});this._sendEnvelope(n)}_prepareEvent(t,n,r){return t.platform=t.platform||"javascript",super._prepareEvent(t,n,r)}_flushOutcomes(){const t=this._clearOutcomes();if(t.length===0){hr&&_e.log("No outcomes to send");return}if(!this._dsn){hr&&_e.log("No dsn provided, will not send outcomes");return}hr&&_e.log("Sending outcomes:",t);const n=qE(t,this._options.tunnel&&Zo(this._dsn));this._sendEnvelope(n)}}let la;function ST(){if(la)return la;if(Ph($e.fetch))return la=$e.fetch.bind($e);const e=$e.document;let t=$e.fetch;if(e&&typeof e.createElement=="function")try{const n=e.createElement("iframe");n.hidden=!0,e.head.appendChild(n);const r=n.contentWindow;r&&r.fetch&&(t=r.fetch),e.head.removeChild(n)}catch(n){hr&&_e.warn("Could not create sandbox iframe for pure fetch check, bailing to window.fetch: ",n)}return la=t.bind($e)}function _T(){la=void 0}function ET(e,t=ST()){let n=0,r=0;function i(s){const h=s.body.length;n+=h,r++;const a={body:s.body,method:"POST",referrerPolicy:"origin",headers:e.headers,keepalive:n<=6e4&&r<15,...e.fetchOptions};try{return t(e.url,a).then(o=>(n-=h,r--,{statusCode:o.status,headers:{"x-sentry-rate-limits":o.headers.get("X-Sentry-Rate-Limits"),"retry-after":o.headers.get("Retry-After")}}))}catch(o){return _T(),n-=h,r--,Mh(o)}}return cy(e,i)}const kT=4;function TT(e){function t(n){return new Jt((r,i)=>{const s=new XMLHttpRequest;s.onerror=i,s.onreadystatechange=()=>{s.readyState===kT&&r({statusCode:s.status,headers:{"x-sentry-rate-limits":s.getResponseHeader("X-Sentry-Rate-Limits"),"retry-after":s.getResponseHeader("Retry-After")}})},s.open("POST",e.url);for(const h in e.headers)Object.prototype.hasOwnProperty.call(e.headers,h)&&s.setRequestHeader(h,e.headers[h]);s.send(n.body)})}return cy(e,t)}const fu="?",OT=30,PT=40,DT=50;function Uh(e,t,n,r){const i={filename:e,function:t,in_app:!0};return n!==void 0&&(i.lineno=n),r!==void 0&&(i.colno=r),i}const AT=/^\s*at (?:(.+?\)(?: \[.+\])?|.*?) ?\((?:address at )?)?(?:async )?((?:<anonymous>|[-a-z]+:|.*bundle|\/)?.*?)(?::(\d+))?(?::(\d+))?\)?\s*$/i,MT=/\((\S*)(?::(\d+))(?::(\d+))\)/,jT=[OT,e=>{const t=AT.exec(e);if(t){if(t[2]&&t[2].indexOf("eval")===0){const s=MT.exec(t[2]);s&&(t[2]=s[1],t[3]=s[2],t[4]=s[3])}const[r,i]=xy(t[1]||fu,t[2]);return Uh(i,r,t[3]?+t[3]:void 0,t[4]?+t[4]:void 0)}}],RT=/^\s*(.*?)(?:\((.*?)\))?(?:^|@)?((?:[-a-z]+)?:\/.*?|\[native code\]|[^@]*(?:bundle|\d+\.js)|\/[\w\-. /=]+)(?::(\d+))?(?::(\d+))?\s*$/i,FT=/(\S+) line (\d+)(?: > eval line \d+)* > eval/i,IT=[DT,e=>{const t=RT.exec(e);if(t){if(t[3]&&t[3].indexOf(" > eval")>-1){const s=FT.exec(t[3]);s&&(t[1]=t[1]||"eval",t[3]=s[1],t[4]=s[2],t[5]="")}let r=t[3],i=t[1]||fu;return[i,r]=xy(i,r),Uh(r,i,t[4]?+t[4]:void 0,t[5]?+t[5]:void 0)}}],LT=/^\s*at (?:((?:\[object object\])?.+) )?\(?((?:[-a-z]+):.*?):(\d+)(?::(\d+))?\)?\s*$/i,zT=Ev(...[jT,IT,[PT,e=>{const t=LT.exec(e);return t?Uh(t[2],t[1]||fu,+t[3],t[4]?+t[4]:void 0):void 0}]]),xy=(e,t)=>{const n=e.indexOf("safari-extension")!==-1,r=e.indexOf("safari-web-extension")!==-1;return n||r?[e.indexOf("@")!==-1?e.split("@")[0]:fu,n?`safari-extension:${t}`:`safari-web-extension:${t}`]:[e,t]},hu=1024,Cy="Breadcrumbs",Sy=(e={})=>{const t={console:!0,dom:!0,fetch:!0,history:!0,sentry:!0,xhr:!0,...e};return{name:Cy,setupOnce(){},setup(n){t.console&&hE($T(n)),t.dom&&gE(NT(n,t.dom)),t.xhr&&AE(VT(n)),t.fetch&&xE(HT(n)),t.history&&Rv(UT(n)),t.sentry&&n.on&&n.on("beforeSendEvent",BT(n))}}};Br(Cy,Sy);function BT(e){return function(n){Wt()===e&&ji({category:`sentry.${n.type==="transaction"?"transaction":"event"}`,event_id:n.event_id,level:n.level,message:Lr(n)},{event:n})}}function NT(e,t){return function(r){if(Wt()!==e)return;let i,s,h=typeof t=="object"?t.serializeAttribute:void 0,a=typeof t=="object"&&typeof t.maxStringLength=="number"?t.maxStringLength:void 0;a&&a>hu&&(hr&&_e.warn(`\`dom.maxStringLength\` cannot exceed ${hu}, but a value of ${a} was configured. Sentry will use ${hu} instead.`),a=hu),typeof h=="string"&&(h=[h]);try{const u=r.event,d=WT(u)?u.target:u;i=mv(d,{keyAttrs:h,maxStringLength:a}),s=Z5(d)}catch{i="<unknown>"}if(i.length===0)return;const o={category:`ui.${r.name}`,message:i};s&&(o.data={"ui.component_name":s}),ji(o,{event:r.event,name:r.name,global:r.global})}}function $T(e){return function(n){if(Wt()!==e)return;const r={category:"console",data:{arguments:n.args,logger:"console"},level:VE(n.level),message:hv(n.args," ")};if(n.level==="assert")if(n.args[0]===!1)r.message=`Assertion failed: ${hv(n.args.slice(1)," ")||"console.assert"}`,r.data.arguments=n.args.slice(1);else return;ji(r,{input:n.args,level:n.level})}}function VT(e){return function(n){if(Wt()!==e)return;const{startTimestamp:r,endTimestamp:i}=n,s=n.xhr[ra];if(!r||!i||!s)return;const{method:h,url:a,status_code:o,body:u}=s,d={method:h,url:a,status_code:o},l={xhr:n.xhr,input:u,startTimestamp:r,endTimestamp:i};ji({category:"xhr",data:d,type:"http"},l)}}function HT(e){return function(n){if(Wt()!==e)return;const{startTimestamp:r,endTimestamp:i}=n;if(i&&!(n.fetchData.url.match(/sentry_key/)&&n.fetchData.method==="POST"))if(n.error){const s=n.fetchData,h={data:n.error,input:n.args,startTimestamp:r,endTimestamp:i};ji({category:"fetch",data:s,level:"error",type:"http"},h)}else{const s=n.response,h={...n.fetchData,status_code:s&&s.status},a={input:n.args,response:s,startTimestamp:r,endTimestamp:i};ji({category:"fetch",data:h,type:"http"},a)}}}function UT(e){return function(n){if(Wt()!==e)return;let r=n.from,i=n.to;const s=jh($e.location.href);let h=r?jh(r):void 0;const a=jh(i);(!h||!h.path)&&(h=s),s.protocol===a.protocol&&s.host===a.host&&(i=a.relative),s.protocol===h.protocol&&s.host===h.host&&(r=h.relative),ji({category:"navigation",data:{from:r,to:i}})}}function WT(e){return!!e&&!!e.target}const _y="Dedupe",Ey=()=>{let e;return{name:_y,setupOnce(){},processEvent(t){if(t.type)return t;try{if(XT(t,e))return hr&&_e.warn("Event dropped due to being a duplicate of previously captured event."),null}catch{}return e=t}}};Br(_y,Ey);function XT(e,t){return t?!!(YT(e,t)||GT(e,t)):!1}function YT(e,t){const n=e.message,r=t.message;return!(!n&&!r||n&&!r||!n&&r||n!==r||!Ty(e,t)||!ky(e,t))}function GT(e,t){const n=Oy(t),r=Oy(e);return!(!n||!r||n.type!==r.type||n.value!==r.value||!Ty(e,t)||!ky(e,t))}function ky(e,t){let n=Py(e),r=Py(t);if(!n&&!r)return!0;if(n&&!r||!n&&r||(n=n,r=r,r.length!==n.length))return!1;for(let i=0;i<r.length;i++){const s=r[i],h=n[i];if(s.filename!==h.filename||s.lineno!==h.lineno||s.colno!==h.colno||s.function!==h.function)return!1}return!0}function Ty(e,t){let n=e.fingerprint,r=t.fingerprint;if(!n&&!r)return!0;if(n&&!r||!n&&r)return!1;n=n,r=r;try{return n.join("")===r.join("")}catch{return!1}}function Oy(e){return e.exception&&e.exception.values&&e.exception.values[0]}function Py(e){const t=e.exception;if(t)try{return t.values[0].stacktrace.frames}catch{return}}const Dy="GlobalHandlers",Ay=(e={})=>{const t={onerror:!0,onunhandledrejection:!0,...e};return{name:Dy,setupOnce(){Error.stackTraceLimit=50},setup(n){t.onerror&&(KT(n),jy("onerror")),t.onunhandledrejection&&(qT(n),jy("onunhandledrejection"))}}};Br(Dy,Ay);function KT(e){_E(t=>{const{stackParser:n,attachStacktrace:r}=Ry();if(Wt()!==e||by())return;const{msg:i,url:s,line:h,column:a,error:o}=t,u=o===void 0&&ar(i)?ZT(i,s,h,a):My(Vh(n,o||i,void 0,r,!1),s,h,a);u.level="error",Uv(u,{originalException:o,mechanism:{handled:!1,type:"onerror"}})})}function qT(e){kE(t=>{const{stackParser:n,attachStacktrace:r}=Ry();if(Wt()!==e||by())return;const i=QT(t),s=vh(i)?JT(i):Vh(n,i,void 0,r,!0);s.level="error",Uv(s,{originalException:i,mechanism:{handled:!1,type:"onunhandledrejection"}})})}function QT(e){if(vh(e))return e;const t=e;try{if("reason"in t)return t.reason;if("detail"in t&&"reason"in t.detail)return t.detail.reason}catch{}return e}function JT(e){return{exception:{values:[{type:"UnhandledRejection",value:`Non-Error promise rejection captured with value: ${String(e)}`}]}}}function ZT(e,t,n,r){const i=/^(?:[Uu]ncaught (?:exception: )?)?(?:((?:Eval|Internal|Range|Reference|Syntax|Type|URI|)Error): )?(.*)$/i;let s=gh(e)?e.message:e,h="Error";const a=s.match(i);return a&&(h=a[1],s=a[2]),My({exception:{values:[{type:h,value:s}]}},t,n,r)}function My(e,t,n,r){const i=e.exception=e.exception||{},s=i.values=i.values||[],h=s[0]=s[0]||{},a=h.stacktrace=h.stacktrace||{},o=a.frames=a.frames||[],u=isNaN(parseInt(r,10))?void 0:r,d=isNaN(parseInt(n,10))?void 0:n,l=ar(t)&&t.length>0?t:J5();return o.length===0&&o.push({colno:u,filename:l,function:"?",in_app:!0,lineno:d}),e}function jy(e){hr&&_e.log(`Global Handler attached: ${e}`)}function Ry(){const e=Wt();return e&&e.getOptions()||{stackParser:()=>[],attachStacktrace:!1}}const Fy="HttpContext",Iy=()=>({name:Fy,setupOnce(){},preprocessEvent(e){if(!$e.navigator&&!$e.location&&!$e.document)return;const t=e.request&&e.request.url||$e.location&&$e.location.href,{referrer:n}=$e.document||{},{userAgent:r}=$e.navigator||{},i={...e.request&&e.request.headers,...n&&{Referer:n},...r&&{"User-Agent":r}},s={...e.request,...t&&{url:t},headers:i};e.request=s}});Br(Fy,Iy);const eO="cause",tO=5,Ly="LinkedErrors",zy=(e={})=>{const t=e.limit||tO,n=e.key||eO;return{name:Ly,setupOnce(){},preprocessEvent(r,i,s){const h=s.getOptions();G5(wy,h.stackParser,h.maxValueLength,n,t,r,i)}}};Br(Ly,zy);const nO=["EventTarget","Window","Node","ApplicationCache","AudioTrackList","BroadcastChannel","ChannelMergerNode","CryptoOperation","EventSource","FileReader","HTMLUnknownElement","IDBDatabase","IDBRequest","IDBTransaction","KeyOperation","MediaController","MessagePort","ModalWindow","Notification","SVGElementInstance","Screen","SharedWorker","TextTrack","TextTrackCue","TextTrackList","WebSocket","WebSocketWorker","Worker","XMLHttpRequest","XMLHttpRequestEventTarget","XMLHttpRequestUpload"],By="TryCatch",Ny=(e={})=>{const t={XMLHttpRequest:!0,eventTarget:!0,requestAnimationFrame:!0,setInterval:!0,setTimeout:!0,...e};return{name:By,setupOnce(){t.setTimeout&&yt($e,"setTimeout",$y),t.setInterval&&yt($e,"setInterval",$y),t.requestAnimationFrame&&yt($e,"requestAnimationFrame",rO),t.XMLHttpRequest&&"XMLHttpRequest"in $e&&yt(XMLHttpRequest.prototype,"send",iO);const n=t.eventTarget;n&&(Array.isArray(n)?n:nO).forEach(sO)}}};Br(By,Ny);function $y(e){return function(...t){const n=t[0];return t[0]=Rs(n,{mechanism:{data:{function:Ir(e)},handled:!1,type:"instrument"}}),e.apply(this,t)}}function rO(e){return function(t){return e.apply(this,[Rs(t,{mechanism:{data:{function:"requestAnimationFrame",handler:Ir(e)},handled:!1,type:"instrument"}})])}}function iO(e){return function(...t){const n=this;return["onload","onerror","onprogress","onreadystatechange"].forEach(i=>{i in n&&typeof n[i]=="function"&&yt(n,i,function(s){const h={mechanism:{data:{function:i,handler:Ir(s)},handled:!1,type:"instrument"}},a=Ch(s);return a&&(h.mechanism.data.handler=Ir(a)),Rs(s,h)})}),e.apply(this,t)}}function sO(e){const t=$e,n=t[e]&&t[e].prototype;!n||!n.hasOwnProperty||!n.hasOwnProperty("addEventListener")||(yt(n,"addEventListener",function(r){return function(i,s,h){try{typeof s.handleEvent=="function"&&(s.handleEvent=Rs(s.handleEvent,{mechanism:{data:{function:"handleEvent",handler:Ir(s),target:e},handled:!1,type:"instrument"}}))}catch{}return r.apply(this,[i,Rs(s,{mechanism:{data:{function:"addEventListener",handler:Ir(s),target:e},handled:!1,type:"instrument"}}),h])}}),yt(n,"removeEventListener",function(r){return function(i,s,h){const a=s;try{const o=a&&a.__sentry_wrapped__;o&&r.call(this,i,o,h)}catch{}return r.call(this,i,a,h)}}))}const oO=[py(),yy(),Ny(),Sy(),Ay(),zy(),Ey(),Iy()];function aO(e){return[...oO]}function lO(e={}){e.defaultIntegrations===void 0&&(e.defaultIntegrations=aO()),e.release===void 0&&(typeof __SENTRY_RELEASE__=="string"&&(e.release=__SENTRY_RELEASE__),$e.SENTRY_RELEASE&&$e.SENTRY_RELEASE.id&&(e.release=$e.SENTRY_RELEASE.id)),e.autoSessionTracking===void 0&&(e.autoSessionTracking=!0),e.sendClientReports===void 0&&(e.sendClientReports=!0);const t={...e,stackParser:cE(e.stackParser||zT),integrations:$k(e),transport:e.transport||(Mv()?ET:TT)};qk(CT,t),e.autoSessionTracking&&uO()}function uO(){if(typeof $e.document>"u"){hr&&_e.warn("Session tracking in non-browser environment with @sentry/browser is not supported.");return}Wv({ignoreDuration:!0}),Gv(),Rv(({from:e,to:t})=>{e!==void 0&&e!==t&&(Wv({ignoreDuration:!0}),Gv())})}function cO(e){const t={...e};hy(t,"react"),lO(t)}var Wh=(e=>(e.INLINE="inline",e.OVERLAY="overlay",e))(Wh||{}),Vy=(e=>(e.TOP="top",e.BOTTOM="bottom",e.HIDDEN="",e))(Vy||{});const fO=[{name:"circle",type:"Circle"},{name:"square",type:"Rect",options:{lockUniScaling:!1}},{name:"triangle",type:"Triangle"},{name:"ellipse",type:"Ellipse",options:{lockUniScaling:!1}},{name:"Arrow #1",type:"Path",options:{path:"M 294.9 16.4 l 15.7 42.2 c -171.4 70.3 -294 242.3 -289.1 437.4 l 14.7 -1 c 9.1 -0.6 18.1 -1.2 27.1 -1.9 l 14.7 -1 c -4.3 -170.1 102.5 -320 252 -381.3 l 15.7 42.2 c 34.7 -40.5 83.1 -76.6 144.8 -99.8 c -58.1 -26.2 -124.9 -39.6 -195.6 -36.8 z"}},{name:"Arrow #2",type:"Path",options:{path:"M 16 248.4 v 14.9 h 447.5 l -93.2 82.5 l 11.9 10.5 l 113.8 -100.2 l -113.6 -100.4 l -11.8 10.5 l 92.9 82.2 z"}},{name:"Arrow #3",type:"Path",options:{path:"M 496 256 l -118.6 -66 v 40.8 h -361.4 v 50.4 h 361.4 v 40.8 l 118.6 -66 z"}},{name:"Line",type:"Path",options:{path:"M 16 256 h 480",strokeWidth:10,stroke:"#000",padding:10}},{name:"Star",type:"Path",options:{path:"M 256 406.3 l 148.3 78 l -28.3 -165.2 l 120 -117 l -165.8 -24.1 l -74.2 -150.3 l -74.2 150.3 l -165.8 24.1 l 120 117 l -28.3 165.2 z"}},{name:"Polygon",type:"Path",options:{path:"M 256 19.6 l 156.6 57.1 l 83.4 144.3 l -28.9 164.2 l -127.7 107.2 h -166.8 l -127.7 -107.2 l -28.9 -164.2 l 83.4 -144.3 z"}},{name:"Badge",type:"Path",options:{path:"M 257.3 16.2 s -148 58.2 -204.4 81.4 c 0 75.7 -16.8 303.5 204.4 398.2 c 218.7 -94.6 201.9 -322.4 201.9 -398.2 c -62.1 -23.6 -201.9 -81.4 -201.9 -81.4 z"}}],hO=["afro-1","afro","agent","alien-1","alien","angel","angry-1","angry-2","angry-3","angry-4","angry-5","angry","arguing","arrogant","asian-1","asian","avatar","baby-1","baby-2","baby","bully","burglar","businessman","cheeky-1","cheeky","clown","confused-1","confused-2","confused-3","confused","creepy","crying-1","crying-2","crying-3","crying","dazed-1","dazed-2","dazed-3","dazed","dead-1","dead-2","dead-3","dead-4","dead-5","dead-6","dead","desperate-1","desperate","detective","dissapointment","doctor","drunk","dumb","emo-1","emo-2","emo","emoticon","evil","faint-1","faint","flirt-1","flirt-2","flirt","flirty","gangster","geek-1","geek","gentleman-1","gentleman-2","gentleman-3","gentleman-4","gentleman","ginger","girl-1","girl","goofy-1","goofy-2","goofy-3","goofy-4","goofy","grubby-1","grubby","happy-1","happy-10","happy-11","happy-12","happy-13","happy-14","happy-15","happy-16","happy-2","happy-3","happy-4","happy-5","happy-6","happy-7","happy-8","happy-9","happy","harry-potter","heisenberg","hipster-1","hipster-2","hipster","in-love-1","in-love-2","in-love-3","in-love-4","in-love-5","in-love-6","in-love","japan","jew","joyful-1","joyful-2","joyful","kiss-1","kiss-2","kiss-3","kiss-4","kiss","laughing-1","laughing-2","laughing-3","laughing","listening","love","manly","miserly-1","miserly","nerd-1","nerd-2","nerd-3","nerd-4","nerd","ninja","pirate-1","pirate-2","pirate","punk-1","punk-2","punk","rapper","relieved","rich-1","rich-2","rich","rockstar","sad-1","sad-2","sad-3","sad-4","sad-5","sad-6","sad","scared-1","scared-2","scared-3","scared","sceptic-1","sceptic-2","sceptic-3","sceptic-4","sceptic-5","sceptic-6","sceptic-7","sceptic","secret","shocked-1","shocked-2","shocked-3","shocked","sick-1","sick-2","sick-3","sick-4","sick","silent","skeleton","smile","smiling-1","smiling","smoked","smug-1","smug-2","smug-3","smug-4","smug-5","smug-6","smug","sporty","stunned","superhero-1","superhero-2","superhero-3","superhero-4","superhero","surprised-1","surprised","thinking","tired-1","tired-2","tired-3","tired","tough-1","tough","trendy","vampire-1","vampire","wink-1","wink-2","wink","winking-1","winking","yawning-1","yawning-2","yawning-3","yawning","yelling","zombie"];function ae(e,t){return{...t,message:e}}const dO=[{name:"emoticons",list:hO,type:"svg",thumbnailUrl:"images/stickers/categories/emoticon.svg"},{name:"doodles",items:100,type:"svg",thumbnailUrl:"images/stickers/categories/doodles.svg"},{name:"landmarks",items:100,type:"svg",thumbnailUrl:"images/stickers/categories/landmark.svg",invertPreview:!0},{name:"bubbles",items:104,type:"png",thumbnailUrl:"images/stickers/categories/speech-bubble.svg"},{name:"transportation",items:22,type:"svg",thumbnailUrl:"images/stickers/categories/transportation.svg",invertPreview:!0},{name:"beach",items:22,type:"svg",thumbnailUrl:"images/stickers/categories/beach.svg",invertPreview:!0}],pO={emoticons:ae("Emoticons"),doodles:ae("Doodles"),landmarks:ae("Landmarks"),bubbles:ae("Bubbles"),transportation:ae("Transportation"),beach:ae("Beach")},Xh={fill:"#1565C0",opacity:1,backgroundColor:null,strokeWidth:.05,stroke:"#000"},gO=["PencilBrush","EraserBrush","SprayBrush","CircleBrush","DiamondBrush","VLineBrush","HLineBrush","SquareBrush"],Hy=[1,8,15,20,25];var du=(e=>(e.DARK="dark",e.LIGHT="light",e))(du||{});const Yh=[{name:du.LIGHT,colors:{"--be-foreground-base":"0 0 0","--be-primary-light":"191 219 254","--be-primary":"59 130 246","--be-primary-dark":"37 99 235","--be-on-primary":"255 255 255","--be-danger":"179 38 30","--be-on-danger":"255 255 255","--be-background":"255 255 255","--be-background-alt":"250 250 250","--be-paper":"255 255 255","--be-disabled-bg-opacity":"12%","--be-disabled-fg-opacity":"26%","--be-hover-opacity":"4%","--be-focus-opacity":"12%","--be-selected-opacity":"8%","--be-text-main-opacity":"87%","--be-text-muted-opacity":"60%","--be-divider-opacity":"12%"}},{name:du.DARK,isDark:!0,colors:{"--be-foreground-base":"255 255 255","--be-primary-light":"239 246 255","--be-primary":"191 219 254","--be-primary-dark":"147 197 253","--be-on-primary":"56 30 114","--be-danger":"242 184 181","--be-on-danger":"96 20 16","--be-background":"20 21 23","--be-background-alt":"26 27 30","--be-paper":"44 46 51","--be-disabled-bg-opacity":"12%","--be-disabled-fg-opacity":"30%","--be-hover-opacity":"8%","--be-focus-opacity":"12%","--be-selected-opacity":"16%","--be-text-main-opacity":"100%","--be-text-muted-opacity":"70%","--be-divider-opacity":"12%"}}];var Le=(e=>(e.FILTER="filter",e.RESIZE="resize",e.CROP="crop",e.DRAW="draw",e.TEXT="text",e.SHAPES="shapes",e.STICKERS="stickers",e.FRAME="frame",e.CORNERS="corners",e.MERGE="merge",e))(Le||{});function Uy(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Uy(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function ce(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Uy(e))&&(r&&(r+=" "),r+=t);return r}const mO=k.forwardRef((e,t)=>{const{attr:n,size:r,title:i,className:s,color:h,style:a,children:o,viewBox:u,width:d,height:l,...c}=e;return x.jsxs("svg",{"aria-hidden":!i,focusable:!1,xmlns:"http://www.w3.org/2000/svg",viewBox:u||"0 0 24 24",...n,...c,className:ce("svg-icon",s,vO(r)),style:{color:h,...a},ref:t,height:l||"1em",width:d||"1em",children:[i&&x.jsx("title",{children:i}),o]})});function vO(e){switch(e){case"2xs":return"icon-2xs";case"xs":return"icon-xs";case"sm":return"icon-sm";case"md":return"icon-md";case"lg":return"icon-lg";case"xl":return"icon-xl";default:return e}}function be(e,t="",n){const r=(i,s)=>x.jsx(mO,{"data-testid":`${t}Icon`,ref:s,viewBox:n,...i,size:i.size||"md",children:e});return de.memo(de.forwardRef(r))}function yO(e,t=""){const n=Wy(e);return be(n,t)}function Wy(e){return(e==null?void 0:e.map)&&e.map((t,n)=>de.createElement(t.tag,{key:n,...t.attr},Wy(t.child)))}const Xy=be(x.jsx("path",{d:"M3 17v2h6v-2H3zM3 5v2h10V5H3zm10 16v-2h8v-2h-8v-2h-2v6h2zM7 9v2H3v2h4v2h2V9H7zm14 4v-2H11v2h10zm-6-4h2V7h4V5h-4V3h-2v6z"}),"TuneOutlined"),bO=be(x.jsx("path",{d:"M21 15h2v2h-2v-2zm0-4h2v2h-2v-2zm2 8h-2v2c1 0 2-1 2-2zM13 3h2v2h-2V3zm8 4h2v2h-2V7zm0-4v2h2c0-1-1-2-2-2zM1 7h2v2H1V7zm16-4h2v2h-2V3zm0 16h2v2h-2v-2zM3 3C2 3 1 4 1 5h2V3zm6 0h2v2H9V3zM5 3h2v2H5V3zm-4 8v8c0 1.1.9 2 2 2h12V11H1zm2 8 2.5-3.21 1.79 2.15 2.5-3.22L13 19H3z"}),"PhotoSizeSelectLargeOutlined"),wO=be(x.jsx("path",{d:"M17 15h2V7c0-1.1-.9-2-2-2H9v2h8v8zM7 17V1H5v4H1v2h4v10c0 1.1.9 2 2 2h10v4h2v-4h4v-2H7z"}),"CropOutlined"),xO=be(x.jsx("path",{d:"M2.5 4v3h5v12h3V7h5V4h-13zm19 5h-9v3h3v7h3v-7h3V9z"}),"TextFieldsOutlined"),CO=be(x.jsx("path",{d:"M10.5 4.5c.28 0 .5.22.5.5v2h6v6h2c.28 0 .5.22.5.5s-.22.5-.5.5h-2v6h-2.12c-.68-1.75-2.39-3-4.38-3s-3.7 1.25-4.38 3H4v-2.12c1.75-.68 3-2.39 3-4.38 0-1.99-1.24-3.7-2.99-4.38L4 7h6V5c0-.28.22-.5.5-.5m0-2C9.12 2.5 8 3.62 8 5H4c-1.1 0-1.99.9-1.99 2v3.8h.29c1.49 0 2.7 1.21 2.7 2.7s-1.21 2.7-2.7 2.7H2V20c0 1.1.9 2 2 2h3.8v-.3c0-1.49 1.21-2.7 2.7-2.7s2.7 1.21 2.7 2.7v.3H17c1.1 0 2-.9 2-2v-4c1.38 0 2.5-1.12 2.5-2.5S20.38 11 19 11V7c0-1.1-.9-2-2-2h-4c0-1.38-1.12-2.5-2.5-2.5z"}),"ExtensionOutlined"),SO=be(x.jsx("path",{d:"M10.25 13c0 .69-.56 1.25-1.25 1.25S7.75 13.69 7.75 13s.56-1.25 1.25-1.25 1.25.56 1.25 1.25zM15 11.75c-.69 0-1.25.56-1.25 1.25s.56 1.25 1.25 1.25 1.25-.56 1.25-1.25-.56-1.25-1.25-1.25zm7 .25c0 5.52-4.48 10-10 10S2 17.52 2 12 6.48 2 12 2s10 4.48 10 10zM10.66 4.12C12.06 6.44 14.6 8 17.5 8c.46 0 .91-.05 1.34-.12C17.44 5.56 14.9 4 12 4c-.46 0-.91.05-1.34.12zM4.42 9.47c1.71-.97 3.03-2.55 3.66-4.44C6.37 6 5.05 7.58 4.42 9.47zM20 12c0-.78-.12-1.53-.33-2.24-.7.15-1.42.24-2.17.24-3.13 0-5.92-1.44-7.76-3.69C8.69 8.87 6.6 10.88 4 11.86c.01.04 0 .09 0 .14 0 4.41 3.59 8 8 8s8-3.59 8-8z"}),"FaceOutlined"),_O=be(x.jsx("path",{d:"M20 4h-4l-4-4-4 4H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h16c1.1 0 2-.9 2-2V6c0-1.1-.9-2-2-2zm0 16H4V6h4.52l3.52-3.5L15.52 6H20v14zM6 18h12V8H6v10zm2-8h8v6H8v-6z"}),"FilterFramesOutlined"),EO=be(x.jsx("path",{d:"M6.41 21 5 19.59l4.83-4.83c.75-.75 1.17-1.77 1.17-2.83v-5.1L9.41 8.41 8 7l4-4 4 4-1.41 1.41L13 6.83v5.1c0 1.06.42 2.08 1.17 2.83L19 19.59 17.59 21 12 15.41 6.41 21z"}),"MergeOutlined"),kO=be(x.jsx("path",{d:"M19 19h2v2h-2v-2zm0-2h2v-2h-2v2zM3 13h2v-2H3v2zm0 4h2v-2H3v2zm0-8h2V7H3v2zm0-4h2V3H3v2zm4 0h2V3H7v2zm8 16h2v-2h-2v2zm-4 0h2v-2h-2v2zm4 0h2v-2h-2v2zm-8 0h2v-2H7v2zm-4 0h2v-2H3v2zM21 8c0-2.76-2.24-5-5-5h-5v2h5c1.65 0 3 1.35 3 3v5h2V8z"}),"RoundedCornerOutlined"),Yy=be(x.jsx("path",{d:"M20 4v12H8V4h12m0-2H8c-1.1 0-2 .9-2 2v12c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V4c0-1.1-.9-2-2-2zm-8.5 9.67 1.69 2.26 2.48-3.1L19 15H9zM2 6v14c0 1.1.9 2 2 2h14v-2H4V6H2z"}),"PhotoLibraryOutlined"),Gy=be(x.jsx("path",{d:"M13 3c-4.97 0-9 4.03-9 9H1l3.89 3.89.07.14L9 12H6c0-3.87 3.13-7 7-7s7 3.13 7 7-3.13 7-7 7c-1.93 0-3.68-.79-4.94-2.06l-1.42 1.42C8.27 19.99 10.51 21 13 21c4.97 0 9-4.03 9-9s-4.03-9-9-9zm-1 5v5l4.25 2.52.77-1.28-3.52-2.09V8z"}),"HistoryOutlined"),TO=be([x.jsx("path",{d:"m2.53 19.65 1.34.56v-9.03l-2.43 5.86c-.41 1.02.08 2.19 1.09 2.61zm19.5-3.7L17.07 3.98c-.31-.75-1.04-1.21-1.81-1.23-.26 0-.53.04-.79.15L7.1 5.95c-.75.31-1.21 1.03-1.23 1.8-.01.27.04.54.15.8l4.96 11.97c.31.76 1.05 1.22 1.83 1.23.26 0 .52-.05.77-.15l7.36-3.05c1.02-.42 1.51-1.59 1.09-2.6zm-9.2 3.8L7.87 7.79l7.35-3.04h.01l4.95 11.95-7.35 3.05z"},"0"),x.jsx("circle",{cx:"11",cy:"9",r:"1"},"1"),x.jsx("path",{d:"M5.88 19.75c0 1.1.9 2 2 2h1.45l-3.45-8.34v6.34z"},"2")],"StyleOutlined"),OO=be(x.jsx("path",{d:"M16 9v10H8V9h8m-1.5-6h-5l-1 1H5v2h14V4h-3.5l-1-1zM18 7H6v12c0 1.1.9 2 2 2h8c1.1 0 2-.9 2-2V7z"}),"DeleteOutlined"),PO=be(x.jsx("path",{d:"M18.85,10.39l1.06-1.06c0.78-0.78,0.78-2.05,0-2.83L18.5,5.09c-0.78-0.78-2.05-0.78-2.83,0l-1.06,1.06L18.85,10.39z M14.61,11.81L7.41,19H6v-1.41l7.19-7.19L14.61,11.81z M13.19,7.56L4,16.76V21h4.24l9.19-9.19L13.19,7.56L13.19,7.56z M19,17.5 c0,2.19-2.54,3.5-5,3.5c-0.55,0-1-0.45-1-1s0.45-1,1-1c1.54,0,3-0.73,3-1.5c0-0.47-0.48-0.87-1.23-1.2l1.48-1.48 C18.32,15.45,19,16.29,19,17.5z M4.58,13.35C3.61,12.79,3,12.06,3,11c0-1.8,1.89-2.63,3.56-3.36C7.59,7.18,9,6.56,9,6 c0-0.41-0.78-1-2-1C5.74,5,5.2,5.61,5.17,5.64C4.82,6.05,4.19,6.1,3.77,5.76C3.36,5.42,3.28,4.81,3.62,4.38C3.73,4.24,4.76,3,7,3 c2.24,0,4,1.32,4,3c0,1.87-1.93,2.72-3.64,3.47C6.42,9.88,5,10.5,5,11c0,0.31,0.43,0.6,1.07,0.86L4.58,13.35z"}),"Draw"),DO=be(x.jsx("path",{d:"m12 5.69 5 4.5V18h-2v-6H9v6H7v-7.81l5-4.5M12 3 2 12h3v8h6v-6h2v6h6v-8h3L12 3z"}),"HomeOutlined"),Nr={[Le.FILTER]:{name:ae("Applied Filters"),icon:Xy},[Le.RESIZE]:{name:ae("Resized Image"),icon:bO},[Le.CROP]:{name:ae("Cropped Image"),icon:wO},[Le.DRAW]:{name:ae("Added Drawing"),icon:PO},[Le.TEXT]:{name:ae("Added Text"),icon:xO},[Le.SHAPES]:{name:ae("Added Shape"),icon:CO},[Le.STICKERS]:{name:ae("Added Sticker"),icon:SO},[Le.FRAME]:{name:ae("Added Frame"),icon:_O},[Le.MERGE]:{name:ae("Merged Objects"),icon:EO},[Le.CORNERS]:{name:ae("Rounded Corner"),icon:kO},bgImage:{name:ae("Replaced Background Image"),icon:Yy},overlayImage:{name:ae("Added Image"),icon:Yy},initial:{name:ae("Initial"),icon:DO},loadedState:{name:ae("Loaded State"),icon:Gy},objectStyle:{name:ae("Changed Style"),icon:TO},deletedObject:{name:ae("Deleted object"),icon:OO}},AO=Object.values(Le).map(e=>({name:e,icon:Nr[e].icon,action:e===Le.MERGE?t=>{t.tools.merge.apply()}:e})),MO={filter:ae("filter"),resize:ae("resize"),crop:ae("crop"),draw:ae("draw"),text:ae("text"),shapes:ae("shapes"),stickers:ae("stickers"),frame:ae("frame"),corners:ae("corners"),merge:ae("merge")},jO=be(x.jsx("path",{d:"M18 15v3H6v-3H4v3c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2v-3h-2zm-1-4-1.41-1.41L13 12.17V4h-2v8.17L8.41 9.59 7 11l5 5 5-5z"}),"FileDownloadOutlined"),RO={name:"pixie",version:"3.0.5",main:"dist/pixie.umd.js",module:"dist/pixie.es.js",types:"dist/types/src/pixie.d.ts",private:!0,exports:{".":{import:"./dist/pixie.es.js",require:"./dist/pixie.umd.js"}},files:["dist"],scripts:{dev:"vite --host",build:"vite build && npm run build-umd && npm run types && npm run build-cc",types:"tsc --skipLibCheck --emitDeclarationOnly --noEmit false --declarationMap false","build-umd":"vite build --config scripts/vite-umd.config.ts","build-cc":"./scripts/build-cc.sh",serve:"vite preview",extract:"node ./scripts/extract-translations.js"},dependencies:{"@floating-ui/react-dom":"^2.0.2","@internationalized/date":"^3.5.0","@internationalized/number":"^3.3.0","@paypal/paypal-js":"^7.0.3","@react-aria/focus":"^3.14.3","@react-aria/interactions":"^3.19.1","@react-aria/overlays":"^3.18.1","@react-aria/ssr":"^3.8.0","@react-aria/utils":"^3.21.1","@react-stately/color":"^3.4.4","@react-stately/utils":"^3.8.0","@sentry/react":"^7.76.0","@sentry/tracing":"^7.76.0","@stripe/react-stripe-js":"^2.3.1","@stripe/stripe-js":"^2.1.10","@tailwindcss/container-queries":"^0.1.0","@tanstack/react-query":"^5.0.5","@tanstack/react-query-devtools":"^5.4.2","@tanstack/react-virtual":"^3.0.0-beta.68","@tiptap/extension-code-block-lowlight":"^2.1.12","@tiptap/extension-color":"^2.1.12","@tiptap/extension-image":"^2.1.12","@tiptap/extension-link":"^2.1.12","@tiptap/extension-subscript":"^2.1.12","@tiptap/extension-superscript":"^2.1.12","@tiptap/extension-text-align":"^2.1.12","@tiptap/extension-text-style":"^2.1.12","@tiptap/extension-underline":"^2.1.12","@tiptap/react":"^2.1.12","@tiptap/starter-kit":"^2.1.12","@types/google.visualization":"^0.0.71","@use-gesture/react":"^10.2.20","@vitejs/plugin-react-swc":"^3.4.0","ace-builds":"^1.31.0",axios:"^1.6.0","axios-retry":"^3.8.1","chart.js":"^4.4.0",clsx:"^2.0.0",color:"^4.2.3",dashjs:"^4.7.2","deep-object-diff":"^1.1.7",deepmerge:"^4.2.2","dot-object":"^2.1.4",fabric:"^5.3.0","file-saver":"^2.0.5","framer-motion":"^10.16.4",fscreen:"^1.2.0","get-video-id":"^3.6.5","highlight.js":"^11.9.0","hls.js":"^1.4.12",immer:"^10.0.3","just-debounce-it":"^3.2.0","linkify-string":"^4.0.2",lowlight:"^3.1.0","media-icons":"^0.10.0","mime-match":"^1.0.2","nano-memoize":"^1.3.0",nanoid:"^5.0.2","number-precision":"^1.6.0","performant-array-to-tree":"^1.11.0","prosemirror-state":"^1.4.1",react:">=18.2.0","react-ace":"^10.1.0","react-colorful":"^5.5.1","react-dom":">=18.2.0","react-hook-form":"^7.47.0","react-merge-refs":"^2.1.1","react-router-dom":"^6.17.0","react-textarea-autosize":"^8.5.3","react-use-clipboard":"^1.0.7","react-use-cookie":"^1.4.0",slugify:"^1.6.5","style-inject":"^0.3.0","swagger-ui-react":"^4.15","tus-js-client":"^3.0.1","url-regex":"^5.0.0","use-debounce":"^9.0.4","use-immer":"^0.9.0",zustand:"^4.4.4"},peerDependencies:{react:">=18.2.0","react-dom":">=18.2.0"},devDependencies:{"@prettier/plugin-php":"^0.21.0","@rollup/plugin-replace":"^5.0","@tailwindcss/typography":"^0.5.10","@types/color":"^3.0.6","@types/dot-object":"^2.1.4","@types/fabric":"^4.5.12","@types/file-saver":"^2.0.7","@types/fscreen":"^1.0.3","@types/react":"^18","@types/react-dom":"^18","@types/react-recaptcha-v3":"^1.1.3","@types/swagger-ui-react":"^4.18.2","@typescript-eslint/eslint-plugin":"^6.9.0","@typescript-eslint/parser":"^6.9.0","@vitejs/plugin-react":"^4.3.0",autoprefixer:"^10.4.16","babel-loader":"^9.1.3",cssnano:"^7.0.2",eslint:"^8.52.0","eslint-config-prettier":"^9.0.0","eslint-plugin-import":"^2.29.0","eslint-plugin-jsx-a11y":"^6.6.1","eslint-plugin-react":"^7.33.2","eslint-plugin-react-hooks":"^4.6.0",express:"^4.18.2","laravel-vite-plugin":"^0.8.1",postcss:"^8.4.31",prettier:"^3.0.3","prettier-plugin-blade":"^1.6.14","prettier-plugin-tailwindcss":"^0.5.6",tailwindcss:"^3.3",typescript:"^5.2.2","utility-types":"^3.10.0",vite:"^4.5.0","vite-tsconfig-paths":"^4.2.1"}}.version,Ky={selector:"pixie-editor",textureSize:4096,activeLanguage:"en",ui:{visible:!0,mode:Wh.INLINE,forceOverlayModeOnMobile:!0,activeTheme:du.LIGHT,themes:Yh,allowEditorClose:!0,menubar:{items:[{type:"undoWidget",align:"left"},{type:"zoomWidget",align:"center",desktopOnly:!0},{type:"button",icon:Gy,align:"right",desktopOnly:!0,action:e=>{e.togglePanel("history")}},{type:"button",icon:jO,label:ae("Done"),align:"right",action:e=>{var t;(t=e.state.config.ui)!=null&&t.showExportPanel?e.state.togglePanel("export",!0):e.tools.export.save()}}]},nav:{position:Vy.BOTTOM,items:[...AO]},openImageDialog:{show:!0,sampleImages:[{url:"images/samples/sample1.jpg",thumbnail:"images/samples/sample1_thumbnail.jpg"},{url:"images/samples/sample2.jpg",thumbnail:"images/samples/sample2_thumbnail.jpg"},{url:"images/samples/sample3.jpg",thumbnail:"images/samples/sample3_thumbnail.jpg"}]},colorPresets:{items:["rgb(0,0,0)","rgb(255, 255, 255)","rgb(242, 38, 19)","rgb(249, 105, 14)","rgb(253, 227, 167)","rgb(4, 147, 114)","rgb(30, 139, 195)","rgb(142, 68, 173)"]}},objectDefaults:{global:{...Xh},sticker:{fill:void 0},text:{textAlign:"initial",underline:!1,linethrough:!1,fontStyle:"normal",fontFamily:"Times New Roman",fontWeight:"normal",stroke:void 0,fontSize:40}},tools:{filter:{items:["grayscale","blackWhite","sharpen","invert","vintage","polaroid","kodachrome","technicolor","brownie","sepia","removeColor","brightness","gamma","noise","pixelate","blur","emboss","blendColor"]},zoom:{allowUserZoom:!0,fitImageToScreen:!0},crop:{allowCustomRatio:!0,defaultRatio:"1:1",presets:[{ratio:null,name:"Custom"},{ratio:"1:1",name:"Square"},{ratio:"4:3"},{ratio:"16:9"},{ratio:"5:3"},{ratio:"5:4"},{ratio:"6:4"},{ratio:"7:5"},{ratio:"10:8"}]},text:{defaultText:"Double click to edit",controlsPadding:6,items:[{family:"Roboto",src:"fonts/open-sans-v27-latin-ext_latin-regular.woff2"},{family:"Fuzzy Bubbles",src:"fonts/fuzzy-bubbles-v3-latin-700.woff2",descriptors:{weight:"700"}},{family:"Aleo Bold",src:"fonts/aleo-v4-latin-ext_latin-700.woff2",descriptors:{weight:"700"}},{family:"Amatic SC",src:"fonts/amatic-sc-v16-latin-ext_latin-regular.woff2"},{family:"Corinthia Bold",src:"fonts/corinthia-v7-latin-ext_latin-700.woff2"},{family:"Bungee Inline",src:"fonts/bungee-inline-v6-latin-ext_latin-regular.woff2"},{family:"Robot Slab Bold",src:"fonts/roboto-slab-v16-latin-ext_latin-500.woff2"},{family:"Carter One",src:"fonts/carter-one-v12-latin-regular.woff2"},{family:"Cody Star",src:"fonts/codystar-v10-latin-ext_latin-regular.woff2"},{family:"Fira Sans",src:"fonts/fira-sans-v11-latin-ext_latin_cyrillic-regular.woff2"},{family:"Krona One",src:"fonts/krona-one-v9-latin-ext_latin-regular.woff2"},{family:"Kumar One Outline",src:"fonts/kumar-one-outline-v8-latin-ext_latin-regular.woff2"},{family:"Lobster Two",src:"fonts/lobster-two-v13-latin-regular.woff2"},{family:"Molle Italic",src:"fonts/molle-v11-latin-ext_latin-italic.woff2"},{family:"Monoton",src:"fonts/monoton-v10-latin-regular.woff2"},{family:"Nixie One",src:"fonts/nixie-one-v11-latin-regular.woff2"},{family:"Permanent Marker",src:"fonts/permanent-marker-v10-latin-regular.woff2"},{family:"Sancreek",src:"fonts/sancreek-v13-latin-ext_latin-regular.woff2"},{family:"Stint Ultra Expanded",src:"fonts/stint-ultra-expanded-v10-latin-regular.woff2"},{family:"VT323",src:"fonts/vt323-v12-latin-ext_latin-regular.woff2"},{family:"Trash Hand",src:"fonts/TrashHand.ttf"}]},draw:{brushSizes:Hy,brushTypes:gO},shapes:{items:fO.slice()},stickers:{items:dO},import:{validImgExtensions:["png","jpg","jpeg","svg","gif"],fitOverlayToScreen:!0,openDroppedImageAsBackground:!1},export:{defaultFormat:"png",defaultQuality:.8,defaultName:"image"},frame:{items:[{name:"basic",mode:"basic",size:{min:1,max:35,default:10}},{name:"pine",mode:"stretch",size:{min:1,max:35,default:15}},{name:"oak",mode:"stretch",size:{min:1,max:35,default:15}},{name:"rainbow",mode:"stretch",size:{min:1,max:35,default:15}},{name:"grunge1",display_name:"grunge #1",mode:"stretch",size:{min:1,max:35,default:15}},{name:"grunge2",display_name:"grunge #2",mode:"stretch",size:{min:1,max:35,default:20}},{name:"ebony",mode:"stretch",size:{min:1,max:35,default:15}},{name:"art1",display_name:"Art #1",mode:"repeat",size:{min:10,max:70,default:55}},{name:"art2",display_name:"Art #2",mode:"repeat",size:{min:10,max:70,default:55}}]}}},qy=e=>{let t;const n=new Set,r=(d,l)=>{const c=typeof d=="function"?d(t):d;if(!Object.is(c,t)){const f=t;t=l??(typeof c!="object"||c===null)?c:Object.assign({},t,c),n.forEach(p=>p(t,f))}},i=()=>t,o={setState:r,getState:i,getInitialState:()=>u,subscribe:d=>(n.add(d),()=>n.delete(d)),destroy:()=>{n.clear()}},u=t=e(r,i,o);return o},FO=e=>e?qy(e):qy;var Qy={exports:{}},Jy={},Zy={exports:{}},e1={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Fs=k;function IO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var LO=typeof Object.is=="function"?Object.is:IO,zO=Fs.useState,BO=Fs.useEffect,NO=Fs.useLayoutEffect,$O=Fs.useDebugValue;function VO(e,t){var n=t(),r=zO({inst:{value:n,getSnapshot:t}}),i=r[0].inst,s=r[1];return NO(function(){i.value=n,i.getSnapshot=t,Gh(i)&&s({inst:i})},[e,n,t]),BO(function(){return Gh(i)&&s({inst:i}),e(function(){Gh(i)&&s({inst:i})})},[e]),$O(n),n}function Gh(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!LO(e,n)}catch{return!0}}function HO(e,t){return t()}var UO=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?HO:VO;e1.useSyncExternalStore=Fs.useSyncExternalStore!==void 0?Fs.useSyncExternalStore:UO,Zy.exports=e1;var WO=Zy.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pu=k,XO=WO;function YO(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var GO=typeof Object.is=="function"?Object.is:YO,KO=XO.useSyncExternalStore,qO=pu.useRef,QO=pu.useEffect,JO=pu.useMemo,ZO=pu.useDebugValue;Jy.useSyncExternalStoreWithSelector=function(e,t,n,r,i){var s=qO(null);if(s.current===null){var h={hasValue:!1,value:null};s.current=h}else h=s.current;s=JO(function(){function o(f){if(!u){if(u=!0,d=f,f=r(f),i!==void 0&&h.hasValue){var p=h.value;if(i(p,f))return l=p}return l=f}if(p=l,GO(d,f))return p;var m=r(f);return i!==void 0&&i(p,m)?p:(d=f,l=m)}var u=!1,d,l,c=n===void 0?null:n;return[function(){return o(t())},c===null?void 0:function(){return o(c())}]},[t,n,r,i]);var a=KO(e,s[0],s[1]);return QO(function(){h.hasValue=!0,h.value=a},[a]),ZO(a),a},Qy.exports=Jy;var eP=Qy.exports;const tP=Ae(eP),{useDebugValue:nP}=de,{useSyncExternalStoreWithSelector:rP}=tP;let jH=!1;const iP=e=>e;function sP(e,t=iP,n){const r=rP(e.subscribe,e.getState,e.getServerState||e.getInitialState,t,n);return nP(r),r}const t1=e=>{const t=typeof e=="function"?FO(e):e,n=(r,i)=>sP(t,r,i);return Object.assign(n,t),n},n1=e=>e?t1(e):t1,oP=e=>(t,n,r)=>{const i=r.subscribe;return r.subscribe=(h,a,o)=>{let u=h;if(a){const d=(o==null?void 0:o.equalityFn)||Object.is;let l=h(r.getState());u=c=>{const f=h(c);if(!d(l,f)){const p=l;a(l=f,p)}},o!=null&&o.fireImmediately&&a(l,l)}return i(u)},e(t,n,r)};var r1=Symbol.for("immer-nothing"),i1=Symbol.for("immer-draftable"),Zt=Symbol.for("immer-state");function An(e,...t){throw new Error(`[Immer] minified error nr: ${e}. Full error at: https://bit.ly/3cXEKWf`)}var Is=Object.getPrototypeOf;function Ls(e){return!!e&&!!e[Zt]}function Ri(e){var t;return e?s1(e)||Array.isArray(e)||!!e[i1]||!!((t=e.constructor)!=null&&t[i1])||vu(e)||yu(e):!1}var aP=Object.prototype.constructor.toString();function s1(e){if(!e||typeof e!="object")return!1;const t=Is(e);if(t===null)return!0;const n=Object.hasOwnProperty.call(t,"constructor")&&t.constructor;return n===Object?!0:typeof n=="function"&&Function.toString.call(n)===aP}function gu(e,t){mu(e)===0?Reflect.ownKeys(e).forEach(n=>{t(n,e[n],e)}):e.forEach((n,r)=>t(r,n,e))}function mu(e){const t=e[Zt];return t?t.type_:Array.isArray(e)?1:vu(e)?2:yu(e)?3:0}function Kh(e,t){return mu(e)===2?e.has(t):Object.prototype.hasOwnProperty.call(e,t)}function o1(e,t,n){const r=mu(e);r===2?e.set(t,n):r===3?e.add(n):e[t]=n}function lP(e,t){return e===t?e!==0||1/e===1/t:e!==e&&t!==t}function vu(e){return e instanceof Map}function yu(e){return e instanceof Set}function Fi(e){return e.copy_||e.base_}function qh(e,t){if(vu(e))return new Map(e);if(yu(e))return new Set(e);if(Array.isArray(e))return Array.prototype.slice.call(e);const n=s1(e);if(t===!0||t==="class_only"&&!n){const r=Object.getOwnPropertyDescriptors(e);delete r[Zt];let i=Reflect.ownKeys(r);for(let s=0;s<i.length;s++){const h=i[s],a=r[h];a.writable===!1&&(a.writable=!0,a.configurable=!0),(a.get||a.set)&&(r[h]={configurable:!0,writable:!0,enumerable:a.enumerable,value:e[h]})}return Object.create(Is(e),r)}else{const r=Is(e);if(r!==null&&n)return{...e};const i=Object.create(r);return Object.assign(i,e)}}function Qh(e,t=!1){return bu(e)||Ls(e)||!Ri(e)||(mu(e)>1&&(e.set=e.add=e.clear=e.delete=uP),Object.freeze(e),t&&Object.entries(e).forEach(([n,r])=>Qh(r,!0))),e}function uP(){An(2)}function bu(e){return Object.isFrozen(e)}var cP={};function Ii(e){const t=cP[e];return t||An(0,e),t}var ua;function a1(){return ua}function fP(e,t){return{drafts_:[],parent_:e,immer_:t,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function l1(e,t){t&&(Ii("Patches"),e.patches_=[],e.inversePatches_=[],e.patchListener_=t)}function Jh(e){Zh(e),e.drafts_.forEach(hP),e.drafts_=null}function Zh(e){e===ua&&(ua=e.parent_)}function u1(e){return ua=fP(ua,e)}function hP(e){const t=e[Zt];t.type_===0||t.type_===1?t.revoke_():t.revoked_=!0}function c1(e,t){t.unfinalizedDrafts_=t.drafts_.length;const n=t.drafts_[0];return e!==void 0&&e!==n?(n[Zt].modified_&&(Jh(t),An(4)),Ri(e)&&(e=wu(t,e),t.parent_||xu(t,e)),t.patches_&&Ii("Patches").generateReplacementPatches_(n[Zt].base_,e,t.patches_,t.inversePatches_)):e=wu(t,n,[]),Jh(t),t.patches_&&t.patchListener_(t.patches_,t.inversePatches_),e!==r1?e:void 0}function wu(e,t,n){if(bu(t))return t;const r=t[Zt];if(!r)return gu(t,(i,s)=>f1(e,r,t,i,s,n)),t;if(r.scope_!==e)return t;if(!r.modified_)return xu(e,r.base_,!0),r.base_;if(!r.finalized_){r.finalized_=!0,r.scope_.unfinalizedDrafts_--;const i=r.copy_;let s=i,h=!1;r.type_===3&&(s=new Set(i),i.clear(),h=!0),gu(s,(a,o)=>f1(e,r,i,a,o,n,h)),xu(e,i,!1),n&&e.patches_&&Ii("Patches").generatePatches_(r,n,e.patches_,e.inversePatches_)}return r.copy_}function f1(e,t,n,r,i,s,h){if(Ls(i)){const a=s&&t&&t.type_!==3&&!Kh(t.assigned_,r)?s.concat(r):void 0,o=wu(e,i,a);if(o1(n,r,o),Ls(o))e.canAutoFreeze_=!1;else return}else h&&n.add(i);if(Ri(i)&&!bu(i)){if(!e.immer_.autoFreeze_&&e.unfinalizedDrafts_<1)return;wu(e,i),(!t||!t.scope_.parent_)&&typeof r!="symbol"&&Object.prototype.propertyIsEnumerable.call(n,r)&&xu(e,i)}}function xu(e,t,n=!1){!e.parent_&&e.immer_.autoFreeze_&&e.canAutoFreeze_&&Qh(t,n)}function dP(e,t){const n=Array.isArray(e),r={type_:n?1:0,scope_:t?t.scope_:a1(),modified_:!1,finalized_:!1,assigned_:{},parent_:t,base_:e,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=r,s=ed;n&&(i=[r],s=ca);const{revoke:h,proxy:a}=Proxy.revocable(i,s);return r.draft_=a,r.revoke_=h,a}var ed={get(e,t){if(t===Zt)return e;const n=Fi(e);if(!Kh(n,t))return pP(e,n,t);const r=n[t];return e.finalized_||!Ri(r)?r:r===td(e.base_,t)?(rd(e),e.copy_[t]=id(r,e)):r},has(e,t){return t in Fi(e)},ownKeys(e){return Reflect.ownKeys(Fi(e))},set(e,t,n){const r=h1(Fi(e),t);if(r!=null&&r.set)return r.set.call(e.draft_,n),!0;if(!e.modified_){const i=td(Fi(e),t),s=i==null?void 0:i[Zt];if(s&&s.base_===n)return e.copy_[t]=n,e.assigned_[t]=!1,!0;if(lP(n,i)&&(n!==void 0||Kh(e.base_,t)))return!0;rd(e),nd(e)}return e.copy_[t]===n&&(n!==void 0||t in e.copy_)||Number.isNaN(n)&&Number.isNaN(e.copy_[t])||(e.copy_[t]=n,e.assigned_[t]=!0),!0},deleteProperty(e,t){return td(e.base_,t)!==void 0||t in e.base_?(e.assigned_[t]=!1,rd(e),nd(e)):delete e.assigned_[t],e.copy_&&delete e.copy_[t],!0},getOwnPropertyDescriptor(e,t){const n=Fi(e),r=Reflect.getOwnPropertyDescriptor(n,t);return r&&{writable:!0,configurable:e.type_!==1||t!=="length",enumerable:r.enumerable,value:n[t]}},defineProperty(){An(11)},getPrototypeOf(e){return Is(e.base_)},setPrototypeOf(){An(12)}},ca={};gu(ed,(e,t)=>{ca[e]=function(){return arguments[0]=arguments[0][0],t.apply(this,arguments)}}),ca.deleteProperty=function(e,t){return ca.set.call(this,e,t,void 0)},ca.set=function(e,t,n){return ed.set.call(this,e[0],t,n,e[0])};function td(e,t){const n=e[Zt];return(n?Fi(n):e)[t]}function pP(e,t,n){var i;const r=h1(t,n);return r?"value"in r?r.value:(i=r.get)==null?void 0:i.call(e.draft_):void 0}function h1(e,t){if(!(t in e))return;let n=Is(e);for(;n;){const r=Object.getOwnPropertyDescriptor(n,t);if(r)return r;n=Is(n)}}function nd(e){e.modified_||(e.modified_=!0,e.parent_&&nd(e.parent_))}function rd(e){e.copy_||(e.copy_=qh(e.base_,e.scope_.immer_.useStrictShallowCopy_))}var gP=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.produce=(t,n,r)=>{if(typeof t=="function"&&typeof n!="function"){const s=n;n=t;const h=this;return function(o=s,...u){return h.produce(o,d=>n.call(this,d,...u))}}typeof n!="function"&&An(6),r!==void 0&&typeof r!="function"&&An(7);let i;if(Ri(t)){const s=u1(this),h=id(t,void 0);let a=!0;try{i=n(h),a=!1}finally{a?Jh(s):Zh(s)}return l1(s,r),c1(i,s)}else if(!t||typeof t!="object"){if(i=n(t),i===void 0&&(i=t),i===r1&&(i=void 0),this.autoFreeze_&&Qh(i,!0),r){const s=[],h=[];Ii("Patches").generateReplacementPatches_(t,i,s,h),r(s,h)}return i}else An(1,t)},this.produceWithPatches=(t,n)=>{if(typeof t=="function")return(h,...a)=>this.produceWithPatches(h,o=>t(o,...a));let r,i;return[this.produce(t,n,(h,a)=>{r=h,i=a}),r,i]},typeof(e==null?void 0:e.autoFreeze)=="boolean"&&this.setAutoFreeze(e.autoFreeze),typeof(e==null?void 0:e.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(e.useStrictShallowCopy)}createDraft(e){Ri(e)||An(8),Ls(e)&&(e=mP(e));const t=u1(this),n=id(e,void 0);return n[Zt].isManual_=!0,Zh(t),n}finishDraft(e,t){const n=e&&e[Zt];(!n||!n.isManual_)&&An(9);const{scope_:r}=n;return l1(r,t),c1(void 0,r)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}applyPatches(e,t){let n;for(n=t.length-1;n>=0;n--){const i=t[n];if(i.path.length===0&&i.op==="replace"){e=i.value;break}}n>-1&&(t=t.slice(n+1));const r=Ii("Patches").applyPatches_;return Ls(e)?r(e,t):this.produce(e,i=>r(i,t))}};function id(e,t){const n=vu(e)?Ii("MapSet").proxyMap_(e,t):yu(e)?Ii("MapSet").proxySet_(e,t):dP(e,t);return(t?t.scope_:a1()).drafts_.push(n),n}function mP(e){return Ls(e)||An(10,e),d1(e)}function d1(e){if(!Ri(e)||bu(e))return e;const t=e[Zt];let n;if(t){if(!t.modified_)return t.base_;t.finalized_=!0,n=qh(e,t.scope_.immer_.useStrictShallowCopy_)}else n=qh(e,!0);return gu(n,(r,i)=>{o1(n,r,d1(i))}),t&&(t.finalized_=!1),n}var en=new gP,vP=en.produce;en.produceWithPatches.bind(en),en.setAutoFreeze.bind(en),en.setUseStrictShallowCopy.bind(en),en.applyPatches.bind(en),en.createDraft.bind(en),en.finishDraft.bind(en);function FH(e){return e}var yP=function(t){return bP(t)&&!wP(t)};function bP(e){return!!e&&typeof e=="object"}function wP(e){var t=Object.prototype.toString.call(e);return t==="[object RegExp]"||t==="[object Date]"||SP(e)}var xP=typeof Symbol=="function"&&Symbol.for,CP=xP?Symbol.for("react.element"):60103;function SP(e){return e.$$typeof===CP}function _P(e){return Array.isArray(e)?[]:{}}function fa(e,t){return t.clone!==!1&&t.isMergeableObject(e)?zs(_P(e),e,t):e}function EP(e,t,n){return e.concat(t).map(function(r){return fa(r,n)})}function kP(e,t){if(!t.customMerge)return zs;var n=t.customMerge(e);return typeof n=="function"?n:zs}function TP(e){return Object.getOwnPropertySymbols?Object.getOwnPropertySymbols(e).filter(function(t){return Object.propertyIsEnumerable.call(e,t)}):[]}function p1(e){return Object.keys(e).concat(TP(e))}function g1(e,t){try{return t in e}catch{return!1}}function OP(e,t){return g1(e,t)&&!(Object.hasOwnProperty.call(e,t)&&Object.propertyIsEnumerable.call(e,t))}function PP(e,t,n){var r={};return n.isMergeableObject(e)&&p1(e).forEach(function(i){r[i]=fa(e[i],n)}),p1(t).forEach(function(i){OP(e,i)||(g1(e,i)&&n.isMergeableObject(t[i])?r[i]=kP(i,n)(e[i],t[i],n):r[i]=fa(t[i],n))}),r}function zs(e,t,n){n=n||{},n.arrayMerge=n.arrayMerge||EP,n.isMergeableObject=n.isMergeableObject||yP,n.cloneUnlessOtherwiseSpecified=fa;var r=Array.isArray(t),i=Array.isArray(e),s=r===i;return s?r?n.arrayMerge(e,t,n):PP(e,t,n):fa(t,n)}zs.all=function(t,n){if(!Array.isArray(t))throw new Error("first argument should be an array");return t.reduce(function(r,i){return zs(r,i,n)},{})};var DP=zs,AP=DP;const m1=Ae(AP);function MP(e){return e?e.charAt(0).toLowerCase()+e.slice(1):""}function jP(e,t){const n=m1(t,e);return v1(n,e)}function v1(e,t){return Object.keys(e).forEach(n=>{if(n.startsWith("replaceDefault")&&e[n]){const r=MP(n.replace("replaceDefault","")||"items");e[r]=t?t[r]:[],delete e[n]}else typeof e[n]=="object"&&e[n]!==null&&v1(e[n],t==null?void 0:t[n])}),e}const RP=(e,t)=>({history:{...y1,updatePointerById:n=>{const r=t().history.items.findIndex(i=>i.id===n);t().history.update(r)},update:(n,r)=>{e(i=>{i.history.pointer=n,r&&(i.history.items=r),i.history.canUndo=i.history.pointer>0,i.history.canRedo=i.history.items.length>i.history.pointer+1})},reset:n=>{e({history:{...t().history,...n??y1}})}}}),y1={items:[],pointer:0,canUndo:!1,canRedo:!1};var yn=(e=>(e.Filter="filter",e.Frame="frame",e.ActiveObject="activeObj",e.Text="text",e))(yn||{});const FP=(e,t)=>({filter:{...b1,select(n,r=!1){e(i=>{i.filter.selected=n,i.activeToolOverlay=r?yn.Filter:null,i.dirty=!0})},deselect(n){t().filter.selected===n&&e(r=>{r.filter.selected=null,r.activeToolOverlay=null,r.dirty=!0})},reset(){e({filter:{...t().filter,...b1}})}}}),b1={selected:null,applied:[]},IP=(e,t)=>({crop:{...w1,setCropzoneRect:n=>{e(r=>{r.crop.zoneRect=n})},setAspectRatio:n=>{e(r=>{r.crop.selectedAspectRatio=n})},setTransformAngle:n=>{e(r=>{r.crop.straightenAngle=n})},apply:async()=>{const n=t().crop.zoneRect;if(n){const r={width:Math.ceil(n.width/t().zoom),height:Math.ceil(n.height/t().zoom),left:Math.ceil(n.left/t().zoom),top:Math.ceil(n.top/t().zoom)};await t().editor.tools.crop.apply(r)}},reset:()=>{e({crop:{...t().crop,...w1}})}}}),w1={zoneRect:null,selectedAspectRatio:null,straightenAngle:0};function $r(e){return(e==null?void 0:e.type)==="i-text"}var rt=(e=>(e.Text="text",e.Shape="shape",e.Sticker="sticker",e.Drawing="drawing",e.Image="image",e.MainImage="mainImage",e.StraightenAnchor="straightenHelper",e))(rt||{});const LP={text:{name:ae("Text"),icon:Nr.text.icon},shape:{name:ae("Shape"),icon:Nr.shapes.icon},sticker:{name:ae("Sticker"),icon:Nr.stickers.icon},drawing:{name:ae("Drawing"),icon:Nr.draw.icon},image:{name:ae("Image"),icon:Nr.overlayImage.icon},mainImage:{name:ae("Background Image"),icon:Nr.bgImage.icon}};function zP(e){return e.name===rt.Image}const x1={isMoving:!1,editableProps:{},id:null,isText:!1,isImage:!1,name:null};function BP(e){if(!e)return{};const t={fill:e.fill,opacity:e.opacity,backgroundColor:e.backgroundColor,stroke:e.stroke,strokeWidth:e.strokeWidth},n=e.shadow;return n&&(t.shadow={color:n.color,blur:n.blur,offsetX:n.offsetX,offsetY:n.offsetY}),$r(e)&&(t.textAlign=e.textAlign,t.underline=e.underline,t.linethrough=e.linethrough,t.fontStyle=e.fontStyle,t.fontFamily=e.fontFamily,t.fontWeight=e.fontWeight,t.fontSize=e.fontSize),t}const NP=(e,t)=>({objects:{...C1,setActiveIsMoving:n=>{e(r=>{r.objects.active.isMoving=n})},setIsEditingText:n=>{e(r=>{r.objects.isEditingText=n})},setActive:n=>{e(n?r=>{r.objects.active.editableProps=BP(n),r.objects.active.id=n.data.id,r.objects.active.name=n.name??null,r.objects.active.isText=$r(n),r.objects.active.isImage=zP(n)}:r=>{var s,h,a,o,u;const i={...(s=t().config.objectDefaults)==null?void 0:s.global,fontFamily:(a=(h=t().config.objectDefaults)==null?void 0:h.text)==null?void 0:a.fontFamily,fontSize:(u=(o=t().config.objectDefaults)==null?void 0:o.text)==null?void 0:u.fontSize};r.objects.active={...x1,editableProps:i}})},reset(){e({objects:{...t().objects,...C1}})}}}),C1={all:[],isEditingText:!1,active:x1},$P=(e,t)=>({frame:{...S1,select:n=>{e(r=>{r.frame.active=n}),t().frame.showOptionsPanel()},deselect:()=>{e(n=>{n.frame.active=null,n.activeToolOverlay=null})},showOptionsPanel:()=>{t().activeTool===Le.FRAME&&e(n=>{n.activeToolOverlay=yn.Frame})},reset(){e({frame:{...t().frame,...S1}})}}}),S1={active:null},VP=(e,t)=>({resize:{..._1,setFormValue:n=>{e(r=>{Object.entries(n).forEach(([i,s])=>{r.resize.formValue[i]=s})})},apply(){const n=t().resize.formValue,r=t().original;if(n.width===r.width&&n.height===r.height)return!1;t().editor.tools.resize.apply(n)},reset(){e({resize:{...t().resize,..._1}})}}}),_1={formValue:{width:1,height:1,maintainAspect:!0,usePercentages:!1}},HP=(e,t)=>({corners:{...E1,setRadius:n=>{e(r=>{r.corners.radius=n})},apply(){return t().editor.tools.corners.apply(t().corners.radius)},reset(){e({corners:{...t().corners,...E1}})}}}),E1={radius:50},k1=e=>(t,n,r)=>(r.setState=(i,s,...h)=>{const a=typeof i=="function"?vP(i):i;return t(a,s,...h)},e(r.setState,n,r));var T1={exports:{}},UP={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]},O1={exports:{}},WP=function(t){return!t||typeof t=="string"?!1:t instanceof Array||Array.isArray(t)||t.length>=0&&(t.splice instanceof Function||Object.getOwnPropertyDescriptor(t,t.length-1)&&t.constructor.name!=="String")},XP=WP,YP=Array.prototype.concat,GP=Array.prototype.slice,P1=O1.exports=function(t){for(var n=[],r=0,i=t.length;r<i;r++){var s=t[r];XP(s)?n=YP.call(n,GP.call(s)):n.push(s)}return n};P1.wrap=function(e){return function(){return e(P1(arguments))}};var KP=O1.exports,ha=UP,da=KP,D1=Object.hasOwnProperty,A1=Object.create(null);for(var sd in ha)D1.call(ha,sd)&&(A1[ha[sd]]=sd);var tn=T1.exports={to:{},get:{}};tn.get=function(e){var t=e.substring(0,3).toLowerCase(),n,r;switch(t){case"hsl":n=tn.get.hsl(e),r="hsl";break;case"hwb":n=tn.get.hwb(e),r="hwb";break;default:n=tn.get.rgb(e),r="rgb";break}return n?{model:r,value:n}:null},tn.get.rgb=function(e){if(!e)return null;var t=/^#([a-f0-9]{3,4})$/i,n=/^#([a-f0-9]{6})([a-f0-9]{2})?$/i,r=/^rgba?\(\s*([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)(?=[\s,])\s*(?:,\s*)?([+-]?\d+)\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,i=/^rgba?\(\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*,?\s*([+-]?[\d\.]+)\%\s*(?:[,|\/]\s*([+-]?[\d\.]+)(%?)\s*)?\)$/,s=/^(\w+)$/,h=[0,0,0,1],a,o,u;if(a=e.match(n)){for(u=a[2],a=a[1],o=0;o<3;o++){var d=o*2;h[o]=parseInt(a.slice(d,d+2),16)}u&&(h[3]=parseInt(u,16)/255)}else if(a=e.match(t)){for(a=a[1],u=a[3],o=0;o<3;o++)h[o]=parseInt(a[o]+a[o],16);u&&(h[3]=parseInt(u+u,16)/255)}else if(a=e.match(r)){for(o=0;o<3;o++)h[o]=parseInt(a[o+1],0);a[4]&&(a[5]?h[3]=parseFloat(a[4])*.01:h[3]=parseFloat(a[4]))}else if(a=e.match(i)){for(o=0;o<3;o++)h[o]=Math.round(parseFloat(a[o+1])*2.55);a[4]&&(a[5]?h[3]=parseFloat(a[4])*.01:h[3]=parseFloat(a[4]))}else return(a=e.match(s))?a[1]==="transparent"?[0,0,0,0]:D1.call(ha,a[1])?(h=ha[a[1]],h[3]=1,h):null:null;for(o=0;o<3;o++)h[o]=Vr(h[o],0,255);return h[3]=Vr(h[3],0,1),h},tn.get.hsl=function(e){if(!e)return null;var t=/^hsla?\(\s*([+-]?(?:\d{0,3}\.)?\d+)(?:deg)?\s*,?\s*([+-]?[\d\.]+)%\s*,?\s*([+-]?[\d\.]+)%\s*(?:[,|\/]\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=e.match(t);if(n){var r=parseFloat(n[4]),i=(parseFloat(n[1])%360+360)%360,s=Vr(parseFloat(n[2]),0,100),h=Vr(parseFloat(n[3]),0,100),a=Vr(isNaN(r)?1:r,0,1);return[i,s,h,a]}return null},tn.get.hwb=function(e){if(!e)return null;var t=/^hwb\(\s*([+-]?\d{0,3}(?:\.\d+)?)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?(?=\.\d|\d)(?:0|[1-9]\d*)?(?:\.\d*)?(?:[eE][+-]?\d+)?)\s*)?\)$/,n=e.match(t);if(n){var r=parseFloat(n[4]),i=(parseFloat(n[1])%360+360)%360,s=Vr(parseFloat(n[2]),0,100),h=Vr(parseFloat(n[3]),0,100),a=Vr(isNaN(r)?1:r,0,1);return[i,s,h,a]}return null},tn.to.hex=function(){var e=da(arguments);return"#"+Cu(e[0])+Cu(e[1])+Cu(e[2])+(e[3]<1?Cu(Math.round(e[3]*255)):"")},tn.to.rgb=function(){var e=da(arguments);return e.length<4||e[3]===1?"rgb("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+")":"rgba("+Math.round(e[0])+", "+Math.round(e[1])+", "+Math.round(e[2])+", "+e[3]+")"},tn.to.rgb.percent=function(){var e=da(arguments),t=Math.round(e[0]/255*100),n=Math.round(e[1]/255*100),r=Math.round(e[2]/255*100);return e.length<4||e[3]===1?"rgb("+t+"%, "+n+"%, "+r+"%)":"rgba("+t+"%, "+n+"%, "+r+"%, "+e[3]+")"},tn.to.hsl=function(){var e=da(arguments);return e.length<4||e[3]===1?"hsl("+e[0]+", "+e[1]+"%, "+e[2]+"%)":"hsla("+e[0]+", "+e[1]+"%, "+e[2]+"%, "+e[3]+")"},tn.to.hwb=function(){var e=da(arguments),t="";return e.length>=4&&e[3]!==1&&(t=", "+e[3]),"hwb("+e[0]+", "+e[1]+"%, "+e[2]+"%"+t+")"},tn.to.keyword=function(e){return A1[e.slice(0,3)]};function Vr(e,t,n){return Math.min(Math.max(t,e),n)}function Cu(e){var t=Math.round(e).toString(16).toUpperCase();return t.length<2?"0"+t:t}var qP=T1.exports,QP={aliceblue:[240,248,255],antiquewhite:[250,235,215],aqua:[0,255,255],aquamarine:[127,255,212],azure:[240,255,255],beige:[245,245,220],bisque:[255,228,196],black:[0,0,0],blanchedalmond:[255,235,205],blue:[0,0,255],blueviolet:[138,43,226],brown:[165,42,42],burlywood:[222,184,135],cadetblue:[95,158,160],chartreuse:[127,255,0],chocolate:[210,105,30],coral:[255,127,80],cornflowerblue:[100,149,237],cornsilk:[255,248,220],crimson:[220,20,60],cyan:[0,255,255],darkblue:[0,0,139],darkcyan:[0,139,139],darkgoldenrod:[184,134,11],darkgray:[169,169,169],darkgreen:[0,100,0],darkgrey:[169,169,169],darkkhaki:[189,183,107],darkmagenta:[139,0,139],darkolivegreen:[85,107,47],darkorange:[255,140,0],darkorchid:[153,50,204],darkred:[139,0,0],darksalmon:[233,150,122],darkseagreen:[143,188,143],darkslateblue:[72,61,139],darkslategray:[47,79,79],darkslategrey:[47,79,79],darkturquoise:[0,206,209],darkviolet:[148,0,211],deeppink:[255,20,147],deepskyblue:[0,191,255],dimgray:[105,105,105],dimgrey:[105,105,105],dodgerblue:[30,144,255],firebrick:[178,34,34],floralwhite:[255,250,240],forestgreen:[34,139,34],fuchsia:[255,0,255],gainsboro:[220,220,220],ghostwhite:[248,248,255],gold:[255,215,0],goldenrod:[218,165,32],gray:[128,128,128],green:[0,128,0],greenyellow:[173,255,47],grey:[128,128,128],honeydew:[240,255,240],hotpink:[255,105,180],indianred:[205,92,92],indigo:[75,0,130],ivory:[255,255,240],khaki:[240,230,140],lavender:[230,230,250],lavenderblush:[255,240,245],lawngreen:[124,252,0],lemonchiffon:[255,250,205],lightblue:[173,216,230],lightcoral:[240,128,128],lightcyan:[224,255,255],lightgoldenrodyellow:[250,250,210],lightgray:[211,211,211],lightgreen:[144,238,144],lightgrey:[211,211,211],lightpink:[255,182,193],lightsalmon:[255,160,122],lightseagreen:[32,178,170],lightskyblue:[135,206,250],lightslategray:[119,136,153],lightslategrey:[119,136,153],lightsteelblue:[176,196,222],lightyellow:[255,255,224],lime:[0,255,0],limegreen:[50,205,50],linen:[250,240,230],magenta:[255,0,255],maroon:[128,0,0],mediumaquamarine:[102,205,170],mediumblue:[0,0,205],mediumorchid:[186,85,211],mediumpurple:[147,112,219],mediumseagreen:[60,179,113],mediumslateblue:[123,104,238],mediumspringgreen:[0,250,154],mediumturquoise:[72,209,204],mediumvioletred:[199,21,133],midnightblue:[25,25,112],mintcream:[245,255,250],mistyrose:[255,228,225],moccasin:[255,228,181],navajowhite:[255,222,173],navy:[0,0,128],oldlace:[253,245,230],olive:[128,128,0],olivedrab:[107,142,35],orange:[255,165,0],orangered:[255,69,0],orchid:[218,112,214],palegoldenrod:[238,232,170],palegreen:[152,251,152],paleturquoise:[175,238,238],palevioletred:[219,112,147],papayawhip:[255,239,213],peachpuff:[255,218,185],peru:[205,133,63],pink:[255,192,203],plum:[221,160,221],powderblue:[176,224,230],purple:[128,0,128],rebeccapurple:[102,51,153],red:[255,0,0],rosybrown:[188,143,143],royalblue:[65,105,225],saddlebrown:[139,69,19],salmon:[250,128,114],sandybrown:[244,164,96],seagreen:[46,139,87],seashell:[255,245,238],sienna:[160,82,45],silver:[192,192,192],skyblue:[135,206,235],slateblue:[106,90,205],slategray:[112,128,144],slategrey:[112,128,144],snow:[255,250,250],springgreen:[0,255,127],steelblue:[70,130,180],tan:[210,180,140],teal:[0,128,128],thistle:[216,191,216],tomato:[255,99,71],turquoise:[64,224,208],violet:[238,130,238],wheat:[245,222,179],white:[255,255,255],whitesmoke:[245,245,245],yellow:[255,255,0],yellowgreen:[154,205,50]};const pa=QP,M1={};for(const e of Object.keys(pa))M1[pa[e]]=e;const ye={rgb:{channels:3,labels:"rgb"},hsl:{channels:3,labels:"hsl"},hsv:{channels:3,labels:"hsv"},hwb:{channels:3,labels:"hwb"},cmyk:{channels:4,labels:"cmyk"},xyz:{channels:3,labels:"xyz"},lab:{channels:3,labels:"lab"},lch:{channels:3,labels:"lch"},hex:{channels:1,labels:["hex"]},keyword:{channels:1,labels:["keyword"]},ansi16:{channels:1,labels:["ansi16"]},ansi256:{channels:1,labels:["ansi256"]},hcg:{channels:3,labels:["h","c","g"]},apple:{channels:3,labels:["r16","g16","b16"]},gray:{channels:1,labels:["gray"]}};var j1=ye;for(const e of Object.keys(ye)){if(!("channels"in ye[e]))throw new Error("missing channels property: "+e);if(!("labels"in ye[e]))throw new Error("missing channel labels property: "+e);if(ye[e].labels.length!==ye[e].channels)throw new Error("channel and label counts mismatch: "+e);const{channels:t,labels:n}=ye[e];delete ye[e].channels,delete ye[e].labels,Object.defineProperty(ye[e],"channels",{value:t}),Object.defineProperty(ye[e],"labels",{value:n})}ye.rgb.hsl=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.min(t,n,r),s=Math.max(t,n,r),h=s-i;let a,o;s===i?a=0:t===s?a=(n-r)/h:n===s?a=2+(r-t)/h:r===s&&(a=4+(t-n)/h),a=Math.min(a*60,360),a<0&&(a+=360);const u=(i+s)/2;return s===i?o=0:u<=.5?o=h/(s+i):o=h/(2-s-i),[a,o*100,u*100]},ye.rgb.hsv=function(e){let t,n,r,i,s;const h=e[0]/255,a=e[1]/255,o=e[2]/255,u=Math.max(h,a,o),d=u-Math.min(h,a,o),l=function(c){return(u-c)/6/d+1/2};return d===0?(i=0,s=0):(s=d/u,t=l(h),n=l(a),r=l(o),h===u?i=r-n:a===u?i=1/3+t-r:o===u&&(i=2/3+n-t),i<0?i+=1:i>1&&(i-=1)),[i*360,s*100,u*100]},ye.rgb.hwb=function(e){const t=e[0],n=e[1];let r=e[2];const i=ye.rgb.hsl(e)[0],s=1/255*Math.min(t,Math.min(n,r));return r=1-1/255*Math.max(t,Math.max(n,r)),[i,s*100,r*100]},ye.rgb.cmyk=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.min(1-t,1-n,1-r),s=(1-t-i)/(1-i)||0,h=(1-n-i)/(1-i)||0,a=(1-r-i)/(1-i)||0;return[s*100,h*100,a*100,i*100]};function JP(e,t){return(e[0]-t[0])**2+(e[1]-t[1])**2+(e[2]-t[2])**2}ye.rgb.keyword=function(e){const t=M1[e];if(t)return t;let n=1/0,r;for(const i of Object.keys(pa)){const s=pa[i],h=JP(e,s);h<n&&(n=h,r=i)}return r},ye.keyword.rgb=function(e){return pa[e]},ye.rgb.xyz=function(e){let t=e[0]/255,n=e[1]/255,r=e[2]/255;t=t>.04045?((t+.055)/1.055)**2.4:t/12.92,n=n>.04045?((n+.055)/1.055)**2.4:n/12.92,r=r>.04045?((r+.055)/1.055)**2.4:r/12.92;const i=t*.4124+n*.3576+r*.1805,s=t*.2126+n*.7152+r*.0722,h=t*.0193+n*.1192+r*.9505;return[i*100,s*100,h*100]},ye.rgb.lab=function(e){const t=ye.rgb.xyz(e);let n=t[0],r=t[1],i=t[2];n/=95.047,r/=100,i/=108.883,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116,i=i>.008856?i**(1/3):7.787*i+16/116;const s=116*r-16,h=500*(n-r),a=200*(r-i);return[s,h,a]},ye.hsl.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;let i,s,h;if(n===0)return h=r*255,[h,h,h];r<.5?i=r*(1+n):i=r+n-r*n;const a=2*r-i,o=[0,0,0];for(let u=0;u<3;u++)s=t+1/3*-(u-1),s<0&&s++,s>1&&s--,6*s<1?h=a+(i-a)*6*s:2*s<1?h=i:3*s<2?h=a+(i-a)*(2/3-s)*6:h=a,o[u]=h*255;return o},ye.hsl.hsv=function(e){const t=e[0];let n=e[1]/100,r=e[2]/100,i=n;const s=Math.max(r,.01);r*=2,n*=r<=1?r:2-r,i*=s<=1?s:2-s;const h=(r+n)/2,a=r===0?2*i/(s+i):2*n/(r+n);return[t,a*100,h*100]},ye.hsv.rgb=function(e){const t=e[0]/60,n=e[1]/100;let r=e[2]/100;const i=Math.floor(t)%6,s=t-Math.floor(t),h=255*r*(1-n),a=255*r*(1-n*s),o=255*r*(1-n*(1-s));switch(r*=255,i){case 0:return[r,o,h];case 1:return[a,r,h];case 2:return[h,r,o];case 3:return[h,a,r];case 4:return[o,h,r];case 5:return[r,h,a]}},ye.hsv.hsl=function(e){const t=e[0],n=e[1]/100,r=e[2]/100,i=Math.max(r,.01);let s,h;h=(2-n)*r;const a=(2-n)*i;return s=n*i,s/=a<=1?a:2-a,s=s||0,h/=2,[t,s*100,h*100]},ye.hwb.rgb=function(e){const t=e[0]/360;let n=e[1]/100,r=e[2]/100;const i=n+r;let s;i>1&&(n/=i,r/=i);const h=Math.floor(6*t),a=1-r;s=6*t-h,h&1&&(s=1-s);const o=n+s*(a-n);let u,d,l;switch(h){default:case 6:case 0:u=a,d=o,l=n;break;case 1:u=o,d=a,l=n;break;case 2:u=n,d=a,l=o;break;case 3:u=n,d=o,l=a;break;case 4:u=o,d=n,l=a;break;case 5:u=a,d=n,l=o;break}return[u*255,d*255,l*255]},ye.cmyk.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100,i=e[3]/100,s=1-Math.min(1,t*(1-i)+i),h=1-Math.min(1,n*(1-i)+i),a=1-Math.min(1,r*(1-i)+i);return[s*255,h*255,a*255]},ye.xyz.rgb=function(e){const t=e[0]/100,n=e[1]/100,r=e[2]/100;let i,s,h;return i=t*3.2406+n*-1.5372+r*-.4986,s=t*-.9689+n*1.8758+r*.0415,h=t*.0557+n*-.204+r*1.057,i=i>.0031308?1.055*i**(1/2.4)-.055:i*12.92,s=s>.0031308?1.055*s**(1/2.4)-.055:s*12.92,h=h>.0031308?1.055*h**(1/2.4)-.055:h*12.92,i=Math.min(Math.max(0,i),1),s=Math.min(Math.max(0,s),1),h=Math.min(Math.max(0,h),1),[i*255,s*255,h*255]},ye.xyz.lab=function(e){let t=e[0],n=e[1],r=e[2];t/=95.047,n/=100,r/=108.883,t=t>.008856?t**(1/3):7.787*t+16/116,n=n>.008856?n**(1/3):7.787*n+16/116,r=r>.008856?r**(1/3):7.787*r+16/116;const i=116*n-16,s=500*(t-n),h=200*(n-r);return[i,s,h]},ye.lab.xyz=function(e){const t=e[0],n=e[1],r=e[2];let i,s,h;s=(t+16)/116,i=n/500+s,h=s-r/200;const a=s**3,o=i**3,u=h**3;return s=a>.008856?a:(s-16/116)/7.787,i=o>.008856?o:(i-16/116)/7.787,h=u>.008856?u:(h-16/116)/7.787,i*=95.047,s*=100,h*=108.883,[i,s,h]},ye.lab.lch=function(e){const t=e[0],n=e[1],r=e[2];let i;i=Math.atan2(r,n)*360/2/Math.PI,i<0&&(i+=360);const h=Math.sqrt(n*n+r*r);return[t,h,i]},ye.lch.lab=function(e){const t=e[0],n=e[1],i=e[2]/360*2*Math.PI,s=n*Math.cos(i),h=n*Math.sin(i);return[t,s,h]},ye.rgb.ansi16=function(e,t=null){const[n,r,i]=e;let s=t===null?ye.rgb.hsv(e)[2]:t;if(s=Math.round(s/50),s===0)return 30;let h=30+(Math.round(i/255)<<2|Math.round(r/255)<<1|Math.round(n/255));return s===2&&(h+=60),h},ye.hsv.ansi16=function(e){return ye.rgb.ansi16(ye.hsv.rgb(e),e[2])},ye.rgb.ansi256=function(e){const t=e[0],n=e[1],r=e[2];return t===n&&n===r?t<8?16:t>248?231:Math.round((t-8)/247*24)+232:16+36*Math.round(t/255*5)+6*Math.round(n/255*5)+Math.round(r/255*5)},ye.ansi16.rgb=function(e){let t=e%10;if(t===0||t===7)return e>50&&(t+=3.5),t=t/10.5*255,[t,t,t];const n=(~~(e>50)+1)*.5,r=(t&1)*n*255,i=(t>>1&1)*n*255,s=(t>>2&1)*n*255;return[r,i,s]},ye.ansi256.rgb=function(e){if(e>=232){const s=(e-232)*10+8;return[s,s,s]}e-=16;let t;const n=Math.floor(e/36)/5*255,r=Math.floor((t=e%36)/6)/5*255,i=t%6/5*255;return[n,r,i]},ye.rgb.hex=function(e){const n=(((Math.round(e[0])&255)<<16)+((Math.round(e[1])&255)<<8)+(Math.round(e[2])&255)).toString(16).toUpperCase();return"000000".substring(n.length)+n},ye.hex.rgb=function(e){const t=e.toString(16).match(/[a-f0-9]{6}|[a-f0-9]{3}/i);if(!t)return[0,0,0];let n=t[0];t[0].length===3&&(n=n.split("").map(a=>a+a).join(""));const r=parseInt(n,16),i=r>>16&255,s=r>>8&255,h=r&255;return[i,s,h]},ye.rgb.hcg=function(e){const t=e[0]/255,n=e[1]/255,r=e[2]/255,i=Math.max(Math.max(t,n),r),s=Math.min(Math.min(t,n),r),h=i-s;let a,o;return h<1?a=s/(1-h):a=0,h<=0?o=0:i===t?o=(n-r)/h%6:i===n?o=2+(r-t)/h:o=4+(t-n)/h,o/=6,o%=1,[o*360,h*100,a*100]},ye.hsl.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=n<.5?2*t*n:2*t*(1-n);let i=0;return r<1&&(i=(n-.5*r)/(1-r)),[e[0],r*100,i*100]},ye.hsv.hcg=function(e){const t=e[1]/100,n=e[2]/100,r=t*n;let i=0;return r<1&&(i=(n-r)/(1-r)),[e[0],r*100,i*100]},ye.hcg.rgb=function(e){const t=e[0]/360,n=e[1]/100,r=e[2]/100;if(n===0)return[r*255,r*255,r*255];const i=[0,0,0],s=t%1*6,h=s%1,a=1-h;let o=0;switch(Math.floor(s)){case 0:i[0]=1,i[1]=h,i[2]=0;break;case 1:i[0]=a,i[1]=1,i[2]=0;break;case 2:i[0]=0,i[1]=1,i[2]=h;break;case 3:i[0]=0,i[1]=a,i[2]=1;break;case 4:i[0]=h,i[1]=0,i[2]=1;break;default:i[0]=1,i[1]=0,i[2]=a}return o=(1-n)*r,[(n*i[0]+o)*255,(n*i[1]+o)*255,(n*i[2]+o)*255]},ye.hcg.hsv=function(e){const t=e[1]/100,n=e[2]/100,r=t+n*(1-t);let i=0;return r>0&&(i=t/r),[e[0],i*100,r*100]},ye.hcg.hsl=function(e){const t=e[1]/100,r=e[2]/100*(1-t)+.5*t;let i=0;return r>0&&r<.5?i=t/(2*r):r>=.5&&r<1&&(i=t/(2*(1-r))),[e[0],i*100,r*100]},ye.hcg.hwb=function(e){const t=e[1]/100,n=e[2]/100,r=t+n*(1-t);return[e[0],(r-t)*100,(1-r)*100]},ye.hwb.hcg=function(e){const t=e[1]/100,r=1-e[2]/100,i=r-t;let s=0;return i<1&&(s=(r-i)/(1-i)),[e[0],i*100,s*100]},ye.apple.rgb=function(e){return[e[0]/65535*255,e[1]/65535*255,e[2]/65535*255]},ye.rgb.apple=function(e){return[e[0]/255*65535,e[1]/255*65535,e[2]/255*65535]},ye.gray.rgb=function(e){return[e[0]/100*255,e[0]/100*255,e[0]/100*255]},ye.gray.hsl=function(e){return[0,0,e[0]]},ye.gray.hsv=ye.gray.hsl,ye.gray.hwb=function(e){return[0,100,e[0]]},ye.gray.cmyk=function(e){return[0,0,0,e[0]]},ye.gray.lab=function(e){return[e[0],0,0]},ye.gray.hex=function(e){const t=Math.round(e[0]/100*255)&255,r=((t<<16)+(t<<8)+t).toString(16).toUpperCase();return"000000".substring(r.length)+r},ye.rgb.gray=function(e){return[(e[0]+e[1]+e[2])/3/255*100]};const Su=j1;function ZP(){const e={},t=Object.keys(Su);for(let n=t.length,r=0;r<n;r++)e[t[r]]={distance:-1,parent:null};return e}function eD(e){const t=ZP(),n=[e];for(t[e].distance=0;n.length;){const r=n.pop(),i=Object.keys(Su[r]);for(let s=i.length,h=0;h<s;h++){const a=i[h],o=t[a];o.distance===-1&&(o.distance=t[r].distance+1,o.parent=r,n.unshift(a))}}return t}function tD(e,t){return function(n){return t(e(n))}}function nD(e,t){const n=[t[e].parent,e];let r=Su[t[e].parent][e],i=t[e].parent;for(;t[i].parent;)n.unshift(t[i].parent),r=tD(Su[t[i].parent][i],r),i=t[i].parent;return r.conversion=n,r}var rD=function(e){const t=eD(e),n={},r=Object.keys(t);for(let i=r.length,s=0;s<i;s++){const h=r[s];t[h].parent!==null&&(n[h]=nD(h,t))}return n};const od=j1,iD=rD,Bs={},sD=Object.keys(od);function oD(e){const t=function(...n){const r=n[0];return r==null?r:(r.length>1&&(n=r),e(n))};return"conversion"in e&&(t.conversion=e.conversion),t}function aD(e){const t=function(...n){const r=n[0];if(r==null)return r;r.length>1&&(n=r);const i=e(n);if(typeof i=="object")for(let s=i.length,h=0;h<s;h++)i[h]=Math.round(i[h]);return i};return"conversion"in e&&(t.conversion=e.conversion),t}sD.forEach(e=>{Bs[e]={},Object.defineProperty(Bs[e],"channels",{value:od[e].channels}),Object.defineProperty(Bs[e],"labels",{value:od[e].labels});const t=iD(e);Object.keys(t).forEach(r=>{const i=t[r];Bs[e][r]=aD(i),Bs[e][r].raw=oD(i)})});var lD=Bs;const Ns=qP,nn=lD,R1=["keyword","gray","hex"],ad={};for(const e of Object.keys(nn))ad[[...nn[e].labels].sort().join("")]=e;const _u={};function gt(e,t){if(!(this instanceof gt))return new gt(e,t);if(t&&t in R1&&(t=null),t&&!(t in nn))throw new Error("Unknown model: "+t);let n,r;if(e==null)this.model="rgb",this.color=[0,0,0],this.valpha=1;else if(e instanceof gt)this.model=e.model,this.color=[...e.color],this.valpha=e.valpha;else if(typeof e=="string"){const i=Ns.get(e);if(i===null)throw new Error("Unable to parse color from string: "+e);this.model=i.model,r=nn[this.model].channels,this.color=i.value.slice(0,r),this.valpha=typeof i.value[r]=="number"?i.value[r]:1}else if(e.length>0){this.model=t||"rgb",r=nn[this.model].channels;const i=Array.prototype.slice.call(e,0,r);this.color=ld(i,r),this.valpha=typeof e[r]=="number"?e[r]:1}else if(typeof e=="number")this.model="rgb",this.color=[e>>16&255,e>>8&255,e&255],this.valpha=1;else{this.valpha=1;const i=Object.keys(e);"alpha"in e&&(i.splice(i.indexOf("alpha"),1),this.valpha=typeof e.alpha=="number"?e.alpha:0);const s=i.sort().join("");if(!(s in ad))throw new Error("Unable to parse color from object: "+JSON.stringify(e));this.model=ad[s];const{labels:h}=nn[this.model],a=[];for(n=0;n<h.length;n++)a.push(e[h[n]]);this.color=ld(a)}if(_u[this.model])for(r=nn[this.model].channels,n=0;n<r;n++){const i=_u[this.model][n];i&&(this.color[n]=i(this.color[n]))}this.valpha=Math.max(0,Math.min(1,this.valpha)),Object.freeze&&Object.freeze(this)}gt.prototype={toString(){return this.string()},toJSON(){return this[this.model]()},string(e){let t=this.model in Ns.to?this:this.rgb();t=t.round(typeof e=="number"?e:1);const n=t.valpha===1?t.color:[...t.color,this.valpha];return Ns.to[t.model](n)},percentString(e){const t=this.rgb().round(typeof e=="number"?e:1),n=t.valpha===1?t.color:[...t.color,this.valpha];return Ns.to.rgb.percent(n)},array(){return this.valpha===1?[...this.color]:[...this.color,this.valpha]},object(){const e={},{channels:t}=nn[this.model],{labels:n}=nn[this.model];for(let r=0;r<t;r++)e[n[r]]=this.color[r];return this.valpha!==1&&(e.alpha=this.valpha),e},unitArray(){const e=this.rgb().color;return e[0]/=255,e[1]/=255,e[2]/=255,this.valpha!==1&&e.push(this.valpha),e},unitObject(){const e=this.rgb().object();return e.r/=255,e.g/=255,e.b/=255,this.valpha!==1&&(e.alpha=this.valpha),e},round(e){return e=Math.max(e||0,0),new gt([...this.color.map(cD(e)),this.valpha],this.model)},alpha(e){return e!==void 0?new gt([...this.color,Math.max(0,Math.min(1,e))],this.model):this.valpha},red:et("rgb",0,ft(255)),green:et("rgb",1,ft(255)),blue:et("rgb",2,ft(255)),hue:et(["hsl","hsv","hsl","hwb","hcg"],0,e=>(e%360+360)%360),saturationl:et("hsl",1,ft(100)),lightness:et("hsl",2,ft(100)),saturationv:et("hsv",1,ft(100)),value:et("hsv",2,ft(100)),chroma:et("hcg",1,ft(100)),gray:et("hcg",2,ft(100)),white:et("hwb",1,ft(100)),wblack:et("hwb",2,ft(100)),cyan:et("cmyk",0,ft(100)),magenta:et("cmyk",1,ft(100)),yellow:et("cmyk",2,ft(100)),black:et("cmyk",3,ft(100)),x:et("xyz",0,ft(95.047)),y:et("xyz",1,ft(100)),z:et("xyz",2,ft(108.833)),l:et("lab",0,ft(100)),a:et("lab",1),b:et("lab",2),keyword(e){return e!==void 0?new gt(e):nn[this.model].keyword(this.color)},hex(e){return e!==void 0?new gt(e):Ns.to.hex(this.rgb().round().color)},hexa(e){if(e!==void 0)return new gt(e);const t=this.rgb().round().color;let n=Math.round(this.valpha*255).toString(16).toUpperCase();return n.length===1&&(n="0"+n),Ns.to.hex(t)+n},rgbNumber(){const e=this.rgb().color;return(e[0]&255)<<16|(e[1]&255)<<8|e[2]&255},luminosity(){const e=this.rgb().color,t=[];for(const[n,r]of e.entries()){const i=r/255;t[n]=i<=.04045?i/12.92:((i+.055)/1.055)**2.4}return .2126*t[0]+.7152*t[1]+.0722*t[2]},contrast(e){const t=this.luminosity(),n=e.luminosity();return t>n?(t+.05)/(n+.05):(n+.05)/(t+.05)},level(e){const t=this.contrast(e);return t>=7?"AAA":t>=4.5?"AA":""},isDark(){const e=this.rgb().color;return(e[0]*2126+e[1]*7152+e[2]*722)/1e4<128},isLight(){return!this.isDark()},negate(){const e=this.rgb();for(let t=0;t<3;t++)e.color[t]=255-e.color[t];return e},lighten(e){const t=this.hsl();return t.color[2]+=t.color[2]*e,t},darken(e){const t=this.hsl();return t.color[2]-=t.color[2]*e,t},saturate(e){const t=this.hsl();return t.color[1]+=t.color[1]*e,t},desaturate(e){const t=this.hsl();return t.color[1]-=t.color[1]*e,t},whiten(e){const t=this.hwb();return t.color[1]+=t.color[1]*e,t},blacken(e){const t=this.hwb();return t.color[2]+=t.color[2]*e,t},grayscale(){const e=this.rgb().color,t=e[0]*.3+e[1]*.59+e[2]*.11;return gt.rgb(t,t,t)},fade(e){return this.alpha(this.valpha-this.valpha*e)},opaquer(e){return this.alpha(this.valpha+this.valpha*e)},rotate(e){const t=this.hsl();let n=t.color[0];return n=(n+e)%360,n=n<0?360+n:n,t.color[0]=n,t},mix(e,t){if(!e||!e.rgb)throw new Error('Argument to "mix" was not a Color instance, but rather an instance of '+typeof e);const n=e.rgb(),r=this.rgb(),i=t===void 0?.5:t,s=2*i-1,h=n.alpha()-r.alpha(),a=((s*h===-1?s:(s+h)/(1+s*h))+1)/2,o=1-a;return gt.rgb(a*n.red()+o*r.red(),a*n.green()+o*r.green(),a*n.blue()+o*r.blue(),n.alpha()*i+r.alpha()*(1-i))}};for(const e of Object.keys(nn)){if(R1.includes(e))continue;const{channels:t}=nn[e];gt.prototype[e]=function(...n){return this.model===e?new gt(this):n.length>0?new gt(n,e):new gt([...fD(nn[this.model][e].raw(this.color)),this.valpha],e)},gt[e]=function(...n){let r=n[0];return typeof r=="number"&&(r=ld(n,t)),new gt(r,e)}}function uD(e,t){return Number(e.toFixed(t))}function cD(e){return function(t){return uD(t,e)}}function et(e,t,n){e=Array.isArray(e)?e:[e];for(const r of e)(_u[r]||(_u[r]=[]))[t]=n;return e=e[0],function(r){let i;return r!==void 0?(n&&(r=n(r)),i=this[e](),i.color[t]=r,i):(i=this[e]().color[t],n&&(i=n(i)),i)}}function ft(e){return function(t){return Math.max(0,Math.min(e,t))}}function fD(e){return Array.isArray(e)?e:[e]}function ld(e,t){for(let n=0;n<t;n++)typeof e[n]!="number"&&(e[n]=0);return e}var hD=gt;const dD=Ae(hD);function pD(e){const t=e.isDark?Yh.find(i=>i.isDark):Yh.find(i=>!i.isDark),n={...t,...e,colors:{...t==null?void 0:t.colors,...e.colors}},r=Object.entries(n.colors).map(([i,s])=>[i,gD(s)]);return{id:n.name,name:n.name,values:Object.fromEntries(r),is_dark:n.isDark}}function gD(e){return e.endsWith("%")||e.split(" ").length===3?e:dD(e).rgb().array().slice(0,3).join(" ")}let Li=typeof document<"u"?document.getElementById("root")??document.body:void 0,$s=typeof document<"u"?document.documentElement:void 0;function mD(e){Li=e,$s=e}function vD(e,t){$s==null||$s.style.setProperty(e,t)}function yD(e){Object.entries(e.values).forEach(([t,n])=>{vD(t,n)}),e.is_dark?$s.classList.add("dark"):$s.classList.remove("dark")}const F1={top:0,right:0,bottom:0,left:0,width:0,height:0},he=n1()(oP(k1((e,t)=>({editor:null,fabric:null,bootstrapData:{},config:Ky,zoom:1,dirty:!1,original:{width:1,height:1},stageSize:F1,canvasSize:F1,canvasRef:null,activeTool:null,activeToolOverlay:null,loading:!1,openPanels:{newImage:!1,history:!1,objects:!1,export:!1},...RP(e,t),...NP(e,t),...FP(e,t),...IP(e,t),...$P(e,t),...VP(e,t),...HP(e,t),setZoom:n=>e(r=>{r.zoom=n}),setOriginal:(n,r)=>e(i=>{i.original={width:n,height:r}}),setDirty:n=>e(r=>{r.dirty=n}),toggleLoading:n=>e(r=>{r.loading=n}),setStageSize:n=>e(r=>{r.stageSize=n}),setCanvasSize:n=>e(r=>{r.canvasSize=n}),setActiveTool:(n,r)=>{e(i=>{i.activeTool=n,i.activeToolOverlay=r})},setConfig:n=>e(r=>{var u,d;const i=jP(n,t().config);r.config=i;const s=i.activeLanguage||"en",h=(u=i.languages)==null?void 0:u[s],a=(((d=i.ui)==null?void 0:d.themes)||[]).map(l=>pD(l)),o=a.find(l=>{var c;return l.id===((c=i.ui)==null?void 0:c.activeTheme)});o&&yD(o),r.bootstrapData={i18n:{language:s,name:s,id:0,lines:h},themes:{all:a}}}),togglePanel:(n,r)=>e(i=>{i.openPanels[n]=r??!i.openPanels[n]}),applyChanges:async()=>{var s;const n=t().activeTool;if(!n)return;const r=t()[n],i=await((s=r==null?void 0:r.apply)==null?void 0:s.call(r));e(h=>{h.dirty=!1,h.activeTool=null,h.activeToolOverlay=null}),i!==!1&&t().editor.tools.history.addHistoryItem({name:n}),r==null||r.reset()},cancelChanges:async()=>{const n=t().activeTool;if(!n)return;const r=t().dirty;e(s=>{s.dirty=!1,s.activeTool=null,s.activeToolOverlay=null}),r&&await t().editor.tools.history.reload();const i=t()[n];i==null||i.reset()},reset:()=>{t().editor.tools.transform.resetStraightenAnchor(),e({activeTool:null,activeToolOverlay:null,zoom:1,dirty:!1,loading:!1,openPanels:{newImage:!1,history:!1,objects:!1,export:!1}}),t().history.reset(),t().objects.reset(),t().filter.reset(),t().crop.reset(),t().frame.reset(),t().resize.reset(),t().corners.reset()}}))));function D(){return he.getState()}function L(){return D().editor.tools}function pe(){return D().fabric}function ud(e){var n,r,i,s,h;L().canvas.clear(),L().frame.remove();const t=!((n=D().config.ui)!=null&&n.visible);return D().setConfig({image:void 0,blankCanvasSize:void 0,...e}),D().reset(),(r=D().config.ui)!=null&&r.defaultTool&&D().setActiveTool((i=D().config.ui)==null?void 0:i.defaultTool,null),t&&((h=(s=D().config).onOpen)==null||h.call(s)),new Promise(a=>setTimeout(a))}async function Eu(e){return(await fetch(e)).json()}const zi={selectable:!1,evented:!1,lockMovementX:!0,lockMovementY:!0,lockRotation:!0,lockScalingX:!0,lockScalingY:!0,lockUniScaling:!0,hasControls:!1,hasBorders:!1,hasRotatingPoint:!1,strokeWidth:0};function ku(e=[]){var r;e=[...Object.keys(zi),"crossOrigin","name","displayName","data",...e];const t=pe().toJSON(e);t.objects=t.objects.filter(i=>!i.data.pixieInternal).map(i=>(i.type==="image"&&D().config.crossOrigin&&(i.crossOrigin="anonymous"),$r(i)&&(i.selectable=!0,i.lockMovementX=!1,i.lockMovementY=!1,i.lockUniScaling=!1),{...i,data:i.data?{...i.data}:{}}));const n=L().frame.active.config?{name:L().frame.active.config.name,sizePercent:L().frame.active.currentSizeInPercent}:null;return{canvas:t,editor:{frame:n,zoom:D().zoom,activeObjectId:((r=D().objects.active)==null?void 0:r.id)||null},canvasWidth:D().original.width,canvasHeight:D().original.height}}function cd(e=null){if(D().dirty)return;L().zoom.fitToScreen();const[t,n]=I1(pe().getActiveObject());e?D().setActiveTool(e,t===e?n:null):D().setActiveTool(t,n)}function I1(e){switch(e==null?void 0:e.name){case rt.Text:return[Le.TEXT,yn.Text];case rt.Sticker:return[Le.STICKERS,yn.ActiveObject];case rt.Image:return[null,yn.ActiveObject];case rt.Shape:return[Le.SHAPES,yn.ActiveObject];default:return[null,null]}}const bD=`/*! tailwindcss v3.4.4 | MIT License | https://tailwindcss.com*/.pi *,.pi :after,.pi :before{border-color:rgb(var(--be-foreground-base)/var(--be-divider-opacity));border-style:solid;border-width:0;box-sizing:border-box}.pi :after,.pi :before{--tw-content:""},.pi :host{line-height:1.5;-webkit-text-size-adjust:100%;font-family:ui-sans-serif,system-ui,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;font-feature-settings:normal;font-variation-settings:normal;-moz-tab-size:4;-o-tab-size:4;tab-size:4;-webkit-tap-highlight-color:transparent}.pi hr{border-top-width:1px;color:inherit;height:0}.pi abbr:where([title]){-webkit-text-decoration:underline dotted;text-decoration:underline dotted}.pi h1,.pi h2,.pi h3,.pi h4,.pi h5,.pi h6{font-size:inherit;font-weight:inherit}.pi a{color:inherit;text-decoration:inherit}.pi b,.pi strong{font-weight:bolder}.pi code,.pi kbd,.pi pre,.pi samp{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace;font-feature-settings:normal;font-size:1em;font-variation-settings:normal}.pi small{font-size:80%}.pi sub,.pi sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}.pi sub{bottom:-.25em}.pi sup{top:-.5em}.pi table{border-collapse:collapse;border-color:inherit;text-indent:0}.pi button,.pi input,.pi optgroup,.pi select,.pi textarea{color:inherit;font-family:inherit;font-feature-settings:inherit;font-size:100%;font-variation-settings:inherit;font-weight:inherit;letter-spacing:inherit;line-height:inherit;margin:0;padding:0}.pi button,.pi select{text-transform:none}.pi button,.pi input:where([type=button]),.pi input:where([type=reset]),.pi input:where([type=submit]){-webkit-appearance:button;background-color:transparent;background-image:none}.pi :-moz-focusring{outline:auto}.pi :-moz-ui-invalid{box-shadow:none}.pi progress{vertical-align:baseline}.pi ::-webkit-inner-spin-button,.pi ::-webkit-outer-spin-button{height:auto}.pi [type=search]{-webkit-appearance:textfield;outline-offset:-2px}.pi ::-webkit-search-decoration{-webkit-appearance:none}.pi ::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}.pi summary{display:list-item}.pi blockquote,.pi dd,.pi dl,.pi figure,.pi h1,.pi h2,.pi h3,.pi h4,.pi h5,.pi h6,.pi hr,.pi p,.pi pre{margin:0}.pi fieldset{margin:0;padding:0}.pi legend{padding:0}.pi menu,.pi ol,.pi ul{list-style:none;margin:0;padding:0}.pi dialog{padding:0}.pi textarea{resize:vertical}.pi input::-moz-placeholder,.pi textarea::-moz-placeholder{color:#9ca3af;opacity:1}.pi input::placeholder,.pi textarea::placeholder{color:#9ca3af;opacity:1}.pi [role=button],.pi button{cursor:pointer}.pi :disabled{cursor:default}.pi audio,.pi canvas,.pi embed,.pi iframe,.pi img,.pi object,.pi svg,.pi video{display:block;vertical-align:middle}.pi img,.pi video{height:auto;max-width:100%}.pi [hidden]{display:none}.pi *,.pi :after,.pi :before{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(147,197,253,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.pi ::backdrop{--tw-border-spacing-x:0;--tw-border-spacing-y:0;--tw-translate-x:0;--tw-translate-y:0;--tw-rotate:0;--tw-skew-x:0;--tw-skew-y:0;--tw-scale-x:1;--tw-scale-y:1;--tw-pan-x: ;--tw-pan-y: ;--tw-pinch-zoom: ;--tw-scroll-snap-strictness:proximity;--tw-gradient-from-position: ;--tw-gradient-via-position: ;--tw-gradient-to-position: ;--tw-ordinal: ;--tw-slashed-zero: ;--tw-numeric-figure: ;--tw-numeric-spacing: ;--tw-numeric-fraction: ;--tw-ring-inset: ;--tw-ring-offset-width:0px;--tw-ring-offset-color:#fff;--tw-ring-color:rgba(147,197,253,.5);--tw-ring-offset-shadow:0 0 #0000;--tw-ring-shadow:0 0 #0000;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;--tw-blur: ;--tw-brightness: ;--tw-contrast: ;--tw-grayscale: ;--tw-hue-rotate: ;--tw-invert: ;--tw-saturate: ;--tw-sepia: ;--tw-drop-shadow: ;--tw-backdrop-blur: ;--tw-backdrop-brightness: ;--tw-backdrop-contrast: ;--tw-backdrop-grayscale: ;--tw-backdrop-hue-rotate: ;--tw-backdrop-invert: ;--tw-backdrop-opacity: ;--tw-backdrop-saturate: ;--tw-backdrop-sepia: ;--tw-contain-size: ;--tw-contain-layout: ;--tw-contain-paint: ;--tw-contain-style: }.pi .\\!container{width:100%!important}.pi .container{width:100%}@media (min-width:640px){.pi .\\!container{max-width:640px!important}.pi .container{max-width:640px}}@media (min-width:768px){.pi .\\!container{max-width:768px!important}.pi .container{max-width:768px}}@media (min-width:1024px){.pi .\\!container{max-width:1024px!important}.pi .container{max-width:1024px}}@media (min-width:1280px){.pi .\\!container{max-width:1280px!important}.pi .container{max-width:1280px}}@media (min-width:1536px){.pi .\\!container{max-width:1536px!important}.pi .container{max-width:1536px}}.pi .sr-only{height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;clip:rect(0,0,0,0);border-width:0;white-space:nowrap}.pi .pointer-events-none{pointer-events:none}.pi .pointer-events-auto{pointer-events:auto}.pi .\\!visible{visibility:visible!important}.pi .visible{visibility:visible}.pi .invisible{visibility:hidden}.pi .collapse{visibility:collapse}.pi .static{position:static}.pi .fixed{position:fixed}.pi .absolute{position:absolute}.pi .relative{position:relative}.pi .sticky{position:sticky}.pi .inset-0{top:0;right:0;bottom:0;left:0}.pi .inset-x-0{left:0;right:0}.pi .-bottom-10{bottom:-10px}.pi .-bottom-14{bottom:-14px}.pi .-bottom-20{bottom:-20px}.pi .-bottom-5{bottom:-5px}.pi .-bottom-6{bottom:-6px}.pi .-left-5{left:-5px}.pi .-left-8{left:-8px}.pi .-left-80{left:-80px}.pi .-right-5{right:-5px}.pi .-right-6{right:-6px}.pi .-top-144{top:-144px}.pi .-top-40{top:-40px}.pi .-top-5{top:-5px}.pi .bottom-0{bottom:0}.pi .bottom-20{bottom:20px}.pi .left-0{left:0}.pi .left-1\\/2{left:50%}.pi .left-16{left:16px}.pi .left-20{left:20px}.pi .left-24{left:24px}.pi .left-30{left:30px}.pi .right-0{right:0}.pi .right-16{right:16px}.pi .right-2{right:2px}.pi .right-20{right:20px}.pi .right-24{right:24px}.pi .right-4{right:4px}.pi .top-0{top:0}.pi .top-1\\/2{top:50%}.pi .top-10{top:10px}.pi .top-120{top:7.5rem}.pi .top-2{top:2px}.pi .top-24{top:24px}.pi .top-26{top:26px}.pi .isolate{isolation:isolate}.pi .z-10{z-index:10}.pi .z-20{z-index:20}.pi .z-30{z-index:30}.pi .z-40{z-index:40}.pi .z-50{z-index:50}.pi .z-cropzone{z-index:10}.pi .z-loading-indicator{z-index:50}.pi .z-modal{z-index:110}.pi .z-navbar{z-index:40}.pi .z-obj-box{z-index:20}.pi .z-popover{z-index:130}.pi .z-toast{z-index:160}.pi .z-tool-overlay{z-index:30}.pi .z-tooltip{z-index:150}.pi .z-tray{z-index:120}.pi .m-auto{margin:auto}.pi .mx-14{margin-left:14px;margin-right:14px}.pi .mx-20{margin-left:20px;margin-right:20px}.pi .mx-4{margin-left:4px;margin-right:4px}.pi .mx-8{margin-left:8px;margin-right:8px}.pi .mx-auto{margin-left:auto;margin-right:auto}.pi .my-10{margin-bottom:10px;margin-top:10px}.pi .my-100{margin-bottom:6.25rem;margin-top:6.25rem}.pi .my-12{margin-bottom:12px;margin-top:12px}.pi .my-14{margin-bottom:14px;margin-top:14px}.pi .my-16{margin-bottom:16px;margin-top:16px}.pi .my-20{margin-bottom:20px;margin-top:20px}.pi .my-24{margin-bottom:24px;margin-top:24px}.pi .my-30{margin-bottom:30px;margin-top:30px}.pi .my-32{margin-bottom:32px;margin-top:32px}.pi .my-4{margin-bottom:4px;margin-top:4px}.pi .my-40{margin-bottom:40px;margin-top:40px}.pi .my-50{margin-bottom:50px;margin-top:50px}.pi .my-6{margin-bottom:6px;margin-top:6px}.pi .my-8{margin-bottom:8px;margin-top:8px}.pi .my-80{margin-bottom:80px;margin-top:80px}.pi .my-auto{margin-bottom:auto;margin-top:auto}.pi .-ml-1{margin-left:-1px}.pi .-ml-10{margin-left:-10px}.pi .-ml-12{margin-left:-12px}.pi .-ml-3{margin-left:-3px}.pi .-ml-4{margin-left:-4px}.pi .-ml-6{margin-left:-6px}.pi .-ml-8{margin-left:-8px}.pi .-mr-4{margin-right:-4px}.pi .-mr-8{margin-right:-8px}.pi .-mt-2{margin-top:-2px}.pi .mb-1{margin-bottom:1px}.pi .mb-10{margin-bottom:10px}.pi .mb-12{margin-bottom:12px}.pi .mb-14{margin-bottom:14px}.pi .mb-16{margin-bottom:16px}.pi .mb-2{margin-bottom:2px}.pi .mb-20{margin-bottom:20px}.pi .mb-24{margin-bottom:24px}.pi .mb-30{margin-bottom:30px}.pi .mb-32{margin-bottom:32px}.pi .mb-4{margin-bottom:4px}.pi .mb-40{margin-bottom:40px}.pi .mb-44{margin-bottom:44px}.pi .mb-48{margin-bottom:48px}.pi .mb-54{margin-bottom:3.375rem}.pi .mb-6{margin-bottom:6px}.pi .mb-64{margin-bottom:64px}.pi .mb-8{margin-bottom:8px}.pi .ml-10{margin-left:10px}.pi .ml-12{margin-left:12px}.pi .ml-4{margin-left:4px}.pi .ml-6{margin-left:6px}.pi .ml-8{margin-left:8px}.pi .ml-auto{margin-left:auto}.pi .mr-10{margin-right:10px}.pi .mr-12{margin-right:12px}.pi .mr-14{margin-right:14px}.pi .mr-16{margin-right:16px}.pi .mr-2{margin-right:2px}.pi .mr-20{margin-right:20px}.pi .mr-24{margin-right:24px}.pi .mr-4{margin-right:4px}.pi .mr-5{margin-right:5px}.pi .mr-6{margin-right:6px}.pi .mr-8{margin-right:8px}.pi .mr-auto{margin-right:auto}.pi .mt-0{margin-top:0}.pi .mt-10{margin-top:10px}.pi .mt-12{margin-top:12px}.pi .mt-14{margin-top:14px}.pi .mt-16{margin-top:16px}.pi .mt-18{margin-top:18px}.pi .mt-2{margin-top:2px}.pi .mt-20{margin-top:20px}.pi .mt-22{margin-top:22px}.pi .mt-24{margin-top:24px}.pi .mt-30{margin-top:30px}.pi .mt-32{margin-top:32px}.pi .mt-34{margin-top:2.125rem}.pi .mt-36{margin-top:36px}.pi .mt-4{margin-top:4px}.pi .mt-40{margin-top:40px}.pi .mt-48{margin-top:48px}.pi .mt-50{margin-top:50px}.pi .mt-6{margin-top:6px}.pi .mt-60{margin-top:60px}.pi .mt-8{margin-top:8px}.pi .mt-80{margin-top:80px}.pi .mt-auto{margin-top:auto}.pi .box-content{box-sizing:content-box}.pi .line-clamp-2{display:-webkit-box;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:2}.pi .block{display:block}.pi .inline-block{display:inline-block}.pi .inline{display:inline}.pi .flex{display:flex}.pi .inline-flex{display:inline-flex}.pi .table{display:table}.pi .table-cell{display:table-cell}.pi .table-row{display:table-row}.pi .\\!grid{display:grid!important}.pi .grid{display:grid}.pi .contents{display:contents}.pi .hidden{display:none}.pi .aspect-square{aspect-ratio:1/1}.pi .aspect-video{aspect-ratio:16/9}.pi .h-1{height:1px}.pi .h-10{height:10px}.pi .h-100{height:6.25rem}.pi .h-12{height:12px}.pi .h-128{height:128px}.pi .h-14{height:14px}.pi .h-16{height:16px}.pi .h-18{height:18px}.pi .h-192{height:192px}.pi .h-2{height:2px}.pi .h-2\\/4{height:50%}.pi .h-20{height:20px}.pi .h-22{height:22px}.pi .h-24{height:24px}.pi .h-26{height:26px}.pi .h-28{height:28px}.pi .h-3{height:3px}.pi .h-30{height:30px}.pi .h-32{height:32px}.pi .h-36{height:36px}.pi .h-38{height:2.375rem}.pi .h-4{height:4px}.pi .h-40{height:40px}.pi .h-400{height:25rem}.pi .h-42{height:42px}.pi .h-46{height:2.875rem}.pi .h-48{height:48px}.pi .h-50{height:50px}.pi .h-52{height:3.25rem}.pi .h-54{height:3.375rem}.pi .h-56{height:56px}.pi .h-6{height:6px}.pi .h-60{height:60px}.pi .h-64{height:64px}.pi .h-68{height:68px}.pi .h-8{height:8px}.pi .h-80{height:80px}.pi .h-84{height:84px}.pi .h-90{height:5.625rem}.pi .h-92{height:92px}.pi .h-\\[186px\\]{height:186px}.pi .h-\\[54px\\]{height:54px}.pi .h-\\[97px\\]{height:97px}.pi .h-\\[calc\\(100\\%-12px\\)\\]{height:calc(100% - 12px)}.pi .h-auto{height:auto}.pi .h-font{height:1em}.pi .h-full{height:100%}.pi .h-max{height:-moz-max-content;height:max-content}.pi .h-px{height:1px}.pi .h-screen{height:100dvh}.pi .max-h-100{max-height:6.25rem}.pi .max-h-160{max-height:160px}.pi .max-h-240{max-height:240px}.pi .max-h-26{max-height:26px}.pi .max-h-288{max-height:288px}.pi .max-h-400{max-height:25rem}.pi .max-h-8{max-height:8px}.pi .max-h-\\[340px\\]{max-height:340px}.pi .max-h-\\[36px\\]{max-height:36px}.pi .max-h-\\[600px\\]{max-height:600px}.pi .max-h-\\[calc\\(100\\%-30px\\)\\]{max-height:calc(100% - 30px)}.pi .max-h-\\[calc\\(100\\%-40px\\)\\]{max-height:calc(100% - 40px)}.pi .max-h-\\[calc\\(100vh-90px\\)\\]{max-height:calc(100vh - 90px)}.pi .max-h-dialog{max-height:calc(var(--be-viewport-height, 100vh)*.9)}.pi .max-h-full{max-height:100%}.pi .max-h-inherit{max-height:inherit}.pi .max-h-tray{max-height:calc(var(--be-viewport-height, 100vh)*.9)}.pi .min-h-200{min-height:12.5rem}.pi .min-h-24{min-height:24px}.pi .min-h-30{min-height:30px}.pi .min-h-320{min-height:320px}.pi .min-h-36{min-height:36px}.pi .min-h-42{min-height:42px}.pi .min-h-440{min-height:27.5rem}.pi .min-h-50{min-height:50px}.pi .min-h-60{min-height:60px}.pi .min-h-70{min-height:70px}.pi .min-h-86{min-height:86px}.pi .min-h-90{min-height:5.625rem}.pi .min-h-\\[1000px\\]{min-height:1000px}.pi .min-h-\\[238px\\]{min-height:238px}.pi .min-h-\\[303px\\]{min-height:303px}.pi .min-h-\\[340px\\]{min-height:340px}.pi .min-h-dialog{min-height:calc(var(--be-viewport-height, 100vh)*.9)}.pi .min-h-full{min-height:100%}.pi .min-h-screen{min-height:100dvh}.pi .\\!w-auto{width:auto!important}.pi .w-1{width:1px}.pi .w-1\\/2{width:50%}.pi .w-1\\/3{width:33.333333%}.pi .w-10{width:10px}.pi .w-100{width:6.25rem}.pi .w-110{width:110px}.pi .w-112{width:112px}.pi .w-12{width:12px}.pi .w-128{width:128px}.pi .w-1280{width:80rem}.pi .w-14{width:14px}.pi .w-144{width:144px}.pi .w-16{width:16px}.pi .w-172{width:10.75rem}.pi .w-18{width:18px}.pi .w-192{width:192px}.pi .w-2{width:2px}.pi .w-20{width:20px}.pi .w-22{width:22px}.pi .w-224{width:224px}.pi .w-24{width:24px}.pi .w-240{width:240px}.pi .w-256{width:256px}.pi .w-26{width:26px}.pi .w-28{width:28px}.pi .w-280{width:17.5rem}.pi .w-288{width:288px}.pi .w-30{width:30px}.pi .w-32{width:32px}.pi .w-320{width:320px}.pi .w-36{width:36px}.pi .w-38{width:2.375rem}.pi .w-384{width:384px}.pi .w-40{width:40px}.pi .w-42{width:42px}.pi .w-440{width:27.5rem}.pi .w-46{width:2.875rem}.pi .w-50{width:50px}.pi .w-56{width:56px}.pi .w-60{width:60px}.pi .w-620{width:38.75rem}.pi .w-64{width:64px}.pi .w-68{width:68px}.pi .w-780{width:48.75rem}.pi .w-8{width:8px}.pi .w-80{width:80px}.pi .w-84{width:84px}.pi .w-850{width:53.125rem}.pi .w-90{width:5.625rem}.pi .w-96{width:96px}.pi .w-\\[168px\\]{width:168px}.pi .w-\\[170px\\]{width:170px}.pi .w-\\[233px\\]{width:233px}.pi .w-\\[480px\\]{width:480px}.pi .w-\\[4ch\\]{width:4ch}.pi .w-\\[calc\\(100\\%-40px\\)\\]{width:calc(100% - 40px)}.pi .w-auto{width:auto}.pi .w-font{width:1em}.pi .w-full{width:100%}.pi .w-max{width:-moz-max-content;width:max-content}.pi .w-min{width:-moz-min-content;width:min-content}.pi .w-px{width:1px}.pi .w-screen{width:100vw}.pi .min-w-0{min-width:0}.pi .min-w-110{min-width:110px}.pi .min-w-112{min-width:112px}.pi .min-w-128{min-width:128px}.pi .min-w-140{min-width:8.75rem}.pi .min-w-144{min-width:144px}.pi .min-w-160{min-width:160px}.pi .min-w-180{min-width:11.25rem}.pi .min-w-192{min-width:192px}.pi .min-w-200{min-width:12.5rem}.pi .min-w-24{min-width:24px}.pi .min-w-288{min-width:288px}.pi .min-w-30{min-width:30px}.pi .min-w-320{min-width:320px}.pi .min-w-4{min-width:4px}.pi .min-w-40{min-width:40px}.pi .min-w-42{min-width:42px}.pi .min-w-50{min-width:50px}.pi .min-w-500{min-width:31.25rem}.pi .min-w-80{min-width:80px}.pi .min-w-82{min-width:5.125rem}.pi .min-w-90{min-width:5.625rem}.pi .min-w-92{min-width:92px}.pi .min-w-96{min-width:96px}.pi .min-w-\\[210px\\]{min-width:210px}.pi .min-w-\\[300px\\]{min-width:300px}.pi .min-w-min{min-width:-moz-min-content;min-width:min-content}.pi .max-w-100{max-width:6.25rem}.pi .max-w-110{max-width:110px}.pi .max-w-112{max-width:112px}.pi .max-w-124{max-width:7.75rem}.pi .max-w-180{max-width:11.25rem}.pi .max-w-184{max-width:11.5rem}.pi .max-w-224{max-width:224px}.pi .max-w-240{max-width:240px}.pi .max-w-280{max-width:17.5rem}.pi .max-w-288{max-width:288px}.pi .max-w-320{max-width:320px}.pi .max-w-375{max-width:375px}.pi .max-w-4\\/5{max-width:80%}.pi .max-w-40{max-width:40px}.pi .max-w-400{max-width:25rem}.pi .max-w-440{max-width:27.5rem}.pi .max-w-500{max-width:31.25rem}.pi .max-w-580{max-width:36.25rem}.pi .max-w-60{max-width:60px}.pi .max-w-620{max-width:38.75rem}.pi .max-w-680{max-width:42.5rem}.pi .max-w-70{max-width:70px}.pi .max-w-84{max-width:84px}.pi .max-w-850{max-width:53.125rem}.pi .max-w-\\[210px\\]{max-width:210px}.pi .max-w-\\[464px\\]{max-width:464px}.pi .max-w-\\[90\\%\\]{max-width:90%}.pi .max-w-\\[calc\\(100\\%-40px\\)\\]{max-width:calc(100% - 40px)}.pi .max-w-\\[calc\\(100\\%-48px\\)\\]{max-width:calc(100% - 48px)}.pi .max-w-\\[calc\\(100vw-90px\\)\\]{max-width:calc(100vw - 90px)}.pi .max-w-dialog{max-width:calc(var(--be-viewport-width, 100vw)*.9)}.pi .max-w-full{max-width:100%}.pi .max-w-max{max-width:-moz-max-content;max-width:max-content}.pi .flex-1{flex:1 1 0%}.pi .flex-2{flex:2 1 0%}.pi .flex-3{flex:3 1 0%}.pi .flex-\\[1_1_60px\\]{flex:1 1 60px}.pi .flex-auto{flex:1 1 auto}.pi .flex-initial{flex:0 1 auto}.pi .flex-shrink-0,.pi .shrink-0{flex-shrink:0}.pi .flex-grow{flex-grow:1}.pi .origin-\\[0_55\\%\\]{transform-origin:0 55%}.pi .origin-\\[100\\%\\]{transform-origin:100%}.pi .-translate-x-1\\/2{--tw-translate-x:-50%}.pi .-translate-x-1\\/2,.pi .-translate-y-1\\/2{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.pi .-translate-y-1\\/2{--tw-translate-y:-50%}.pi .-rotate-45{--tw-rotate:-45deg}.pi .-rotate-45,.pi .rotate-0{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.pi .rotate-0{--tw-rotate:0deg}.pi .rotate-180{--tw-rotate:180deg}.pi .rotate-180,.pi .rotate-45{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.pi .rotate-45{--tw-rotate:45deg}.pi .rotate-90{--tw-rotate:90deg}.pi .rotate-90,.pi .scale-y-\\[0\\.6\\]{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.pi .scale-y-\\[0\\.6\\]{--tw-scale-y:.6}.pi .transform{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.pi .cursor-default{cursor:default}.pi .cursor-move{cursor:move}.pi .cursor-nesw-resize{cursor:nesw-resize}.pi .cursor-none{cursor:none}.pi .cursor-not-allowed{cursor:not-allowed}.pi .cursor-nwse-resize{cursor:nwse-resize}.pi .cursor-pointer{cursor:pointer}.pi .cursor-se-resize{cursor:se-resize}.pi .cursor-sw-resize{cursor:sw-resize}.pi .cursor-zoom-in{cursor:zoom-in}.pi .touch-none{touch-action:none}.pi .select-none{-webkit-user-select:none;-moz-user-select:none;user-select:none}.pi .resize-none{resize:none}.pi .resize{resize:both}.pi .appearance-none{-webkit-appearance:none;-moz-appearance:none;appearance:none}.pi .break-inside-avoid{-moz-column-break-inside:avoid;break-inside:avoid}.pi .grid-cols-2{grid-template-columns:repeat(2,minmax(0,1fr))}.pi .grid-cols-3{grid-template-columns:repeat(3,minmax(0,1fr))}.pi .grid-cols-5-min-content{grid-template-columns:repeat(5,min-content)}.pi .grid-cols-\\[repeat\\(auto-fill\\,minmax\\(90px\\,1fr\\)\\)\\]{grid-template-columns:repeat(auto-fill,minmax(90px,1fr))}.pi .flex-row{flex-direction:row}.pi .flex-col{flex-direction:column}.pi .flex-col-reverse{flex-direction:column-reverse}.pi .flex-wrap{flex-wrap:wrap}.pi .flex-nowrap{flex-wrap:nowrap}.pi .items-start{align-items:flex-start}.pi .items-end{align-items:flex-end}.pi .items-center{align-items:center}.pi .items-baseline{align-items:baseline}.pi .items-stretch{align-items:stretch}.pi .justify-start{justify-content:flex-start}.pi .justify-end{justify-content:flex-end}.pi .justify-center{justify-content:center}.pi .justify-between{justify-content:space-between}.pi .gap-10{gap:10px}.pi .gap-12{gap:12px}.pi .gap-14{gap:14px}.pi .gap-16{gap:16px}.pi .gap-18{gap:18px}.pi .gap-2{gap:2px}.pi .gap-20{gap:20px}.pi .gap-24{gap:24px}.pi .gap-30{gap:30px}.pi .gap-32{gap:32px}.pi .gap-36{gap:36px}.pi .gap-4{gap:4px}.pi .gap-40{gap:40px}.pi .gap-6{gap:6px}.pi .gap-60{gap:60px}.pi .gap-64{gap:64px}.pi .gap-8{gap:8px}.pi .gap-x-10{-moz-column-gap:10px;column-gap:10px}.pi .gap-x-16{-moz-column-gap:16px;column-gap:16px}.pi .space-y-10>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-bottom:calc(10px*var(--tw-space-y-reverse));margin-top:calc(10px*(1 - var(--tw-space-y-reverse)))}.pi .space-y-24>:not([hidden])~:not([hidden]){--tw-space-y-reverse:0;margin-bottom:calc(24px*var(--tw-space-y-reverse));margin-top:calc(24px*(1 - var(--tw-space-y-reverse)))}.pi .self-stretch{align-self:stretch}.pi .overflow-auto{overflow:auto}.pi .overflow-hidden{overflow:hidden}.pi .overflow-x-auto{overflow-x:auto}.pi .overflow-y-auto{overflow-y:auto}.pi .overflow-x-hidden{overflow-x:hidden}.pi .overflow-y-hidden{overflow-y:hidden}.pi .overflow-y-visible{overflow-y:visible}.pi .overscroll-contain{overscroll-behavior:contain}.pi .truncate{overflow:hidden;white-space:nowrap}.pi .overflow-ellipsis,.pi .text-ellipsis,.pi .truncate{text-overflow:ellipsis}.pi .whitespace-normal{white-space:normal}.pi .whitespace-nowrap{white-space:nowrap}.pi .whitespace-pre-line{white-space:pre-line}.pi .whitespace-pre-wrap{white-space:pre-wrap}.pi .break-words{overflow-wrap:break-word}.pi .rounded{border-radius:4px}.pi .rounded-2xl{border-radius:16px}.pi .rounded-3xl{border-radius:24px}.pi .rounded-button{border-radius:var(--be-button-radius,.25rem)}.pi .rounded-full{border-radius:9999px}.pi .rounded-input{border-radius:var(--be-input-radius,.25rem)}.pi .rounded-lg{border-radius:8px}.pi .rounded-md{border-radius:6px}.pi .rounded-none{border-radius:0}.pi .rounded-panel{border-radius:var(--be-panel-radius,.25rem)}.pi .rounded-xl{border-radius:12px}.pi .rounded-l{border-bottom-left-radius:4px;border-top-left-radius:4px}.pi .rounded-l-full{border-bottom-left-radius:9999px;border-top-left-radius:9999px}.pi .rounded-l-input{border-bottom-left-radius:var(--be-input-radius,.25rem);border-top-left-radius:var(--be-input-radius,.25rem)}.pi .rounded-l-md{border-bottom-left-radius:6px;border-top-left-radius:6px}.pi .rounded-l-none{border-bottom-left-radius:0;border-top-left-radius:0}.pi .rounded-r-full{border-bottom-right-radius:9999px;border-top-right-radius:9999px}.pi .rounded-r-input{border-bottom-right-radius:var(--be-input-radius,.25rem);border-top-right-radius:var(--be-input-radius,.25rem)}.pi .rounded-r-md{border-bottom-right-radius:6px;border-top-right-radius:6px}.pi .rounded-r-none{border-bottom-right-radius:0;border-top-right-radius:0}.pi .rounded-t{border-top-left-radius:4px;border-top-right-radius:4px}.pi .rounded-bl-none{border-bottom-left-radius:0}.pi .rounded-br-none{border-bottom-right-radius:0}.pi .rounded-tl-none{border-top-left-radius:0}.pi .rounded-tr-none{border-top-right-radius:0}.pi .border{border-width:1px}.pi .border-2{border-width:2px}.pi .border-4{border-width:4px}.pi .border-\\[3px\\]{border-width:3px}.pi .border-x{border-left-width:1px;border-right-width:1px}.pi .border-y{border-top-width:1px}.pi .border-b,.pi .border-y{border-bottom-width:1px}.pi .border-b-4{border-bottom-width:4px}.pi .border-l{border-left-width:1px}.pi .border-l-4{border-left-width:4px}.pi .border-r{border-right-width:1px}.pi .border-r-4{border-right-width:4px}.pi .border-t{border-top-width:1px}.pi .border-t-4{border-top-width:4px}.pi .border-dashed{border-style:dashed}.pi .border-dotted{border-style:dotted}.pi .border-none{border-style:none}.pi .border-\\[\\#c3cbdc\\]{--tw-border-opacity:1;border-color:rgb(195 203 220/var(--tw-border-opacity))}.pi .border-background{--tw-border-opacity:1;border-color:rgb(var(--be-background)/var(--tw-border-opacity))}.pi .border-bg-alt{--tw-border-opacity:1;border-color:rgb(var(--be-background-alt)/var(--tw-border-opacity))}.pi .border-chip{--tw-border-opacity:1;border-color:rgb(var(--be-background-chip)/var(--tw-border-opacity))}.pi .border-danger{--tw-border-opacity:1;border-color:rgb(239 68 68/var(--tw-border-opacity))}.pi .border-danger\\/50{border-color:#ef444480}.pi .border-divider{border-color:rgb(var(--be-foreground-base)/var(--be-divider-opacity))}.pi .border-envato{--tw-border-opacity:1;border-color:rgb(108 161 43/var(--tw-border-opacity))}.pi .border-paper{--tw-border-opacity:1;border-color:rgb(var(--be-paper)/var(--tw-border-opacity))}.pi .border-positive\\/50{border-color:#22c55e80}.pi .border-primary{--tw-border-opacity:1;border-color:rgb(var(--be-primary)/var(--tw-border-opacity))}.pi .border-primary\\/50{border-color:rgb(var(--be-primary)/.5)}.pi .border-text-muted{border-color:rgb(var(--be-foreground-base)/var(--be-text-muted-opacity))}.pi .border-transparent{border-color:transparent}.pi .border-white{--tw-border-opacity:1;border-color:rgb(255 255 255/var(--tw-border-opacity))}.pi .border-white\\/30{border-color:#ffffff4d}.pi .border-white\\/50{border-color:#ffffff80}.pi .border-b-bg{--tw-border-opacity:1;border-bottom-color:rgb(var(--be-background)/var(--tw-border-opacity))}.pi .border-b-divider{border-bottom-color:rgb(var(--be-foreground-base)/var(--be-divider-opacity))}.pi .border-b-primary{--tw-border-opacity:1;border-bottom-color:rgb(var(--be-primary)/var(--tw-border-opacity))}.pi .border-b-transparent{border-bottom-color:transparent}.pi .border-r-primary-light{--tw-border-opacity:1;border-right-color:rgb(var(--be-primary-light)/var(--tw-border-opacity))}.pi .border-r-transparent{border-right-color:transparent}.pi .border-t-divider{border-top-color:rgb(var(--be-foreground-base)/var(--be-divider-opacity))}.pi .bg{--tw-bg-opacity:1;background-color:rgb(var(--be-background)/var(--tw-bg-opacity))}.pi .bg-alt{--tw-bg-opacity:1;background-color:rgb(var(--be-background-alt)/var(--tw-bg-opacity))}.pi .bg-background{--tw-bg-opacity:1;background-color:rgb(var(--be-background)/var(--tw-bg-opacity))}.pi .bg-background\\/70{background-color:rgb(var(--be-background)/.7)}.pi .bg-background\\/80{background-color:rgb(var(--be-background)/.8)}.pi .bg-black{--tw-bg-opacity:1;background-color:rgb(0 0 0/var(--tw-bg-opacity))}.pi .bg-black\\/20{background-color:#0003}.pi .bg-black\\/50{background-color:#00000080}.pi .bg-black\\/80{background-color:#000c}.pi .bg-chip{--tw-bg-opacity:1;background-color:rgb(var(--be-background-chip)/var(--tw-bg-opacity))}.pi .bg-controls{--tw-bg-opacity:1;background-color:rgb(50 50 50/var(--tw-bg-opacity))}.pi .bg-danger{--tw-bg-opacity:1;background-color:rgb(239 68 68/var(--tw-bg-opacity))}.pi .bg-danger-lighter{--tw-bg-opacity:1;background-color:rgb(254 202 202/var(--tw-bg-opacity))}.pi .bg-danger\\/20{background-color:#ef444433}.pi .bg-danger\\/30{background-color:#ef44444d}.pi .bg-danger\\/6{background-color:#ef44440f}.pi .bg-danger\\/focus{background-color:rgb(239 68 68/var(--be-focus-opacity))}.pi .bg-divider{background-color:rgb(var(--be-foreground-base)/var(--be-divider-opacity))}.pi .bg-envato{--tw-bg-opacity:1;background-color:rgb(108 161 43/var(--tw-bg-opacity))}.pi .bg-fg-base\\/4{background-color:rgb(var(--be-foreground-base)/4%)}.pi .bg-fg-base\\/8{background-color:rgb(var(--be-foreground-base)/8%)}.pi .bg-focus{background-color:rgb(var(--be-foreground-base)/var(--be-focus-opacity))}.pi .bg-inherit{background-color:inherit}.pi .bg-paper{--tw-bg-opacity:1;background-color:rgb(var(--be-paper)/var(--tw-bg-opacity))}.pi .bg-positive{--tw-bg-opacity:1;background-color:rgb(34 197 94/var(--tw-bg-opacity))}.pi .bg-positive-lighter{--tw-bg-opacity:1;background-color:rgb(187 247 208/var(--tw-bg-opacity))}.pi .bg-positive\\/focus{background-color:rgb(34 197 94/var(--be-focus-opacity))}.pi .bg-primary{--tw-bg-opacity:1;background-color:rgb(var(--be-primary)/var(--tw-bg-opacity))}.pi .bg-primary-dark{--tw-bg-opacity:1;background-color:rgb(var(--be-primary-dark)/var(--tw-bg-opacity))}.pi .bg-primary-light{--tw-bg-opacity:1;background-color:rgb(var(--be-primary-light)/var(--tw-bg-opacity))}.pi .bg-primary-light\\/20{background-color:rgb(var(--be-primary-light)/.2)}.pi .bg-primary-light\\/40{background-color:rgb(var(--be-primary-light)/.4)}.pi .bg-primary\\/10{background-color:rgb(var(--be-primary)/.1)}.pi .bg-primary\\/5{background-color:rgb(var(--be-primary)/.05)}.pi .bg-primary\\/6{background-color:rgb(var(--be-primary)/6%)}.pi .bg-primary\\/focus{background-color:rgb(var(--be-primary)/var(--be-focus-opacity))}.pi .bg-primary\\/selected{background-color:rgb(var(--be-primary)/var(--be-selected-opacity))}.pi .bg-selected{background-color:rgb(var(--be-foreground-base)/var(--be-selected-opacity))}.pi .bg-slider-disabled{--tw-bg-opacity:1;background-color:rgb(189 189 189/var(--tw-bg-opacity))}.pi .bg-slider-disabled\\/60{background-color:#bdbdbd99}.pi .bg-toast{--tw-bg-opacity:1;background-color:rgb(50 50 50/var(--tw-bg-opacity))}.pi .bg-transparent{background-color:transparent}.pi .bg-warning{--tw-bg-opacity:1;background-color:rgb(243 164 50/var(--tw-bg-opacity))}.pi .bg-warning\\/15{background-color:#f3a43226}.pi .bg-warning\\/focus{background-color:rgb(243 164 50/var(--be-focus-opacity))}.pi .bg-white{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.pi .bg-white\\/20{background-color:#fff3}.pi .bg-white\\/40{background-color:#fff6}.pi .bg-white\\/50{background-color:#ffffff80}.pi .bg-opacity-95{--tw-bg-opacity:.95}.pi .bg-contain{background-size:contain}.pi .bg-cover{background-size:cover}.pi .bg-center{background-position:50%}.pi .bg-no-repeat{background-repeat:no-repeat}.pi .fill-current{fill:currentColor}.pi .fill-transparent{fill:transparent}.pi .stroke-current{stroke:currentColor}.pi .object-contain{-o-object-fit:contain;object-fit:contain}.pi .object-cover{-o-object-fit:cover;object-fit:cover}.pi .p-0{padding:0}.pi .p-10{padding:10px}.pi .p-12{padding:12px}.pi .p-14{padding:14px}.pi .p-16{padding:16px}.pi .p-18{padding:18px}.pi .p-2{padding:2px}.pi .p-20{padding:20px}.pi .p-24{padding:24px}.pi .p-4{padding:4px}.pi .p-40{padding:40px}.pi .p-6{padding:6px}.pi .p-8{padding:8px}.pi .px-10{padding-left:10px;padding-right:10px}.pi .px-12{padding-left:12px;padding-right:12px}.pi .px-14{padding-left:14px;padding-right:14px}.pi .px-16{padding-left:16px;padding-right:16px}.pi .px-18{padding-left:18px;padding-right:18px}.pi .px-20{padding-left:20px;padding-right:20px}.pi .px-22{padding-left:22px;padding-right:22px}.pi .px-24{padding-left:24px;padding-right:24px}.pi .px-26{padding-left:26px;padding-right:26px}.pi .px-28{padding-left:28px;padding-right:28px}.pi .px-30{padding-left:30px;padding-right:30px}.pi .px-32{padding-left:32px;padding-right:32px}.pi .px-4{padding-left:4px;padding-right:4px}.pi .px-40{padding-left:40px;padding-right:40px}.pi .px-5vw{padding-left:5vw;padding-right:5vw}.pi .px-6{padding-left:6px;padding-right:6px}.pi .px-8{padding-left:8px;padding-right:8px}.pi .py-10{padding-bottom:10px;padding-top:10px}.pi .py-12{padding-bottom:12px;padding-top:12px}.pi .py-14{padding-bottom:14px;padding-top:14px}.pi .py-16{padding-bottom:16px;padding-top:16px}.pi .py-18{padding-bottom:18px;padding-top:18px}.pi .py-2{padding-bottom:2px;padding-top:2px}.pi .py-20{padding-bottom:20px;padding-top:20px}.pi .py-24{padding-bottom:24px;padding-top:24px}.pi .py-28{padding-bottom:28px;padding-top:28px}.pi .py-3{padding-bottom:3px;padding-top:3px}.pi .py-30{padding-bottom:30px;padding-top:30px}.pi .py-32{padding-bottom:32px;padding-top:32px}.pi .py-4{padding-bottom:4px;padding-top:4px}.pi .py-40{padding-bottom:40px;padding-top:40px}.pi .py-5{padding-bottom:5px;padding-top:5px}.pi .py-6{padding-bottom:6px;padding-top:6px}.pi .py-8{padding-bottom:8px;padding-top:8px}.pi .py-90{padding-bottom:5.625rem;padding-top:5.625rem}.pi .py-96{padding-bottom:96px;padding-top:96px}.pi .py-\\[9px\\]{padding-bottom:9px;padding-top:9px}.pi .pb-10{padding-bottom:10px}.pi .pb-12{padding-bottom:12px}.pi .pb-14{padding-bottom:14px}.pi .pb-16{padding-bottom:16px}.pi .pb-18{padding-bottom:18px}.pi .pb-20{padding-bottom:20px}.pi .pb-24{padding-bottom:24px}.pi .pb-28{padding-bottom:28px}.pi .pb-30{padding-bottom:30px}.pi .pb-32{padding-bottom:32px}.pi .pb-4{padding-bottom:4px}.pi .pb-48{padding-bottom:48px}.pi .pb-6{padding-bottom:6px}.pi .pb-8{padding-bottom:8px}.pi .pb-safe-area{padding-bottom:env(safe-area-inset-bottom)}.pi .pl-10{padding-left:10px}.pi .pl-12{padding-left:12px}.pi .pl-14{padding-left:14px}.pi .pl-16{padding-left:16px}.pi .pl-18{padding-left:18px}.pi .pl-20{padding-left:20px}.pi .pl-28{padding-left:28px}.pi .pl-4{padding-left:4px}.pi .pl-46{padding-left:2.875rem}.pi .pl-54{padding-left:3.375rem}.pi .pl-8{padding-left:8px}.pi .pr-0{padding-right:0}.pi .pr-10{padding-right:10px}.pi .pr-12{padding-right:12px}.pi .pr-18{padding-right:18px}.pi .pr-24{padding-right:24px}.pi .pr-28{padding-right:28px}.pi .pr-46{padding-right:2.875rem}.pi .pr-54{padding-right:3.375rem}.pi .pr-6{padding-right:6px}.pi .pr-8{padding-right:8px}.pi .pt-10{padding-top:10px}.pi .pt-12{padding-top:12px}.pi .pt-14{padding-top:14px}.pi .pt-16{padding-top:16px}.pi .pt-20{padding-top:20px}.pi .pt-24{padding-top:24px}.pi .pt-26{padding-top:26px}.pi .pt-30{padding-top:30px}.pi .pt-4{padding-top:4px}.pi .pt-40{padding-top:40px}.pi .pt-42{padding-top:42px}.pi .pt-50{padding-top:50px}.pi .pt-54{padding-top:3.375rem}.pi .pt-6{padding-top:6px}.pi .pt-70{padding-top:70px}.pi .text-left{text-align:left}.pi .text-center{text-align:center}.pi .text-right{text-align:right}.pi .text-start{text-align:start}.pi .align-top{vertical-align:top}.pi .align-middle{vertical-align:middle}.pi .font-mono{font-family:ui-monospace,SFMono-Regular,Menlo,Monaco,Consolas,Liberation Mono,Courier New,monospace}.pi .text-2xl{font-size:24px;line-height:32px}.pi .text-3xl{font-size:30px;line-height:36px}.pi .text-4xl{font-size:36px;line-height:40px}.pi .text-6xl{font-size:60px;line-height:1}.pi .text-base{font-size:16px;line-height:24px}.pi .text-lg{font-size:18px;line-height:28px}.pi .text-sm{font-size:14px;line-height:20px}.pi .text-xl{font-size:20px;line-height:28px}.pi .text-xs{font-size:12px;line-height:16px}.pi .font-bold{font-weight:700}.pi .font-light{font-weight:300}.pi .font-medium{font-weight:500}.pi .font-normal{font-weight:400}.pi .font-semibold{font-weight:600}.pi .uppercase{text-transform:uppercase}.pi .lowercase{text-transform:lowercase}.pi .capitalize{text-transform:capitalize}.pi .italic{font-style:italic}.pi .tabular-nums{--tw-numeric-spacing:tabular-nums;font-variant-numeric:var(--tw-ordinal) var(--tw-slashed-zero) var(--tw-numeric-figure) var(--tw-numeric-spacing) var(--tw-numeric-fraction)}.pi .leading-3{line-height:.75rem}.pi .leading-4{line-height:1rem}.pi .leading-5{line-height:1.25rem}.pi .leading-loose{line-height:2}.pi .leading-none{line-height:1}.pi .leading-snug{line-height:1.375}.pi .leading-tight{line-height:1.25}.pi .tracking-wide{letter-spacing:.025em}.pi .\\!text{color:rgb(var(--be-foreground-base)/var(--be-text-main-opacity))!important}.pi .text{color:rgb(var(--be-foreground-base)/var(--be-text-main-opacity))}.pi .text-background{--tw-text-opacity:1;color:rgb(var(--be-background)/var(--tw-text-opacity))}.pi .text-background-alt{--tw-text-opacity:1;color:rgb(var(--be-background-alt)/var(--tw-text-opacity))}.pi .text-black{--tw-text-opacity:1;color:rgb(0 0 0/var(--tw-text-opacity))}.pi .text-black\\/30{color:#0000004d}.pi .text-danger{--tw-text-opacity:1;color:rgb(239 68 68/var(--tw-text-opacity))}.pi .text-danger-darker{--tw-text-opacity:1;color:rgb(153 27 27/var(--tw-text-opacity))}.pi .text-disabled{color:rgb(var(--be-foreground-base)/var(--be-disabled-fg-opacity))}.pi .text-envato{--tw-text-opacity:1;color:rgb(108 161 43/var(--tw-text-opacity))}.pi .text-facebook{--tw-text-opacity:1;color:rgb(59 89 152/var(--tw-text-opacity))}.pi .text-link{--tw-text-opacity:1;color:rgb(var(--be-link-color,var(--be-primary))/var(--tw-text-opacity))}.pi .text-main{color:rgb(var(--be-foreground-base)/var(--be-text-main-opacity))}.pi .text-muted{color:rgb(var(--be-foreground-base)/var(--be-text-muted-opacity))}.pi .text-on-primary{--tw-text-opacity:1;color:rgb(var(--be-on-primary)/var(--tw-text-opacity))}.pi .text-positive{--tw-text-opacity:1;color:rgb(34 197 94/var(--tw-text-opacity))}.pi .text-positive-darker{--tw-text-opacity:1;color:rgb(22 101 52/var(--tw-text-opacity))}.pi .text-primary{--tw-text-opacity:1;color:rgb(var(--be-primary)/var(--tw-text-opacity))}.pi .text-primary-light{--tw-text-opacity:1;color:rgb(var(--be-primary-light)/var(--tw-text-opacity))}.pi .text-primary\\/40{color:rgb(var(--be-primary)/.4)}.pi .text-transparent{color:transparent}.pi .text-twitter{--tw-text-opacity:1;color:rgb(0 0 0/var(--tw-text-opacity))}.pi .text-warning{--tw-text-opacity:1;color:rgb(243 164 50/var(--tw-text-opacity))}.pi .text-white{--tw-text-opacity:1;color:rgb(255 255 255/var(--tw-text-opacity))}.pi .text-white\\/87{color:#ffffffde}.pi .underline{text-decoration-line:underline}.pi .no-underline{text-decoration-line:none}.pi .caret-transparent{caret-color:transparent}.pi .opacity-0{opacity:0}.pi .opacity-100{opacity:1}.pi .opacity-70{opacity:.7}.pi .opacity-80{opacity:.8}.pi .opacity-90{opacity:.9}.pi .shadow{--tw-shadow:0 1px 3px 0 rgba(0,0,0,.1),0 1px 2px -1px rgba(0,0,0,.1);--tw-shadow-colored:0 1px 3px 0 var(--tw-shadow-color),0 1px 2px -1px var(--tw-shadow-color)}.pi .shadow,.pi .shadow-2xl{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.pi .shadow-2xl{--tw-shadow:0 25px 50px -12px rgba(0,0,0,.25);--tw-shadow-colored:0 25px 50px -12px var(--tw-shadow-color)}.pi .shadow-\\[15px_0_30px_0_rgb\\(0_0_0_\\/_18\\%\\)\\]{--tw-shadow:15px 0 30px 0 rgba(0,0,0,.18);--tw-shadow-colored:15px 0 30px 0 var(--tw-shadow-color)}.pi .shadow-\\[15px_0_30px_0_rgb\\(0_0_0_\\/_18\\%\\)\\],.pi .shadow-lg{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.pi .shadow-lg{--tw-shadow:0 10px 15px -3px rgba(0,0,0,.1),0 4px 6px -4px rgba(0,0,0,.1);--tw-shadow-colored:0 10px 15px -3px var(--tw-shadow-color),0 4px 6px -4px var(--tw-shadow-color)}.pi .shadow-md{--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color)}.pi .shadow-md,.pi .shadow-none{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.pi .shadow-none{--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000}.pi .shadow-sm{--tw-shadow:0 1px 2px 0 rgba(0,0,0,.05);--tw-shadow-colored:0 1px 2px 0 var(--tw-shadow-color)}.pi .shadow-sm,.pi .shadow-xl{box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.pi .shadow-xl{--tw-shadow:0 20px 25px -5px rgba(0,0,0,.1),0 8px 10px -6px rgba(0,0,0,.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color)}.pi .outline-none{outline:2px solid transparent;outline-offset:2px}.pi .outline{outline-color:rgb(var(--be-primary-lighter)/1);outline-style:solid;outline-width:2px}.pi .ring{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color)}.pi .ring,.pi .ring-2{box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.pi .ring-2{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color)}.pi .ring-inset{--tw-ring-inset:inset}.pi .ring-primary{--tw-ring-opacity:1;--tw-ring-color:rgb(var(--be-primary)/var(--tw-ring-opacity))}.pi .ring-offset-2{--tw-ring-offset-width:2px}.pi .ring-offset-4{--tw-ring-offset-width:4px}.pi .blur{--tw-blur:blur(8px)}.pi .blur,.pi .grayscale{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.pi .grayscale{--tw-grayscale:grayscale(100%)}.pi .invert{--tw-invert:invert(100%)}.pi .invert,.pi .sepia{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.pi .sepia{--tw-sepia:sepia(100%)}.pi .\\!filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)!important}.pi .filter{filter:var(--tw-blur) var(--tw-brightness) var(--tw-contrast) var(--tw-grayscale) var(--tw-hue-rotate) var(--tw-invert) var(--tw-saturate) var(--tw-sepia) var(--tw-drop-shadow)}.pi .backdrop-blur-sm{--tw-backdrop-blur:blur(4px);-webkit-backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia);backdrop-filter:var(--tw-backdrop-blur) var(--tw-backdrop-brightness) var(--tw-backdrop-contrast) var(--tw-backdrop-grayscale) var(--tw-backdrop-hue-rotate) var(--tw-backdrop-invert) var(--tw-backdrop-opacity) var(--tw-backdrop-saturate) var(--tw-backdrop-sepia)}.pi .transition{transition-duration:.15s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}.pi .transition-all{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.pi .transition-bg-color{transition-duration:.15s;transition-property:background-color;transition-timing-function:cubic-bezier(.4,0,.2,1)}.pi .transition-button{transition-duration:.15s;transition-property:background-color,box-shadow,border-color,color;transition-timing-function:cubic-bezier(.4,0,.2,1)}.pi .transition-colors{transition-duration:.15s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke;transition-timing-function:cubic-bezier(.4,0,.2,1)}.pi .transition-opacity{transition-duration:.15s;transition-property:opacity;transition-timing-function:cubic-bezier(.4,0,.2,1)}.pi .transition-shadow{transition-duration:.15s;transition-property:box-shadow;transition-timing-function:cubic-bezier(.4,0,.2,1)}.pi .transition-transform{transition-duration:.15s;transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1)}.pi .transition-width{transition-duration:.15s;transition-property:width;transition-timing-function:cubic-bezier(.4,0,.2,1)}.pi .duration-100{transition-duration:.1s}.pi .duration-200{transition-duration:.2s}.pi .duration-300{transition-duration:.3s}.pi .will-change-\\[width\\]{will-change:width}.pi .will-change-transform{will-change:transform}.pi .\\@container{container-type:inline-size}.pi .icon-2xs{font-size:.75rem}.pi .icon-xs{font-size:1rem}.pi .icon-sm{font-size:1.25rem}.pi .icon-md{font-size:1.5rem}.pi .icon-lg{font-size:2.1875rem}.pi .icon-xl{font-size:2.6875rem}.pi .no-tap-highlight{-webkit-tap-highlight-color:transparent}@media only screen and (min-device-width:768px){.pi .tiny-scrollbar{scrollbar-color:rgba(0,0,0,.2) transparent;scrollbar-width:thin}.pi .tiny-scrollbar::-webkit-scrollbar{background-color:transparent;height:6px;width:6px}.pi .tiny-scrollbar::-webkit-scrollbar-thumb{background-color:rgb(var(--be-foreground-base)/.2);border-radius:10px}.pi .tiny-scrollbar::-webkit-scrollbar-track-piece:start{background:transparent}.pi .tiny-scrollbar::-webkit-scrollbar-track-piece:end{background:transparent}}.pi .hide-scrollbar{-ms-overflow-style:none;scrollbar-width:none}.pi .hide-scrollbar::-webkit-scrollbar{background:transparent;display:none;height:0;width:0}.pi .svg-icon{display:inline-block;flex-shrink:0;-webkit-user-select:none;-moz-user-select:none;user-select:none;fill:currentColor;transition-duration:.15s;transition-property:transform,fill;transition-timing-function:cubic-bezier(.4,0,.2,1)}.pi .cropzone:not(.moving) .cropzone-transition{transition-duration:.15s;transition-property:all;transition-timing-function:cubic-bezier(.4,0,.2,1)}.pi .first-letter\\:capitalize:first-letter{text-transform:capitalize}.pi .file\\:mr-10::file-selector-button{margin-right:10px}.pi .file\\:h-24::file-selector-button{height:24px}.pi .file\\:rounded::file-selector-button{border-radius:4px}.pi .file\\:border-none::file-selector-button{border-style:none}.pi .file\\:bg-primary::file-selector-button{--tw-bg-opacity:1;background-color:rgb(var(--be-primary)/var(--tw-bg-opacity))}.pi .file\\:px-10::file-selector-button{padding-left:10px;padding-right:10px}.pi .file\\:text-sm::file-selector-button{font-size:14px;line-height:20px}.pi .file\\:font-semibold::file-selector-button{font-weight:600}.pi .file\\:text-on-primary::file-selector-button{--tw-text-opacity:1;color:rgb(var(--be-on-primary)/var(--tw-text-opacity))}.pi .before\\:absolute:before{content:var(--tw-content);position:absolute}.pi .before\\:left-0:before{content:var(--tw-content);left:0}.pi .before\\:top-1\\/2:before{content:var(--tw-content);top:50%}.pi .before\\:z-10:before{content:var(--tw-content);z-index:10}.pi .before\\:block:before{content:var(--tw-content);display:block}.pi .before\\:h-1:before{content:var(--tw-content);height:1px}.pi .before\\:h-12:before{content:var(--tw-content);height:12px}.pi .before\\:h-14:before{content:var(--tw-content);height:14px}.pi .before\\:h-18:before{content:var(--tw-content);height:18px}.pi .before\\:h-22:before{content:var(--tw-content);height:22px}.pi .before\\:h-28:before{content:var(--tw-content);height:28px}.pi .before\\:h-full:before{content:var(--tw-content);height:100%}.pi .before\\:w-12:before{content:var(--tw-content);width:12px}.pi .before\\:w-14:before{content:var(--tw-content);width:14px}.pi .before\\:w-18:before{content:var(--tw-content);width:18px}.pi .before\\:w-22:before{content:var(--tw-content);width:22px}.pi .before\\:w-28:before{content:var(--tw-content);width:28px}.pi .before\\:w-full:before{content:var(--tw-content);width:100%}.pi .before\\:-translate-y-1\\/2:before{--tw-translate-y:-50%}.pi .before\\:-translate-y-1\\/2:before,.pi .before\\:translate-x-2:before{content:var(--tw-content);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.pi .before\\:translate-x-2:before{--tw-translate-x:2px}.pi .before\\:scale-10:before{content:var(--tw-content);--tw-scale-x:.1;--tw-scale-y:.1;transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.pi .before\\:rounded-3xl:before{border-radius:24px;content:var(--tw-content)}.pi .before\\:rounded-full:before{border-radius:9999px;content:var(--tw-content)}.pi .before\\:border:before{border-width:1px;content:var(--tw-content)}.pi .before\\:bg-divider:before{background-color:rgb(var(--be-foreground-base)/var(--be-divider-opacity));content:var(--tw-content)}.pi .before\\:bg-primary:before{content:var(--tw-content);--tw-bg-opacity:1;background-color:rgb(var(--be-primary)/var(--tw-bg-opacity))}.pi .before\\:bg-white:before{content:var(--tw-content);--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.pi .before\\:opacity-0:before{content:var(--tw-content);opacity:0}.pi .before\\:transition:before{content:var(--tw-content);transition-duration:.15s;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,-webkit-backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter;transition-property:color,background-color,border-color,text-decoration-color,fill,stroke,opacity,box-shadow,transform,filter,backdrop-filter,-webkit-backdrop-filter;transition-timing-function:cubic-bezier(.4,0,.2,1)}.pi .before\\:transition-transform:before{content:var(--tw-content);transition-duration:.15s;transition-property:transform;transition-timing-function:cubic-bezier(.4,0,.2,1)}.pi .before\\:duration-200:before{content:var(--tw-content);transition-duration:.2s}.pi .after\\:pointer-events-none:after{content:var(--tw-content);pointer-events:none}.pi .after\\:absolute:after{content:var(--tw-content);position:absolute}.pi .after\\:inset-0:after{content:var(--tw-content);top:0;right:0;bottom:0;left:0}.pi .after\\:bottom-0:after{bottom:0;content:var(--tw-content)}.pi .after\\:left-0:after{content:var(--tw-content);left:0}.pi .after\\:h-20:after{content:var(--tw-content);height:20px}.pi .after\\:w-full:after{content:var(--tw-content);width:100%}.pi .after\\:bg-gradient-to-b:after{background-image:linear-gradient(to bottom,var(--tw-gradient-stops));content:var(--tw-content)}.pi .after\\:from-transparent:after{content:var(--tw-content);--tw-gradient-from:transparent var(--tw-gradient-from-position);--tw-gradient-to:transparent var(--tw-gradient-to-position);--tw-gradient-stops:var(--tw-gradient-from),var(--tw-gradient-to)}.pi .after\\:to-background:after{content:var(--tw-content);--tw-gradient-to:rgb(var(--be-background)/1) var(--tw-gradient-to-position)}.pi .first\\:capitalize:first-child{text-transform:capitalize}.pi .checked\\:border-danger:checked{--tw-border-opacity:1;border-color:rgb(239 68 68/var(--tw-border-opacity))}.pi .checked\\:border-primary:checked{--tw-border-opacity:1;border-color:rgb(var(--be-primary)/var(--tw-border-opacity))}.pi .checked\\:bg-danger:checked{--tw-bg-opacity:1;background-color:rgb(239 68 68/var(--tw-bg-opacity))}.pi .checked\\:bg-primary:checked{--tw-bg-opacity:1;background-color:rgb(var(--be-primary)/var(--tw-bg-opacity))}.pi .checked\\:before\\:translate-x-14:checked:before{--tw-translate-x:14px}.pi .checked\\:before\\:translate-x-14:checked:before,.pi .checked\\:before\\:translate-x-20:checked:before{content:var(--tw-content);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.pi .checked\\:before\\:translate-x-20:checked:before{--tw-translate-x:20px}.pi .checked\\:before\\:translate-x-24:checked:before{--tw-translate-x:24px}.pi .checked\\:before\\:translate-x-24:checked:before,.pi .checked\\:before\\:translate-x-30:checked:before{content:var(--tw-content);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.pi .checked\\:before\\:translate-x-30:checked:before{--tw-translate-x:30px}.pi .checked\\:before\\:translate-x-36:checked:before{--tw-translate-x:36px}.pi .checked\\:before\\:scale-\\[\\.65\\]:checked:before,.pi .checked\\:before\\:translate-x-36:checked:before{content:var(--tw-content);transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.pi .checked\\:before\\:scale-\\[\\.65\\]:checked:before{--tw-scale-x:.65;--tw-scale-y:.65}.pi .checked\\:before\\:border-white:checked:before{content:var(--tw-content);--tw-border-opacity:1;border-color:rgb(255 255 255/var(--tw-border-opacity))}.pi .checked\\:before\\:opacity-100:checked:before{content:var(--tw-content);opacity:1}.pi .focus-within\\:border-primary\\/60:focus-within{border-color:rgb(var(--be-primary)/.6)}.pi .focus-within\\:ring:focus-within{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.pi .focus-within\\:ring-primary\\/focus:focus-within{--tw-ring-color:rgb(var(--be-primary)/var(--be-focus-opacity))}.pi .hover\\:scale-105:hover{--tw-scale-x:1.05;--tw-scale-y:1.05}.pi .hover\\:scale-105:hover,.pi .hover\\:scale-110:hover{transform:translate(var(--tw-translate-x),var(--tw-translate-y)) rotate(var(--tw-rotate)) skew(var(--tw-skew-x)) skewY(var(--tw-skew-y)) scaleX(var(--tw-scale-x)) scaleY(var(--tw-scale-y))}.pi .hover\\:scale-110:hover{--tw-scale-x:1.1;--tw-scale-y:1.1}.pi .hover\\:cursor-move:hover{cursor:move}.pi .hover\\:border-chip\\/90:hover{border-color:rgb(var(--be-background-chip)/.9)}.pi .hover\\:border-danger:hover{--tw-border-opacity:1;border-color:rgb(239 68 68/var(--tw-border-opacity))}.pi .hover\\:border-danger\\/90:hover{border-color:#ef4444e6}.pi .hover\\:border-paper\\/90:hover{border-color:rgb(var(--be-paper)/.9)}.pi .hover\\:border-positive:hover{--tw-border-opacity:1;border-color:rgb(34 197 94/var(--tw-border-opacity))}.pi .hover\\:border-primary:hover{--tw-border-opacity:1;border-color:rgb(var(--be-primary)/var(--tw-border-opacity))}.pi .hover\\:border-primary-dark:hover{--tw-border-opacity:1;border-color:rgb(var(--be-primary-dark)/var(--tw-border-opacity))}.pi .hover\\:bg-chip\\/90:hover{background-color:rgb(var(--be-background-chip)/.9)}.pi .hover\\:bg-danger\\/10:hover{background-color:#ef44441a}.pi .hover\\:bg-danger\\/4:hover{background-color:#ef44440a}.pi .hover\\:bg-danger\\/90:hover{background-color:#ef4444e6}.pi .hover\\:bg-fg-base\\/15:hover{background-color:rgb(var(--be-foreground-base)/15%)}.pi .hover\\:bg-focus:hover{background-color:rgb(var(--be-foreground-base)/var(--be-focus-opacity))}.pi .hover\\:bg-hover:hover{background-color:rgb(var(--be-foreground-base)/var(--be-hover-opacity))}.pi .hover\\:bg-paper\\/90:hover{background-color:rgb(var(--be-paper)/.9)}.pi .hover\\:bg-positive\\/4:hover{background-color:#22c55e0a}.pi .hover\\:bg-primary-dark:hover{--tw-bg-opacity:1;background-color:rgb(var(--be-primary-dark)/var(--tw-bg-opacity))}.pi .hover\\:bg-primary\\/10:hover{background-color:rgb(var(--be-primary)/.1)}.pi .hover\\:bg-primary\\/4:hover{background-color:rgb(var(--be-primary)/4%)}.pi .hover\\:bg-primary\\/focus:hover{background-color:rgb(var(--be-primary)/var(--be-focus-opacity))}.pi .hover\\:bg-primary\\/hover:hover{background-color:rgb(var(--be-primary)/var(--be-hover-opacity))}.pi .hover\\:bg-white:hover{--tw-bg-opacity:1;background-color:rgb(255 255 255/var(--tw-bg-opacity))}.pi .hover\\:bg-white\\/20:hover{background-color:#fff3}.pi .hover\\:bg-white\\/hover:hover{background-color:rgb(255 255 255/var(--be-hover-opacity))}.pi .hover\\:text:hover{color:rgb(var(--be-foreground-base)/var(--be-text-main-opacity))}.pi .hover\\:text-fg-base:hover{--tw-text-opacity:1;color:rgb(var(--be-foreground-base)/var(--tw-text-opacity))}.pi .hover\\:text-main:hover{color:rgb(var(--be-foreground-base)/var(--be-text-main-opacity))}.pi .hover\\:text-primary-dark:hover{--tw-text-opacity:1;color:rgb(var(--be-primary-dark)/var(--tw-text-opacity))}.pi .hover\\:underline:hover{text-decoration-line:underline}.pi .hover\\:opacity-100:hover{opacity:1}.pi .hover\\:shadow-md:hover{--tw-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -2px rgba(0,0,0,.1);--tw-shadow-colored:0 4px 6px -1px var(--tw-shadow-color),0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.pi .before\\:hover\\:bg-primary-dark:hover:before{content:var(--tw-content);--tw-bg-opacity:1;background-color:rgb(var(--be-primary-dark)/var(--tw-bg-opacity))}.pi .hover\\:after\\:bg-black\\/5:hover:after{background-color:#0000000d;content:var(--tw-content)}.pi .checked\\:hover\\:border-primary-dark:hover:checked{--tw-border-opacity:1;border-color:rgb(var(--be-primary-dark)/var(--tw-border-opacity))}.pi .focus\\:border-danger\\/60:focus{border-color:#ef444499}.pi .focus\\:border-primary\\/60:focus{border-color:rgb(var(--be-primary)/.6)}.pi .focus\\:bg-primary:focus{--tw-bg-opacity:1;background-color:rgb(var(--be-primary)/var(--tw-bg-opacity))}.pi .focus\\:text-on-primary:focus{--tw-text-opacity:1;color:rgb(var(--be-on-primary)/var(--tw-text-opacity))}.pi .focus\\:outline-none:focus{outline:2px solid transparent;outline-offset:2px}.pi .focus\\:ring:focus{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.pi .focus\\:ring-danger\\/focus:focus{--tw-ring-color:rgb(239 68 68/var(--be-focus-opacity))}.pi .focus\\:ring-primary\\/focus:focus{--tw-ring-color:rgb(var(--be-primary)/var(--be-focus-opacity))}.pi .focus\\:after\\:bg-black\\/10:focus:after{background-color:#0000001a;content:var(--tw-content)}.pi .focus-visible\\:bg-focus:focus-visible{background-color:rgb(var(--be-foreground-base)/var(--be-focus-opacity))}.pi .focus-visible\\:bg-primary\\/focus:focus-visible{background-color:rgb(var(--be-primary)/var(--be-focus-opacity))}.pi .focus-visible\\:underline:focus-visible{text-decoration-line:underline}.pi .focus-visible\\:outline:focus-visible{outline-style:solid;outline-width:2px}.pi .focus-visible\\:outline-offset-2:focus-visible{outline-offset:2px}.pi .focus-visible\\:outline:focus-visible{outline-color:rgb(var(--be-primary-lighter)/1)}.pi .focus-visible\\:outline-primary-light:focus-visible{outline-color:rgb(var(--be-primary-light)/1)}.pi .focus-visible\\:ring:focus-visible{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.pi .focus-visible\\:ring-2:focus-visible{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.pi .focus-visible\\:ring-offset-2:focus-visible{--tw-ring-offset-width:2px}.pi .disabled\\:pointer-events-none:disabled{pointer-events:none}.pi .disabled\\:cursor-default:disabled{cursor:default}.pi .disabled\\:border-disabled-bg:disabled{border-color:rgb(var(--be-foreground-base)/var(--be-disabled-bg-opacity))}.pi .disabled\\:border-disabled-fg:disabled{border-color:rgb(var(--be-foreground-base)/var(--be-disabled-fg-opacity))}.pi .disabled\\:border-transparent:disabled{border-color:transparent}.pi .disabled\\:border-white\\/70:disabled{border-color:#ffffffb3}.pi .disabled\\:border-r-transparent:disabled{border-right-color:transparent}.pi .disabled\\:bg-disabled:disabled{background-color:rgb(var(--be-foreground-base)/var(--be-disabled-bg-opacity))}.pi .disabled\\:bg-transparent:disabled{background-color:transparent}.pi .disabled\\:text-disabled:disabled{color:rgb(var(--be-foreground-base)/var(--be-disabled-fg-opacity))}.pi .disabled\\:text-white\\/70:disabled{color:#ffffffb3}.pi .disabled\\:shadow-none:disabled{--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}.pi .disabled\\:before\\:bg-disabled-fg:disabled:before{background-color:rgb(var(--be-foreground-base)/var(--be-disabled-fg-opacity));content:var(--tw-content)}.pi .group:hover .group-hover\\:visible{visibility:visible}@container (min-width: 20rem){.pi .\\@xs\\:mb-0{margin-bottom:0}.pi .\\@xs\\:flex{display:flex}}.pi .dark\\:bg-alt:is(.dark *){--tw-bg-opacity:1;background-color:rgb(var(--be-background-alt)/var(--tw-bg-opacity))}.pi .dark\\:bg-chip:is(.dark *){--tw-bg-opacity:1;background-color:rgb(var(--be-background-chip)/var(--tw-bg-opacity))}.pi .dark\\:bg-none:is(.dark *){background-image:none}.pi .dark\\:text-white\\/50:is(.dark *){color:#ffffff80}.pi .dark\\:opacity-5:is(.dark *){opacity:.05}.pi .dark\\:opacity-80:is(.dark *){opacity:.8}.pi .dark\\:checked\\:border-primary-dark:checked:is(.dark *){--tw-border-opacity:1;border-color:rgb(var(--be-primary-dark)/var(--tw-border-opacity))}.pi .dark\\:checked\\:bg-primary-dark:checked:is(.dark *){--tw-bg-opacity:1;background-color:rgb(var(--be-primary-dark)/var(--tw-bg-opacity))}@media not all and (min-width:768px){.pi .max-md\\:hidden{display:none}.pi .max-md\\:flex-col{flex-direction:column}}@media (min-width:640px){.pi .sm\\:justify-start{justify-content:flex-start}.pi .sm\\:text-sm{font-size:14px;line-height:20px}}@media (min-width:768px){.pi .md\\:invisible{visibility:hidden}.pi .md\\:mx-40{margin-left:40px;margin-right:40px}.pi .md\\:my-24{margin-bottom:24px;margin-top:24px}.pi .md\\:my-40{margin-bottom:40px;margin-top:40px}.pi .md\\:my-64{margin-bottom:64px;margin-top:64px}.pi .md\\:my-80{margin-bottom:80px;margin-top:80px}.pi .md\\:mb-0{margin-bottom:0}.pi .md\\:mb-16{margin-bottom:16px}.pi .md\\:mb-40{margin-bottom:40px}.pi .md\\:mb-70{margin-bottom:70px}.pi .md\\:mr-0{margin-right:0}.pi .md\\:mr-10{margin-right:10px}.pi .md\\:mr-24{margin-right:24px}.pi .md\\:mr-64{margin-right:64px}.pi .md\\:mr-80{margin-right:80px}.pi .md\\:mt-0{margin-top:0}.pi .md\\:mt-60{margin-top:60px}.pi .md\\:block{display:block}.pi .md\\:flex{display:flex}.pi .md\\:hidden{display:none}.pi .md\\:h-0{height:0}.pi .md\\:h-32{height:32px}.pi .md\\:max-h-36{max-height:36px}.pi .md\\:w-1\\/3{width:33.333333%}.pi .md\\:w-32{width:32px}.pi .md\\:w-320{width:320px}.pi .md\\:w-400{width:25rem}.pi .md\\:min-w-240{min-width:240px}.pi .md\\:max-w-350{max-width:21.875rem}.pi .md\\:max-w-950{max-width:59.375rem}.pi .md\\:flex-row{flex-direction:row}.pi .md\\:items-start{align-items:flex-start}.pi .md\\:items-center{align-items:center}.pi .md\\:justify-center{justify-content:center}.pi .md\\:gap-112{gap:112px}.pi .md\\:gap-12{gap:12px}.pi .md\\:gap-14{gap:14px}.pi .md\\:gap-16{gap:16px}.pi .md\\:gap-18{gap:18px}.pi .md\\:gap-30{gap:30px}.pi .md\\:gap-80{gap:80px}.pi .md\\:overflow-hidden{overflow:hidden}.pi .md\\:p-18{padding:18px}.pi .md\\:p-24{padding:24px}.pi .md\\:p-40{padding:40px}.pi .md\\:px-0{padding-left:0;padding-right:0}.pi .md\\:px-10vw{padding-left:10vw;padding-right:10vw}.pi .md\\:px-176{padding-left:176px;padding-right:176px}.pi .md\\:px-20{padding-left:20px;padding-right:20px}.pi .md\\:px-24{padding-left:24px;padding-right:24px}.pi .md\\:px-30{padding-left:30px;padding-right:30px}.pi .md\\:py-80{padding-bottom:80px;padding-top:80px}.pi .md\\:pb-0{padding-bottom:0}.pi .md\\:pb-54{padding-bottom:3.375rem}.pi .md\\:pl-20{padding-left:20px}.pi .md\\:pr-20{padding-right:20px}.pi .md\\:pt-128{padding-top:128px}.pi .md\\:pt-24{padding-top:24px}.pi .md\\:text-left{text-align:left}.pi .md\\:text-3xl{font-size:30px;line-height:36px}.pi .md\\:text-4xl{font-size:36px;line-height:40px}.pi .md\\:text-5xl{font-size:48px;line-height:1}.pi .md\\:text-base{font-size:16px;line-height:24px}.pi .md\\:text-lg{font-size:18px;line-height:28px}.pi .md\\:font-medium{font-weight:500}.pi .md\\:font-normal{font-weight:400}.pi .md\\:shadow-xl{--tw-shadow:0 20px 25px -5px rgba(0,0,0,.1),0 8px 10px -6px rgba(0,0,0,.1);--tw-shadow-colored:0 20px 25px -5px var(--tw-shadow-color),0 8px 10px -6px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow,0 0 #0000),var(--tw-ring-shadow,0 0 #0000),var(--tw-shadow)}}@media (min-width:1024px){.pi .lg\\:block{display:block}.pi .lg\\:flex-row{flex-direction:row}.pi .lg\\:px-96{padding-left:96px;padding-right:96px}.pi .lg\\:py-96{padding-bottom:96px;padding-top:96px}.pi .lg\\:pb-0{padding-bottom:0}}@media (min-width:1280px){.pi .xl\\:w-1\\/2{width:50%}.pi .xl\\:pt-96{padding-top:96px}}.pi .\\[\\&\\>\\.tree-label\\]\\:focus-visible\\:ring:focus-visible>.tree-label{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(4px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.pi .\\[\\&\\>\\.tree-label\\]\\:focus-visible\\:ring-2:focus-visible>.tree-label{--tw-ring-offset-shadow:var(--tw-ring-inset) 0 0 0 var(--tw-ring-offset-width) var(--tw-ring-offset-color);--tw-ring-shadow:var(--tw-ring-inset) 0 0 0 calc(2px + var(--tw-ring-offset-width)) var(--tw-ring-color);box-shadow:var(--tw-ring-offset-shadow),var(--tw-ring-shadow),var(--tw-shadow,0 0 #0000)}.pi .\\[\\&\\>\\.tree-label\\]\\:focus-visible\\:ring-inset:focus-visible>.tree-label{--tw-ring-inset:inset}
`,wD="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let L1=(e=21)=>{let t="",n=crypto.getRandomValues(new Uint8Array(e));for(;e--;)t+=wD[n[e]&63];return t};class xD{constructor(t,n){Te(this,"timerId");Te(this,"createdAt",0);this.callback=t,this.remaining=n,this.resume()}pause(){clearTimeout(this.timerId),this.remaining-=Date.now()-this.createdAt}resume(){this.createdAt=Date.now(),this.timerId&&clearTimeout(this.timerId),this.timerId=setTimeout(this.callback,this.remaining)}clear(){clearTimeout(this.timerId)}}const CD=1;function SD(e){switch(e){case"danger":return 8e3;case"loading":return 0;default:return 3e3}}const z1=n1()(k1((e,t)=>({toasts:[],add:(n,r)=>{const i=t().toasts.length+1-CD;i>0&&e(d=>{d.toasts.splice(0,i)});const s=(r==null?void 0:r.id)||L1(6),h=(r==null?void 0:r.type)||"positive",a=(r==null?void 0:r.duration)??SD(h),o={timer:a>0?new xD(()=>t().remove(s),a):null,message:n,...r,id:s,type:h,position:(r==null?void 0:r.position)||"bottom-center",duration:a,disableExitAnimation:r==null?void 0:r.disableExitAnimation,disableEnterAnimation:r==null?void 0:r.disableEnterAnimation},u=t().toasts.findIndex(d=>d.id===o.id);u>-1?e(d=>{d.toasts[u]=o}):e(d=>{d.toasts.push(o)})},remove:n=>{const r=t().toasts.filter(i=>{var s;return n===i.id?((s=i.timer)==null||s.clear(),!1):!0});e(i=>{i.toasts=r})}})));function Vs(){return z1.getState()}function Hs(e,t){Vs().add(e,t)}Hs.danger=(e,t)=>{Vs().add(e,{...t,type:"danger"})},Hs.positive=(e,t)=>{Vs().add(e,{...t,type:"positive"})},Hs.loading=(e,t)=>{Vs().add(e,{...t,type:"loading"})};var B1={exports:{}},rn={},N1={exports:{}},$1={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(V,E){var P=V.length;V.push(E);e:for(;0<P;){var A=P-1>>>1,j=V[A];if(0<i(j,E))V[A]=E,V[P]=j,P=A;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var E=V[0],P=V.pop();if(P!==E){V[0]=P;e:for(var A=0,j=V.length,H=j>>>1;A<H;){var M=2*(A+1)-1,O=V[M],I=M+1,B=V[I];if(0>i(O,P))I<j&&0>i(B,O)?(V[A]=B,V[I]=P,A=I):(V[A]=O,V[M]=P,A=M);else if(I<j&&0>i(B,P))V[A]=B,V[I]=P,A=I;else break e}}return E}function i(V,E){var P=V.sortIndex-E.sortIndex;return P!==0?P:V.id-E.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var h=Date,a=h.now();e.unstable_now=function(){return h.now()-a}}var o=[],u=[],d=1,l=null,c=3,f=!1,p=!1,m=!1,g=typeof setTimeout=="function"?setTimeout:null,v=typeof clearTimeout=="function"?clearTimeout:null,y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(V){for(var E=n(u);E!==null;){if(E.callback===null)r(u);else if(E.startTime<=V)r(u),E.sortIndex=E.expirationTime,t(o,E);else break;E=n(u)}}function w(V){if(m=!1,b(V),!p)if(n(o)!==null)p=!0,re(C);else{var E=n(u);E!==null&&ie(w,E.startTime-V)}}function C(V,E){p=!1,m&&(m=!1,v(T),T=-1),f=!0;var P=c;try{for(b(E),l=n(o);l!==null&&(!(l.expirationTime>E)||V&&!$());){var A=l.callback;if(typeof A=="function"){l.callback=null,c=l.priorityLevel;var j=A(l.expirationTime<=E);E=e.unstable_now(),typeof j=="function"?l.callback=j:l===n(o)&&r(o),b(E)}else r(o);l=n(o)}if(l!==null)var H=!0;else{var M=n(u);M!==null&&ie(w,M.startTime-E),H=!1}return H}finally{l=null,c=P,f=!1}}var S=!1,_=null,T=-1,R=5,F=-1;function $(){return!(e.unstable_now()-F<R)}function G(){if(_!==null){var V=e.unstable_now();F=V;var E=!0;try{E=_(!0,V)}finally{E?ne():(S=!1,_=null)}}else S=!1}var ne;if(typeof y=="function")ne=function(){y(G)};else if(typeof MessageChannel<"u"){var X=new MessageChannel,J=X.port2;X.port1.onmessage=G,ne=function(){J.postMessage(null)}}else ne=function(){g(G,0)};function re(V){_=V,S||(S=!0,ne())}function ie(V,E){T=g(function(){V(e.unstable_now())},E)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(V){V.callback=null},e.unstable_continueExecution=function(){p||f||(p=!0,re(C))},e.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):R=0<V?Math.floor(1e3/V):5},e.unstable_getCurrentPriorityLevel=function(){return c},e.unstable_getFirstCallbackNode=function(){return n(o)},e.unstable_next=function(V){switch(c){case 1:case 2:case 3:var E=3;break;default:E=c}var P=c;c=E;try{return V()}finally{c=P}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(V,E){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var P=c;c=V;try{return E()}finally{c=P}},e.unstable_scheduleCallback=function(V,E,P){var A=e.unstable_now();switch(typeof P=="object"&&P!==null?(P=P.delay,P=typeof P=="number"&&0<P?A+P:A):P=A,V){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=P+j,V={id:d++,callback:E,priorityLevel:V,startTime:P,expirationTime:j,sortIndex:-1},P>A?(V.sortIndex=P,t(u,V),n(o)===null&&V===n(u)&&(m?(v(T),T=-1):m=!0,ie(w,P-A))):(V.sortIndex=j,t(o,V),p||f||(p=!0,re(C))),V},e.unstable_shouldYield=$,e.unstable_wrapCallback=function(V){var E=c;return function(){var P=c;c=E;try{return V.apply(this,arguments)}finally{c=P}}}})($1),N1.exports=$1;var _D=N1.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ED=k,sn=_D;function le(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var V1=new Set,ga={};function Bi(e,t){Us(e,t),Us(e+"Capture",t)}function Us(e,t){for(ga[e]=t,e=0;e<t.length;e++)V1.add(t[e])}var dr=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),fd=Object.prototype.hasOwnProperty,kD=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,H1={},U1={};function TD(e){return fd.call(U1,e)?!0:fd.call(H1,e)?!1:kD.test(e)?U1[e]=!0:(H1[e]=!0,!1)}function OD(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function PD(e,t,n,r){if(t===null||typeof t>"u"||OD(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function zt(e,t,n,r,i,s,h){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=h}var bt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){bt[e]=new zt(e,0,!1,e,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];bt[t]=new zt(t,1,!1,e[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(e){bt[e]=new zt(e,2,!1,e.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){bt[e]=new zt(e,2,!1,e,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){bt[e]=new zt(e,3,!1,e.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(e){bt[e]=new zt(e,3,!0,e,null,!1,!1)}),["capture","download"].forEach(function(e){bt[e]=new zt(e,4,!1,e,null,!1,!1)}),["cols","rows","size","span"].forEach(function(e){bt[e]=new zt(e,6,!1,e,null,!1,!1)}),["rowSpan","start"].forEach(function(e){bt[e]=new zt(e,5,!1,e.toLowerCase(),null,!1,!1)});var hd=/[\-:]([a-z])/g;function dd(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(hd,dd);bt[t]=new zt(t,1,!1,e,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(hd,dd);bt[t]=new zt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(hd,dd);bt[t]=new zt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(e){bt[e]=new zt(e,1,!1,e.toLowerCase(),null,!1,!1)}),bt.xlinkHref=new zt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(e){bt[e]=new zt(e,1,!1,e.toLowerCase(),null,!0,!0)});function pd(e,t,n,r){var i=bt.hasOwnProperty(t)?bt[t]:null;(i!==null?i.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(PD(t,n,i,r)&&(n=null),r||i===null?TD(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=n===null?i.type===3?!1:"":n:(t=i.attributeName,r=i.attributeNamespace,n===null?e.removeAttribute(t):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var pr=ED.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Tu=Symbol.for("react.element"),Ws=Symbol.for("react.portal"),Xs=Symbol.for("react.fragment"),gd=Symbol.for("react.strict_mode"),md=Symbol.for("react.profiler"),W1=Symbol.for("react.provider"),X1=Symbol.for("react.context"),vd=Symbol.for("react.forward_ref"),yd=Symbol.for("react.suspense"),bd=Symbol.for("react.suspense_list"),wd=Symbol.for("react.memo"),Hr=Symbol.for("react.lazy"),Y1=Symbol.for("react.offscreen"),G1=Symbol.iterator;function ma(e){return e===null||typeof e!="object"?null:(e=G1&&e[G1]||e["@@iterator"],typeof e=="function"?e:null)}var Ke=Object.assign,xd;function va(e){if(xd===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);xd=t&&t[1]||""}return`
`+xd+e}var Cd=!1;function Sd(e,t){if(!e||Cd)return"";Cd=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(u){var r=u}Reflect.construct(e,[],t)}else{try{t.call()}catch(u){r=u}e.call(t.prototype)}else{try{throw Error()}catch(u){r=u}e()}}catch(u){if(u&&r&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=r.stack.split(`
`),h=i.length-1,a=s.length-1;1<=h&&0<=a&&i[h]!==s[a];)a--;for(;1<=h&&0<=a;h--,a--)if(i[h]!==s[a]){if(h!==1||a!==1)do if(h--,a--,0>a||i[h]!==s[a]){var o=`
`+i[h].replace(" at new "," at ");return e.displayName&&o.includes("<anonymous>")&&(o=o.replace("<anonymous>",e.displayName)),o}while(1<=h&&0<=a);break}}}finally{Cd=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?va(e):""}function DD(e){switch(e.tag){case 5:return va(e.type);case 16:return va("Lazy");case 13:return va("Suspense");case 19:return va("SuspenseList");case 0:case 2:case 15:return e=Sd(e.type,!1),e;case 11:return e=Sd(e.type.render,!1),e;case 1:return e=Sd(e.type,!0),e;default:return""}}function _d(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Xs:return"Fragment";case Ws:return"Portal";case md:return"Profiler";case gd:return"StrictMode";case yd:return"Suspense";case bd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case X1:return(e.displayName||"Context")+".Consumer";case W1:return(e._context.displayName||"Context")+".Provider";case vd:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case wd:return t=e.displayName||null,t!==null?t:_d(e.type)||"Memo";case Hr:t=e._payload,e=e._init;try{return _d(e(t))}catch{}}return null}function AD(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return _d(t);case 8:return t===gd?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Ur(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function K1(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function MD(e){var t=K1(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(h){r=""+h,s.call(this,h)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(h){r=""+h},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ou(e){e._valueTracker||(e._valueTracker=MD(e))}function q1(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=K1(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Pu(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Ed(e,t){var n=t.checked;return Ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Q1(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Ur(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function J1(e,t){t=t.checked,t!=null&&pd(e,"checked",t,!1)}function kd(e,t){J1(e,t);var n=Ur(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?Td(e,t.type,n):t.hasOwnProperty("defaultValue")&&Td(e,t.type,Ur(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Z1(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function Td(e,t,n){(t!=="number"||Pu(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var ya=Array.isArray;function Ys(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Ur(n),t=null,i=0;i<e.length;i++){if(e[i].value===n){e[i].selected=!0,r&&(e[i].defaultSelected=!0);return}t!==null||e[i].disabled||(t=e[i])}t!==null&&(t.selected=!0)}}function Od(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(le(91));return Ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function eb(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(le(92));if(ya(n)){if(1<n.length)throw Error(le(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Ur(n)}}function tb(e,t){var n=Ur(t.value),r=Ur(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function nb(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function rb(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Pd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?rb(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Du,ib=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,i){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,i)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Du=Du||document.createElement("div"),Du.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Du.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function ba(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var wa={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},jD=["Webkit","ms","Moz","O"];Object.keys(wa).forEach(function(e){jD.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),wa[t]=wa[e]})});function sb(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||wa.hasOwnProperty(e)&&wa[e]?(""+t).trim():t+"px"}function ob(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=sb(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}var RD=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Dd(e,t){if(t){if(RD[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(le(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(le(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(le(61))}if(t.style!=null&&typeof t.style!="object")throw Error(le(62))}}function Ad(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Md=null;function jd(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Rd=null,Gs=null,Ks=null;function ab(e){if(e=Va(e)){if(typeof Rd!="function")throw Error(le(280));var t=e.stateNode;t&&(t=Zu(t),Rd(e.stateNode,e.type,t))}}function lb(e){Gs?Ks?Ks.push(e):Ks=[e]:Gs=e}function ub(){if(Gs){var e=Gs,t=Ks;if(Ks=Gs=null,ab(e),t)for(e=0;e<t.length;e++)ab(t[e])}}function cb(e,t){return e(t)}function fb(){}var Fd=!1;function hb(e,t,n){if(Fd)return e(t,n);Fd=!0;try{return cb(e,t,n)}finally{Fd=!1,(Gs!==null||Ks!==null)&&(fb(),ub())}}function xa(e,t){var n=e.stateNode;if(n===null)return null;var r=Zu(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(le(231,t,typeof n));return n}var Id=!1;if(dr)try{var Ca={};Object.defineProperty(Ca,"passive",{get:function(){Id=!0}}),window.addEventListener("test",Ca,Ca),window.removeEventListener("test",Ca,Ca)}catch{Id=!1}function FD(e,t,n,r,i,s,h,a,o){var u=Array.prototype.slice.call(arguments,3);try{t.apply(n,u)}catch(d){this.onError(d)}}var Sa=!1,Au=null,Mu=!1,Ld=null,ID={onError:function(e){Sa=!0,Au=e}};function LD(e,t,n,r,i,s,h,a,o){Sa=!1,Au=null,FD.apply(ID,arguments)}function zD(e,t,n,r,i,s,h,a,o){if(LD.apply(this,arguments),Sa){if(Sa){var u=Au;Sa=!1,Au=null}else throw Error(le(198));Mu||(Mu=!0,Ld=u)}}function Ni(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function db(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function pb(e){if(Ni(e)!==e)throw Error(le(188))}function BD(e){var t=e.alternate;if(!t){if(t=Ni(e),t===null)throw Error(le(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return pb(i),e;if(s===r)return pb(i),t;s=s.sibling}throw Error(le(188))}if(n.return!==r.return)n=i,r=s;else{for(var h=!1,a=i.child;a;){if(a===n){h=!0,n=i,r=s;break}if(a===r){h=!0,r=i,n=s;break}a=a.sibling}if(!h){for(a=s.child;a;){if(a===n){h=!0,n=s,r=i;break}if(a===r){h=!0,r=s,n=i;break}a=a.sibling}if(!h)throw Error(le(189))}}if(n.alternate!==r)throw Error(le(190))}if(n.tag!==3)throw Error(le(188));return n.stateNode.current===n?e:t}function gb(e){return e=BD(e),e!==null?mb(e):null}function mb(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=mb(e);if(t!==null)return t;e=e.sibling}return null}var vb=sn.unstable_scheduleCallback,yb=sn.unstable_cancelCallback,ND=sn.unstable_shouldYield,$D=sn.unstable_requestPaint,it=sn.unstable_now,VD=sn.unstable_getCurrentPriorityLevel,zd=sn.unstable_ImmediatePriority,bb=sn.unstable_UserBlockingPriority,ju=sn.unstable_NormalPriority,HD=sn.unstable_LowPriority,wb=sn.unstable_IdlePriority,Ru=null,Yn=null;function UD(e){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(Ru,e,void 0,(e.current.flags&128)===128)}catch{}}var Mn=Math.clz32?Math.clz32:YD,WD=Math.log,XD=Math.LN2;function YD(e){return e>>>=0,e===0?32:31-(WD(e)/XD|0)|0}var Fu=64,Iu=4194304;function _a(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function Lu(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,h=n&268435455;if(h!==0){var a=h&~i;a!==0?r=_a(a):(s&=h,s!==0&&(r=_a(s)))}else h=n&~i,h!==0?r=_a(h):s!==0&&(r=_a(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&i)&&(i=r&-r,s=t&-t,i>=s||i===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Mn(t),i=1<<n,r|=e[n],t&=~i;return r}function GD(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function KD(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var h=31-Mn(s),a=1<<h,o=i[h];o===-1?(!(a&n)||a&r)&&(i[h]=GD(a,t)):o<=t&&(e.expiredLanes|=a),s&=~a}}function Bd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function xb(){var e=Fu;return Fu<<=1,!(Fu&4194240)&&(Fu=64),e}function Nd(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ea(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Mn(t),e[t]=n}function qD(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-Mn(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}function $d(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Mn(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var ze=0;function Cb(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Sb,Vd,_b,Eb,kb,Hd=!1,zu=[],Wr=null,Xr=null,Yr=null,ka=new Map,Ta=new Map,Gr=[],QD="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Tb(e,t){switch(e){case"focusin":case"focusout":Wr=null;break;case"dragenter":case"dragleave":Xr=null;break;case"mouseover":case"mouseout":Yr=null;break;case"pointerover":case"pointerout":ka.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ta.delete(t.pointerId)}}function Oa(e,t,n,r,i,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},t!==null&&(t=Va(t),t!==null&&Vd(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,i!==null&&t.indexOf(i)===-1&&t.push(i),e)}function JD(e,t,n,r,i){switch(t){case"focusin":return Wr=Oa(Wr,e,t,n,r,i),!0;case"dragenter":return Xr=Oa(Xr,e,t,n,r,i),!0;case"mouseover":return Yr=Oa(Yr,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return ka.set(s,Oa(ka.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Ta.set(s,Oa(Ta.get(s)||null,e,t,n,r,i)),!0}return!1}function Ob(e){var t=$i(e.target);if(t!==null){var n=Ni(t);if(n!==null){if(t=n.tag,t===13){if(t=db(n),t!==null){e.blockedOn=t,kb(e.priority,function(){_b(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Bu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Wd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Md=r,n.target.dispatchEvent(r),Md=null}else return t=Va(n),t!==null&&Vd(t),e.blockedOn=n,!1;t.shift()}return!0}function Pb(e,t,n){Bu(e)&&n.delete(t)}function ZD(){Hd=!1,Wr!==null&&Bu(Wr)&&(Wr=null),Xr!==null&&Bu(Xr)&&(Xr=null),Yr!==null&&Bu(Yr)&&(Yr=null),ka.forEach(Pb),Ta.forEach(Pb)}function Pa(e,t){e.blockedOn===t&&(e.blockedOn=null,Hd||(Hd=!0,sn.unstable_scheduleCallback(sn.unstable_NormalPriority,ZD)))}function Da(e){function t(i){return Pa(i,e)}if(0<zu.length){Pa(zu[0],e);for(var n=1;n<zu.length;n++){var r=zu[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Wr!==null&&Pa(Wr,e),Xr!==null&&Pa(Xr,e),Yr!==null&&Pa(Yr,e),ka.forEach(t),Ta.forEach(t),n=0;n<Gr.length;n++)r=Gr[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Gr.length&&(n=Gr[0],n.blockedOn===null);)Ob(n),n.blockedOn===null&&Gr.shift()}var qs=pr.ReactCurrentBatchConfig,Nu=!0;function eA(e,t,n,r){var i=ze,s=qs.transition;qs.transition=null;try{ze=1,Ud(e,t,n,r)}finally{ze=i,qs.transition=s}}function tA(e,t,n,r){var i=ze,s=qs.transition;qs.transition=null;try{ze=4,Ud(e,t,n,r)}finally{ze=i,qs.transition=s}}function Ud(e,t,n,r){if(Nu){var i=Wd(e,t,n,r);if(i===null)lp(e,t,r,$u,n),Tb(e,r);else if(JD(i,e,t,n,r))r.stopPropagation();else if(Tb(e,r),t&4&&-1<QD.indexOf(e)){for(;i!==null;){var s=Va(i);if(s!==null&&Sb(s),s=Wd(e,t,n,r),s===null&&lp(e,t,r,$u,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else lp(e,t,r,null,n)}}var $u=null;function Wd(e,t,n,r){if($u=null,e=jd(r),e=$i(e),e!==null)if(t=Ni(e),t===null)e=null;else if(n=t.tag,n===13){if(e=db(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return $u=e,null}function Db(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(VD()){case zd:return 1;case bb:return 4;case ju:case HD:return 16;case wb:return 536870912;default:return 16}default:return 16}}var Kr=null,Xd=null,Vu=null;function Ab(){if(Vu)return Vu;var e,t=Xd,n=t.length,r,i="value"in Kr?Kr.value:Kr.textContent,s=i.length;for(e=0;e<n&&t[e]===i[e];e++);var h=n-e;for(r=1;r<=h&&t[n-r]===i[s-r];r++);return Vu=i.slice(e,1<r?1-r:void 0)}function Hu(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Uu(){return!0}function Mb(){return!1}function on(e){function t(n,r,i,s,h){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=h,this.currentTarget=null;for(var a in e)e.hasOwnProperty(a)&&(n=e[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Uu:Mb,this.isPropagationStopped=Mb,this}return Ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Uu)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Uu)},persist:function(){},isPersistent:Uu}),t}var Qs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Yd=on(Qs),Aa=Ke({},Qs,{view:0,detail:0}),nA=on(Aa),Gd,Kd,Ma,Wu=Ke({},Aa,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Qd,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Ma&&(Ma&&e.type==="mousemove"?(Gd=e.screenX-Ma.screenX,Kd=e.screenY-Ma.screenY):Kd=Gd=0,Ma=e),Gd)},movementY:function(e){return"movementY"in e?e.movementY:Kd}}),jb=on(Wu),rA=Ke({},Wu,{dataTransfer:0}),iA=on(rA),sA=Ke({},Aa,{relatedTarget:0}),qd=on(sA),oA=Ke({},Qs,{animationName:0,elapsedTime:0,pseudoElement:0}),aA=on(oA),lA=Ke({},Qs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),uA=on(lA),cA=Ke({},Qs,{data:0}),Rb=on(cA),fA={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hA={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},dA={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function pA(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=dA[e])?!!t[e]:!1}function Qd(){return pA}var gA=Ke({},Aa,{key:function(e){if(e.key){var t=fA[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Hu(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?hA[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Qd,charCode:function(e){return e.type==="keypress"?Hu(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Hu(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),mA=on(gA),vA=Ke({},Wu,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Fb=on(vA),yA=Ke({},Aa,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Qd}),bA=on(yA),wA=Ke({},Qs,{propertyName:0,elapsedTime:0,pseudoElement:0}),xA=on(wA),CA=Ke({},Wu,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),SA=on(CA),_A=[9,13,27,32],Jd=dr&&"CompositionEvent"in window,ja=null;dr&&"documentMode"in document&&(ja=document.documentMode);var EA=dr&&"TextEvent"in window&&!ja,Ib=dr&&(!Jd||ja&&8<ja&&11>=ja),Lb=String.fromCharCode(32),zb=!1;function Bb(e,t){switch(e){case"keyup":return _A.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Nb(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Js=!1;function kA(e,t){switch(e){case"compositionend":return Nb(t);case"keypress":return t.which!==32?null:(zb=!0,Lb);case"textInput":return e=t.data,e===Lb&&zb?null:e;default:return null}}function TA(e,t){if(Js)return e==="compositionend"||!Jd&&Bb(e,t)?(e=Ab(),Vu=Xd=Kr=null,Js=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Ib&&t.locale!=="ko"?null:t.data;default:return null}}var OA={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $b(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!OA[e.type]:t==="textarea"}function Vb(e,t,n,r){lb(r),t=qu(t,"onChange"),0<t.length&&(n=new Yd("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Ra=null,Fa=null;function PA(e){ow(e,0)}function Xu(e){var t=ro(e);if(q1(t))return e}function DA(e,t){if(e==="change")return t}var Hb=!1;if(dr){var Zd;if(dr){var ep="oninput"in document;if(!ep){var Ub=document.createElement("div");Ub.setAttribute("oninput","return;"),ep=typeof Ub.oninput=="function"}Zd=ep}else Zd=!1;Hb=Zd&&(!document.documentMode||9<document.documentMode)}function Wb(){Ra&&(Ra.detachEvent("onpropertychange",Xb),Fa=Ra=null)}function Xb(e){if(e.propertyName==="value"&&Xu(Fa)){var t=[];Vb(t,Fa,e,jd(e)),hb(PA,t)}}function AA(e,t,n){e==="focusin"?(Wb(),Ra=t,Fa=n,Ra.attachEvent("onpropertychange",Xb)):e==="focusout"&&Wb()}function MA(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Xu(Fa)}function jA(e,t){if(e==="click")return Xu(t)}function RA(e,t){if(e==="input"||e==="change")return Xu(t)}function FA(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var jn=typeof Object.is=="function"?Object.is:FA;function Ia(e,t){if(jn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!fd.call(t,i)||!jn(e[i],t[i]))return!1}return!0}function Yb(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Gb(e,t){var n=Yb(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Yb(n)}}function Kb(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kb(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qb(){for(var e=window,t=Pu();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Pu(e.document)}return t}function tp(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function IA(e){var t=qb(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Kb(n.ownerDocument.documentElement,n)){if(r!==null&&tp(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=Gb(n,s);var h=Gb(n,r);i&&h&&(e.rangeCount!==1||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==h.node||e.focusOffset!==h.offset)&&(t=t.createRange(),t.setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(h.node,h.offset)):(t.setEnd(h.node,h.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var LA=dr&&"documentMode"in document&&11>=document.documentMode,Zs=null,np=null,La=null,rp=!1;function Qb(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;rp||Zs==null||Zs!==Pu(r)||(r=Zs,"selectionStart"in r&&tp(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),La&&Ia(La,r)||(La=r,r=qu(np,"onSelect"),0<r.length&&(t=new Yd("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Zs)))}function Yu(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var eo={animationend:Yu("Animation","AnimationEnd"),animationiteration:Yu("Animation","AnimationIteration"),animationstart:Yu("Animation","AnimationStart"),transitionend:Yu("Transition","TransitionEnd")},ip={},Jb={};dr&&(Jb=document.createElement("div").style,"AnimationEvent"in window||(delete eo.animationend.animation,delete eo.animationiteration.animation,delete eo.animationstart.animation),"TransitionEvent"in window||delete eo.transitionend.transition);function Gu(e){if(ip[e])return ip[e];if(!eo[e])return e;var t=eo[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Jb)return ip[e]=t[n];return e}var Zb=Gu("animationend"),ew=Gu("animationiteration"),tw=Gu("animationstart"),nw=Gu("transitionend"),rw=new Map,iw="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function qr(e,t){rw.set(e,t),Bi(t,[e])}for(var sp=0;sp<iw.length;sp++){var op=iw[sp],zA=op.toLowerCase(),BA=op[0].toUpperCase()+op.slice(1);qr(zA,"on"+BA)}qr(Zb,"onAnimationEnd"),qr(ew,"onAnimationIteration"),qr(tw,"onAnimationStart"),qr("dblclick","onDoubleClick"),qr("focusin","onFocus"),qr("focusout","onBlur"),qr(nw,"onTransitionEnd"),Us("onMouseEnter",["mouseout","mouseover"]),Us("onMouseLeave",["mouseout","mouseover"]),Us("onPointerEnter",["pointerout","pointerover"]),Us("onPointerLeave",["pointerout","pointerover"]),Bi("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Bi("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Bi("onBeforeInput",["compositionend","keypress","textInput","paste"]),Bi("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Bi("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var za="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NA=new Set("cancel close invalid load scroll toggle".split(" ").concat(za));function sw(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,zD(r,t,void 0,e),e.currentTarget=null}function ow(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var h=r.length-1;0<=h;h--){var a=r[h],o=a.instance,u=a.currentTarget;if(a=a.listener,o!==s&&i.isPropagationStopped())break e;sw(i,a,u),s=o}else for(h=0;h<r.length;h++){if(a=r[h],o=a.instance,u=a.currentTarget,a=a.listener,o!==s&&i.isPropagationStopped())break e;sw(i,a,u),s=o}}}if(Mu)throw e=Ld,Mu=!1,Ld=null,e}function We(e,t){var n=t[pp];n===void 0&&(n=t[pp]=new Set);var r=e+"__bubble";n.has(r)||(aw(t,e,2,!1),n.add(r))}function ap(e,t,n){var r=0;t&&(r|=4),aw(n,e,r,t)}var Ku="_reactListening"+Math.random().toString(36).slice(2);function Ba(e){if(!e[Ku]){e[Ku]=!0,V1.forEach(function(n){n!=="selectionchange"&&(NA.has(n)||ap(n,!1,e),ap(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[Ku]||(t[Ku]=!0,ap("selectionchange",!1,t))}}function aw(e,t,n,r){switch(Db(t)){case 1:var i=eA;break;case 4:i=tA;break;default:i=Ud}n=i.bind(null,t,n,e),i=void 0,!Id||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(i=!0),r?i!==void 0?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):i!==void 0?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function lp(e,t,n,r,i){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var h=r.tag;if(h===3||h===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(h===4)for(h=r.return;h!==null;){var o=h.tag;if((o===3||o===4)&&(o=h.stateNode.containerInfo,o===i||o.nodeType===8&&o.parentNode===i))return;h=h.return}for(;a!==null;){if(h=$i(a),h===null)return;if(o=h.tag,o===5||o===6){r=s=h;continue e}a=a.parentNode}}r=r.return}hb(function(){var u=s,d=jd(n),l=[];e:{var c=rw.get(e);if(c!==void 0){var f=Yd,p=e;switch(e){case"keypress":if(Hu(n)===0)break e;case"keydown":case"keyup":f=mA;break;case"focusin":p="focus",f=qd;break;case"focusout":p="blur",f=qd;break;case"beforeblur":case"afterblur":f=qd;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":f=jb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":f=iA;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":f=bA;break;case Zb:case ew:case tw:f=aA;break;case nw:f=xA;break;case"scroll":f=nA;break;case"wheel":f=SA;break;case"copy":case"cut":case"paste":f=uA;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":f=Fb}var m=(t&4)!==0,g=!m&&e==="scroll",v=m?c!==null?c+"Capture":null:c;m=[];for(var y=u,b;y!==null;){b=y;var w=b.stateNode;if(b.tag===5&&w!==null&&(b=w,v!==null&&(w=xa(y,v),w!=null&&m.push(Na(y,w,b)))),g)break;y=y.return}0<m.length&&(c=new f(c,p,null,n,d),l.push({event:c,listeners:m}))}}if(!(t&7)){e:{if(c=e==="mouseover"||e==="pointerover",f=e==="mouseout"||e==="pointerout",c&&n!==Md&&(p=n.relatedTarget||n.fromElement)&&($i(p)||p[gr]))break e;if((f||c)&&(c=d.window===d?d:(c=d.ownerDocument)?c.defaultView||c.parentWindow:window,f?(p=n.relatedTarget||n.toElement,f=u,p=p?$i(p):null,p!==null&&(g=Ni(p),p!==g||p.tag!==5&&p.tag!==6)&&(p=null)):(f=null,p=u),f!==p)){if(m=jb,w="onMouseLeave",v="onMouseEnter",y="mouse",(e==="pointerout"||e==="pointerover")&&(m=Fb,w="onPointerLeave",v="onPointerEnter",y="pointer"),g=f==null?c:ro(f),b=p==null?c:ro(p),c=new m(w,y+"leave",f,n,d),c.target=g,c.relatedTarget=b,w=null,$i(d)===u&&(m=new m(v,y+"enter",p,n,d),m.target=b,m.relatedTarget=g,w=m),g=w,f&&p)t:{for(m=f,v=p,y=0,b=m;b;b=to(b))y++;for(b=0,w=v;w;w=to(w))b++;for(;0<y-b;)m=to(m),y--;for(;0<b-y;)v=to(v),b--;for(;y--;){if(m===v||v!==null&&m===v.alternate)break t;m=to(m),v=to(v)}m=null}else m=null;f!==null&&lw(l,c,f,m,!1),p!==null&&g!==null&&lw(l,g,p,m,!0)}}e:{if(c=u?ro(u):window,f=c.nodeName&&c.nodeName.toLowerCase(),f==="select"||f==="input"&&c.type==="file")var C=DA;else if($b(c))if(Hb)C=RA;else{C=MA;var S=AA}else(f=c.nodeName)&&f.toLowerCase()==="input"&&(c.type==="checkbox"||c.type==="radio")&&(C=jA);if(C&&(C=C(e,u))){Vb(l,C,n,d);break e}S&&S(e,c,u),e==="focusout"&&(S=c._wrapperState)&&S.controlled&&c.type==="number"&&Td(c,"number",c.value)}switch(S=u?ro(u):window,e){case"focusin":($b(S)||S.contentEditable==="true")&&(Zs=S,np=u,La=null);break;case"focusout":La=np=Zs=null;break;case"mousedown":rp=!0;break;case"contextmenu":case"mouseup":case"dragend":rp=!1,Qb(l,n,d);break;case"selectionchange":if(LA)break;case"keydown":case"keyup":Qb(l,n,d)}var _;if(Jd)e:{switch(e){case"compositionstart":var T="onCompositionStart";break e;case"compositionend":T="onCompositionEnd";break e;case"compositionupdate":T="onCompositionUpdate";break e}T=void 0}else Js?Bb(e,n)&&(T="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(T="onCompositionStart");T&&(Ib&&n.locale!=="ko"&&(Js||T!=="onCompositionStart"?T==="onCompositionEnd"&&Js&&(_=Ab()):(Kr=d,Xd="value"in Kr?Kr.value:Kr.textContent,Js=!0)),S=qu(u,T),0<S.length&&(T=new Rb(T,e,null,n,d),l.push({event:T,listeners:S}),_?T.data=_:(_=Nb(n),_!==null&&(T.data=_)))),(_=EA?kA(e,n):TA(e,n))&&(u=qu(u,"onBeforeInput"),0<u.length&&(d=new Rb("onBeforeInput","beforeinput",null,n,d),l.push({event:d,listeners:u}),d.data=_))}ow(l,t)})}function Na(e,t,n){return{instance:e,listener:t,currentTarget:n}}function qu(e,t){for(var n=t+"Capture",r=[];e!==null;){var i=e,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=xa(e,n),s!=null&&r.unshift(Na(e,s,i)),s=xa(e,t),s!=null&&r.push(Na(e,s,i))),e=e.return}return r}function to(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function lw(e,t,n,r,i){for(var s=t._reactName,h=[];n!==null&&n!==r;){var a=n,o=a.alternate,u=a.stateNode;if(o!==null&&o===r)break;a.tag===5&&u!==null&&(a=u,i?(o=xa(n,s),o!=null&&h.unshift(Na(n,o,a))):i||(o=xa(n,s),o!=null&&h.push(Na(n,o,a)))),n=n.return}h.length!==0&&e.push({event:t,listeners:h})}var $A=/\r\n?/g,VA=/\u0000|\uFFFD/g;function uw(e){return(typeof e=="string"?e:""+e).replace($A,`
`).replace(VA,"")}function Qu(e,t,n){if(t=uw(t),uw(e)!==t&&n)throw Error(le(425))}function Ju(){}var up=null,cp=null;function fp(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var hp=typeof setTimeout=="function"?setTimeout:void 0,HA=typeof clearTimeout=="function"?clearTimeout:void 0,cw=typeof Promise=="function"?Promise:void 0,UA=typeof queueMicrotask=="function"?queueMicrotask:typeof cw<"u"?function(e){return cw.resolve(null).then(e).catch(WA)}:hp;function WA(e){setTimeout(function(){throw e})}function dp(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){e.removeChild(i),Da(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Da(t)}function Qr(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function fw(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var no=Math.random().toString(36).slice(2),Gn="__reactFiber$"+no,$a="__reactProps$"+no,gr="__reactContainer$"+no,pp="__reactEvents$"+no,XA="__reactListeners$"+no,YA="__reactHandles$"+no;function $i(e){var t=e[Gn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gr]||n[Gn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=fw(e);e!==null;){if(n=e[Gn])return n;e=fw(e)}return t}e=n,n=e.parentNode}return null}function Va(e){return e=e[Gn]||e[gr],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ro(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(le(33))}function Zu(e){return e[$a]||null}var gp=[],io=-1;function Jr(e){return{current:e}}function Xe(e){0>io||(e.current=gp[io],gp[io]=null,io--)}function He(e,t){io++,gp[io]=e.current,e.current=t}var Zr={},St=Jr(Zr),Xt=Jr(!1),Vi=Zr;function so(e,t){var n=e.type.contextTypes;if(!n)return Zr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=i),i}function Yt(e){return e=e.childContextTypes,e!=null}function ec(){Xe(Xt),Xe(St)}function hw(e,t,n){if(St.current!==Zr)throw Error(le(168));He(St,t),He(Xt,n)}function dw(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in t))throw Error(le(108,AD(e)||"Unknown",i));return Ke({},n,r)}function tc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Zr,Vi=St.current,He(St,e),He(Xt,Xt.current),!0}function pw(e,t,n){var r=e.stateNode;if(!r)throw Error(le(169));n?(e=dw(e,t,Vi),r.__reactInternalMemoizedMergedChildContext=e,Xe(Xt),Xe(St),He(St,e)):Xe(Xt),He(Xt,n)}var mr=null,nc=!1,mp=!1;function gw(e){mr===null?mr=[e]:mr.push(e)}function GA(e){nc=!0,gw(e)}function ei(){if(!mp&&mr!==null){mp=!0;var e=0,t=ze;try{var n=mr;for(ze=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}mr=null,nc=!1}catch(i){throw mr!==null&&(mr=mr.slice(e+1)),vb(zd,ei),i}finally{ze=t,mp=!1}}return null}var oo=[],ao=0,rc=null,ic=0,bn=[],wn=0,Hi=null,vr=1,yr="";function Ui(e,t){oo[ao++]=ic,oo[ao++]=rc,rc=e,ic=t}function mw(e,t,n){bn[wn++]=vr,bn[wn++]=yr,bn[wn++]=Hi,Hi=e;var r=vr;e=yr;var i=32-Mn(r)-1;r&=~(1<<i),n+=1;var s=32-Mn(t)+i;if(30<s){var h=i-i%5;s=(r&(1<<h)-1).toString(32),r>>=h,i-=h,vr=1<<32-Mn(t)+i|n<<i|r,yr=s+e}else vr=1<<s|n<<i|r,yr=e}function vp(e){e.return!==null&&(Ui(e,1),mw(e,1,0))}function yp(e){for(;e===rc;)rc=oo[--ao],oo[ao]=null,ic=oo[--ao],oo[ao]=null;for(;e===Hi;)Hi=bn[--wn],bn[wn]=null,yr=bn[--wn],bn[wn]=null,vr=bn[--wn],bn[wn]=null}var an=null,ln=null,Ge=!1,Rn=null;function vw(e,t){var n=_n(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function yw(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,an=e,ln=Qr(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,an=e,ln=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Hi!==null?{id:vr,overflow:yr}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=_n(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,an=e,ln=null,!0):!1;default:return!1}}function bp(e){return(e.mode&1)!==0&&(e.flags&128)===0}function wp(e){if(Ge){var t=ln;if(t){var n=t;if(!yw(e,t)){if(bp(e))throw Error(le(418));t=Qr(n.nextSibling);var r=an;t&&yw(e,t)?vw(r,n):(e.flags=e.flags&-4097|2,Ge=!1,an=e)}}else{if(bp(e))throw Error(le(418));e.flags=e.flags&-4097|2,Ge=!1,an=e}}}function bw(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;an=e}function sc(e){if(e!==an)return!1;if(!Ge)return bw(e),Ge=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!fp(e.type,e.memoizedProps)),t&&(t=ln)){if(bp(e))throw ww(),Error(le(418));for(;t;)vw(e,t),t=Qr(t.nextSibling)}if(bw(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(le(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){ln=Qr(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}ln=null}}else ln=an?Qr(e.stateNode.nextSibling):null;return!0}function ww(){for(var e=ln;e;)e=Qr(e.nextSibling)}function lo(){ln=an=null,Ge=!1}function xp(e){Rn===null?Rn=[e]:Rn.push(e)}var KA=pr.ReactCurrentBatchConfig;function Ha(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(le(309));var r=n.stateNode}if(!r)throw Error(le(147,e));var i=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(h){var a=i.refs;h===null?delete a[s]:a[s]=h},t._stringRef=s,t)}if(typeof e!="string")throw Error(le(284));if(!n._owner)throw Error(le(290,e))}return e}function oc(e,t){throw e=Object.prototype.toString.call(t),Error(le(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function xw(e){var t=e._init;return t(e._payload)}function Cw(e){function t(v,y){if(e){var b=v.deletions;b===null?(v.deletions=[y],v.flags|=16):b.push(y)}}function n(v,y){if(!e)return null;for(;y!==null;)t(v,y),y=y.sibling;return null}function r(v,y){for(v=new Map;y!==null;)y.key!==null?v.set(y.key,y):v.set(y.index,y),y=y.sibling;return v}function i(v,y){return v=li(v,y),v.index=0,v.sibling=null,v}function s(v,y,b){return v.index=b,e?(b=v.alternate,b!==null?(b=b.index,b<y?(v.flags|=2,y):b):(v.flags|=2,y)):(v.flags|=1048576,y)}function h(v){return e&&v.alternate===null&&(v.flags|=2),v}function a(v,y,b,w){return y===null||y.tag!==6?(y=hg(b,v.mode,w),y.return=v,y):(y=i(y,b),y.return=v,y)}function o(v,y,b,w){var C=b.type;return C===Xs?d(v,y,b.props.children,w,b.key):y!==null&&(y.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Hr&&xw(C)===y.type)?(w=i(y,b.props),w.ref=Ha(v,y,b),w.return=v,w):(w=Dc(b.type,b.key,b.props,null,v.mode,w),w.ref=Ha(v,y,b),w.return=v,w)}function u(v,y,b,w){return y===null||y.tag!==4||y.stateNode.containerInfo!==b.containerInfo||y.stateNode.implementation!==b.implementation?(y=dg(b,v.mode,w),y.return=v,y):(y=i(y,b.children||[]),y.return=v,y)}function d(v,y,b,w,C){return y===null||y.tag!==7?(y=Ji(b,v.mode,w,C),y.return=v,y):(y=i(y,b),y.return=v,y)}function l(v,y,b){if(typeof y=="string"&&y!==""||typeof y=="number")return y=hg(""+y,v.mode,b),y.return=v,y;if(typeof y=="object"&&y!==null){switch(y.$$typeof){case Tu:return b=Dc(y.type,y.key,y.props,null,v.mode,b),b.ref=Ha(v,null,y),b.return=v,b;case Ws:return y=dg(y,v.mode,b),y.return=v,y;case Hr:var w=y._init;return l(v,w(y._payload),b)}if(ya(y)||ma(y))return y=Ji(y,v.mode,b,null),y.return=v,y;oc(v,y)}return null}function c(v,y,b,w){var C=y!==null?y.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return C!==null?null:a(v,y,""+b,w);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Tu:return b.key===C?o(v,y,b,w):null;case Ws:return b.key===C?u(v,y,b,w):null;case Hr:return C=b._init,c(v,y,C(b._payload),w)}if(ya(b)||ma(b))return C!==null?null:d(v,y,b,w,null);oc(v,b)}return null}function f(v,y,b,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return v=v.get(b)||null,a(y,v,""+w,C);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Tu:return v=v.get(w.key===null?b:w.key)||null,o(y,v,w,C);case Ws:return v=v.get(w.key===null?b:w.key)||null,u(y,v,w,C);case Hr:var S=w._init;return f(v,y,b,S(w._payload),C)}if(ya(w)||ma(w))return v=v.get(b)||null,d(y,v,w,C,null);oc(y,w)}return null}function p(v,y,b,w){for(var C=null,S=null,_=y,T=y=0,R=null;_!==null&&T<b.length;T++){_.index>T?(R=_,_=null):R=_.sibling;var F=c(v,_,b[T],w);if(F===null){_===null&&(_=R);break}e&&_&&F.alternate===null&&t(v,_),y=s(F,y,T),S===null?C=F:S.sibling=F,S=F,_=R}if(T===b.length)return n(v,_),Ge&&Ui(v,T),C;if(_===null){for(;T<b.length;T++)_=l(v,b[T],w),_!==null&&(y=s(_,y,T),S===null?C=_:S.sibling=_,S=_);return Ge&&Ui(v,T),C}for(_=r(v,_);T<b.length;T++)R=f(_,v,T,b[T],w),R!==null&&(e&&R.alternate!==null&&_.delete(R.key===null?T:R.key),y=s(R,y,T),S===null?C=R:S.sibling=R,S=R);return e&&_.forEach(function($){return t(v,$)}),Ge&&Ui(v,T),C}function m(v,y,b,w){var C=ma(b);if(typeof C!="function")throw Error(le(150));if(b=C.call(b),b==null)throw Error(le(151));for(var S=C=null,_=y,T=y=0,R=null,F=b.next();_!==null&&!F.done;T++,F=b.next()){_.index>T?(R=_,_=null):R=_.sibling;var $=c(v,_,F.value,w);if($===null){_===null&&(_=R);break}e&&_&&$.alternate===null&&t(v,_),y=s($,y,T),S===null?C=$:S.sibling=$,S=$,_=R}if(F.done)return n(v,_),Ge&&Ui(v,T),C;if(_===null){for(;!F.done;T++,F=b.next())F=l(v,F.value,w),F!==null&&(y=s(F,y,T),S===null?C=F:S.sibling=F,S=F);return Ge&&Ui(v,T),C}for(_=r(v,_);!F.done;T++,F=b.next())F=f(_,v,T,F.value,w),F!==null&&(e&&F.alternate!==null&&_.delete(F.key===null?T:F.key),y=s(F,y,T),S===null?C=F:S.sibling=F,S=F);return e&&_.forEach(function(G){return t(v,G)}),Ge&&Ui(v,T),C}function g(v,y,b,w){if(typeof b=="object"&&b!==null&&b.type===Xs&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case Tu:e:{for(var C=b.key,S=y;S!==null;){if(S.key===C){if(C=b.type,C===Xs){if(S.tag===7){n(v,S.sibling),y=i(S,b.props.children),y.return=v,v=y;break e}}else if(S.elementType===C||typeof C=="object"&&C!==null&&C.$$typeof===Hr&&xw(C)===S.type){n(v,S.sibling),y=i(S,b.props),y.ref=Ha(v,S,b),y.return=v,v=y;break e}n(v,S);break}else t(v,S);S=S.sibling}b.type===Xs?(y=Ji(b.props.children,v.mode,w,b.key),y.return=v,v=y):(w=Dc(b.type,b.key,b.props,null,v.mode,w),w.ref=Ha(v,y,b),w.return=v,v=w)}return h(v);case Ws:e:{for(S=b.key;y!==null;){if(y.key===S)if(y.tag===4&&y.stateNode.containerInfo===b.containerInfo&&y.stateNode.implementation===b.implementation){n(v,y.sibling),y=i(y,b.children||[]),y.return=v,v=y;break e}else{n(v,y);break}else t(v,y);y=y.sibling}y=dg(b,v.mode,w),y.return=v,v=y}return h(v);case Hr:return S=b._init,g(v,y,S(b._payload),w)}if(ya(b))return p(v,y,b,w);if(ma(b))return m(v,y,b,w);oc(v,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,y!==null&&y.tag===6?(n(v,y.sibling),y=i(y,b),y.return=v,v=y):(n(v,y),y=hg(b,v.mode,w),y.return=v,v=y),h(v)):n(v,y)}return g}var uo=Cw(!0),Sw=Cw(!1),ac=Jr(null),lc=null,co=null,Cp=null;function Sp(){Cp=co=lc=null}function _p(e){var t=ac.current;Xe(ac),e._currentValue=t}function Ep(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function fo(e,t){lc=e,Cp=co=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Gt=!0),e.firstContext=null)}function xn(e){var t=e._currentValue;if(Cp!==e)if(e={context:e,memoizedValue:t,next:null},co===null){if(lc===null)throw Error(le(308));co=e,lc.dependencies={lanes:0,firstContext:e}}else co=co.next=e;return t}var Wi=null;function kp(e){Wi===null?Wi=[e]:Wi.push(e)}function _w(e,t,n,r){var i=t.interleaved;return i===null?(n.next=n,kp(t)):(n.next=i.next,i.next=n),t.interleaved=n,br(e,r)}function br(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ti=!1;function Tp(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Ew(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function wr(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function ni(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,je&2){var i=r.pending;return i===null?t.next=t:(t.next=i.next,i.next=t),r.pending=t,br(e,n)}return i=r.interleaved,i===null?(t.next=t,kp(r)):(t.next=i.next,i.next=t),r.interleaved=t,br(e,n)}function uc(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$d(e,n)}}function kw(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var h={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=h:s=s.next=h,n=n.next}while(n!==null);s===null?i=s=t:s=s.next=t}else i=s=t;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function cc(e,t,n,r){var i=e.updateQueue;ti=!1;var s=i.firstBaseUpdate,h=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var o=a,u=o.next;o.next=null,h===null?s=u:h.next=u,h=o;var d=e.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==h&&(a===null?d.firstBaseUpdate=u:a.next=u,d.lastBaseUpdate=o))}if(s!==null){var l=i.baseState;h=0,d=u=o=null,a=s;do{var c=a.lane,f=a.eventTime;if((r&c)===c){d!==null&&(d=d.next={eventTime:f,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var p=e,m=a;switch(c=t,f=n,m.tag){case 1:if(p=m.payload,typeof p=="function"){l=p.call(f,l,c);break e}l=p;break e;case 3:p.flags=p.flags&-65537|128;case 0:if(p=m.payload,c=typeof p=="function"?p.call(f,l,c):p,c==null)break e;l=Ke({},l,c);break e;case 2:ti=!0}}a.callback!==null&&a.lane!==0&&(e.flags|=64,c=i.effects,c===null?i.effects=[a]:c.push(a))}else f={eventTime:f,lane:c,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(u=d=f,o=l):d=d.next=f,h|=c;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;c=a,a=c.next,c.next=null,i.lastBaseUpdate=c,i.shared.pending=null}}while(1);if(d===null&&(o=l),i.baseState=o,i.firstBaseUpdate=u,i.lastBaseUpdate=d,t=i.shared.interleaved,t!==null){i=t;do h|=i.lane,i=i.next;while(i!==t)}else s===null&&(i.shared.lanes=0);Gi|=h,e.lanes=h,e.memoizedState=l}}function Tw(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(le(191,i));i.call(r)}}}var Ua={},Kn=Jr(Ua),Wa=Jr(Ua),Xa=Jr(Ua);function Xi(e){if(e===Ua)throw Error(le(174));return e}function Op(e,t){switch(He(Xa,t),He(Wa,e),He(Kn,Ua),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Pd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Pd(t,e)}Xe(Kn),He(Kn,t)}function ho(){Xe(Kn),Xe(Wa),Xe(Xa)}function Ow(e){Xi(Xa.current);var t=Xi(Kn.current),n=Pd(t,e.type);t!==n&&(He(Wa,e),He(Kn,n))}function Pp(e){Wa.current===e&&(Xe(Kn),Xe(Wa))}var qe=Jr(0);function fc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Dp=[];function Ap(){for(var e=0;e<Dp.length;e++)Dp[e]._workInProgressVersionPrimary=null;Dp.length=0}var hc=pr.ReactCurrentDispatcher,Mp=pr.ReactCurrentBatchConfig,Yi=0,Qe=null,ht=null,mt=null,dc=!1,Ya=!1,Ga=0,qA=0;function _t(){throw Error(le(321))}function jp(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!jn(e[n],t[n]))return!1;return!0}function Rp(e,t,n,r,i,s){if(Yi=s,Qe=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,hc.current=e===null||e.memoizedState===null?e6:t6,e=n(r,i),Ya){s=0;do{if(Ya=!1,Ga=0,25<=s)throw Error(le(301));s+=1,mt=ht=null,t.updateQueue=null,hc.current=n6,e=n(r,i)}while(Ya)}if(hc.current=mc,t=ht!==null&&ht.next!==null,Yi=0,mt=ht=Qe=null,dc=!1,t)throw Error(le(300));return e}function Fp(){var e=Ga!==0;return Ga=0,e}function qn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return mt===null?Qe.memoizedState=mt=e:mt=mt.next=e,mt}function Cn(){if(ht===null){var e=Qe.alternate;e=e!==null?e.memoizedState:null}else e=ht.next;var t=mt===null?Qe.memoizedState:mt.next;if(t!==null)mt=t,ht=e;else{if(e===null)throw Error(le(310));ht=e,e={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},mt===null?Qe.memoizedState=mt=e:mt=mt.next=e}return mt}function Ka(e,t){return typeof t=="function"?t(e):t}function Ip(e){var t=Cn(),n=t.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=e;var r=ht,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var h=i.next;i.next=s.next,s.next=h}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=h=null,o=null,u=s;do{var d=u.lane;if((Yi&d)===d)o!==null&&(o=o.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var l={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};o===null?(a=o=l,h=r):o=o.next=l,Qe.lanes|=d,Gi|=d}u=u.next}while(u!==null&&u!==s);o===null?h=r:o.next=a,jn(r,t.memoizedState)||(Gt=!0),t.memoizedState=r,t.baseState=h,t.baseQueue=o,n.lastRenderedState=r}if(e=n.interleaved,e!==null){i=e;do s=i.lane,Qe.lanes|=s,Gi|=s,i=i.next;while(i!==e)}else i===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Lp(e){var t=Cn(),n=t.queue;if(n===null)throw Error(le(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,s=t.memoizedState;if(i!==null){n.pending=null;var h=i=i.next;do s=e(s,h.action),h=h.next;while(h!==i);jn(s,t.memoizedState)||(Gt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function Pw(){}function Dw(e,t){var n=Qe,r=Cn(),i=t(),s=!jn(r.memoizedState,i);if(s&&(r.memoizedState=i,Gt=!0),r=r.queue,zp(jw.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||mt!==null&&mt.memoizedState.tag&1){if(n.flags|=2048,qa(9,Mw.bind(null,n,r,i,t),void 0,null),vt===null)throw Error(le(349));Yi&30||Aw(n,t,i)}return i}function Aw(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Mw(e,t,n,r){t.value=n,t.getSnapshot=r,Rw(t)&&Fw(e)}function jw(e,t,n){return n(function(){Rw(t)&&Fw(e)})}function Rw(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!jn(e,n)}catch{return!0}}function Fw(e){var t=br(e,1);t!==null&&zn(t,e,1,-1)}function Iw(e){var t=qn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ka,lastRenderedState:e},t.queue=e,e=e.dispatch=ZA.bind(null,Qe,e),[t.memoizedState,e]}function qa(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Qe.updateQueue,t===null?(t={lastEffect:null,stores:null},Qe.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Lw(){return Cn().memoizedState}function pc(e,t,n,r){var i=qn();Qe.flags|=e,i.memoizedState=qa(1|t,n,void 0,r===void 0?null:r)}function gc(e,t,n,r){var i=Cn();r=r===void 0?null:r;var s=void 0;if(ht!==null){var h=ht.memoizedState;if(s=h.destroy,r!==null&&jp(r,h.deps)){i.memoizedState=qa(t,n,s,r);return}}Qe.flags|=e,i.memoizedState=qa(1|t,n,s,r)}function zw(e,t){return pc(8390656,8,e,t)}function zp(e,t){return gc(2048,8,e,t)}function Bw(e,t){return gc(4,2,e,t)}function Nw(e,t){return gc(4,4,e,t)}function $w(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Vw(e,t,n){return n=n!=null?n.concat([e]):null,gc(4,4,$w.bind(null,t,e),n)}function Bp(){}function Hw(e,t){var n=Cn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&jp(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Uw(e,t){var n=Cn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&jp(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Ww(e,t,n){return Yi&21?(jn(n,t)||(n=xb(),Qe.lanes|=n,Gi|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Gt=!0),e.memoizedState=n)}function QA(e,t){var n=ze;ze=n!==0&&4>n?n:4,e(!0);var r=Mp.transition;Mp.transition={};try{e(!1),t()}finally{ze=n,Mp.transition=r}}function Xw(){return Cn().memoizedState}function JA(e,t,n){var r=oi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Yw(e))Gw(t,n);else if(n=_w(e,t,n,r),n!==null){var i=Nt();zn(n,e,r,i),Kw(n,t,r)}}function ZA(e,t,n){var r=oi(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Yw(e))Gw(t,i);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var h=t.lastRenderedState,a=s(h,n);if(i.hasEagerState=!0,i.eagerState=a,jn(a,h)){var o=t.interleaved;o===null?(i.next=i,kp(t)):(i.next=o.next,o.next=i),t.interleaved=i;return}}catch{}finally{}n=_w(e,t,i,r),n!==null&&(i=Nt(),zn(n,e,r,i),Kw(n,t,r))}}function Yw(e){var t=e.alternate;return e===Qe||t!==null&&t===Qe}function Gw(e,t){Ya=dc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Kw(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,$d(e,n)}}var mc={readContext:xn,useCallback:_t,useContext:_t,useEffect:_t,useImperativeHandle:_t,useInsertionEffect:_t,useLayoutEffect:_t,useMemo:_t,useReducer:_t,useRef:_t,useState:_t,useDebugValue:_t,useDeferredValue:_t,useTransition:_t,useMutableSource:_t,useSyncExternalStore:_t,useId:_t,unstable_isNewReconciler:!1},e6={readContext:xn,useCallback:function(e,t){return qn().memoizedState=[e,t===void 0?null:t],e},useContext:xn,useEffect:zw,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,pc(4194308,4,$w.bind(null,t,e),n)},useLayoutEffect:function(e,t){return pc(4194308,4,e,t)},useInsertionEffect:function(e,t){return pc(4,2,e,t)},useMemo:function(e,t){var n=qn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=qn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=JA.bind(null,Qe,e),[r.memoizedState,e]},useRef:function(e){var t=qn();return e={current:e},t.memoizedState=e},useState:Iw,useDebugValue:Bp,useDeferredValue:function(e){return qn().memoizedState=e},useTransition:function(){var e=Iw(!1),t=e[0];return e=QA.bind(null,e[1]),qn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Qe,i=qn();if(Ge){if(n===void 0)throw Error(le(407));n=n()}else{if(n=t(),vt===null)throw Error(le(349));Yi&30||Aw(r,t,n)}i.memoizedState=n;var s={value:n,getSnapshot:t};return i.queue=s,zw(jw.bind(null,r,s,e),[e]),r.flags|=2048,qa(9,Mw.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=qn(),t=vt.identifierPrefix;if(Ge){var n=yr,r=vr;n=(r&~(1<<32-Mn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=Ga++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=qA++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},t6={readContext:xn,useCallback:Hw,useContext:xn,useEffect:zp,useImperativeHandle:Vw,useInsertionEffect:Bw,useLayoutEffect:Nw,useMemo:Uw,useReducer:Ip,useRef:Lw,useState:function(){return Ip(Ka)},useDebugValue:Bp,useDeferredValue:function(e){var t=Cn();return Ww(t,ht.memoizedState,e)},useTransition:function(){var e=Ip(Ka)[0],t=Cn().memoizedState;return[e,t]},useMutableSource:Pw,useSyncExternalStore:Dw,useId:Xw,unstable_isNewReconciler:!1},n6={readContext:xn,useCallback:Hw,useContext:xn,useEffect:zp,useImperativeHandle:Vw,useInsertionEffect:Bw,useLayoutEffect:Nw,useMemo:Uw,useReducer:Lp,useRef:Lw,useState:function(){return Lp(Ka)},useDebugValue:Bp,useDeferredValue:function(e){var t=Cn();return ht===null?t.memoizedState=e:Ww(t,ht.memoizedState,e)},useTransition:function(){var e=Lp(Ka)[0],t=Cn().memoizedState;return[e,t]},useMutableSource:Pw,useSyncExternalStore:Dw,useId:Xw,unstable_isNewReconciler:!1};function Fn(e,t){if(e&&e.defaultProps){t=Ke({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function Np(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ke({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var vc={isMounted:function(e){return(e=e._reactInternals)?Ni(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Nt(),i=oi(e),s=wr(r,i);s.payload=t,n!=null&&(s.callback=n),t=ni(e,s,i),t!==null&&(zn(t,e,i,r),uc(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Nt(),i=oi(e),s=wr(r,i);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=ni(e,s,i),t!==null&&(zn(t,e,i,r),uc(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Nt(),r=oi(e),i=wr(n,r);i.tag=2,t!=null&&(i.callback=t),t=ni(e,i,r),t!==null&&(zn(t,e,r,n),uc(t,e,r))}};function qw(e,t,n,r,i,s,h){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,h):t.prototype&&t.prototype.isPureReactComponent?!Ia(n,r)||!Ia(i,s):!0}function Qw(e,t,n){var r=!1,i=Zr,s=t.contextType;return typeof s=="object"&&s!==null?s=xn(s):(i=Yt(t)?Vi:St.current,r=t.contextTypes,s=(r=r!=null)?so(e,i):Zr),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=vc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function Jw(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&vc.enqueueReplaceState(t,t.state,null)}function $p(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Tp(e);var s=t.contextType;typeof s=="object"&&s!==null?i.context=xn(s):(s=Yt(t)?Vi:St.current,i.context=so(e,s)),i.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(Np(e,t,s,n),i.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(t=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),t!==i.state&&vc.enqueueReplaceState(i,i.state,null),cc(e,n,i,r),i.state=e.memoizedState),typeof i.componentDidMount=="function"&&(e.flags|=4194308)}function po(e,t){try{var n="",r=t;do n+=DD(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:i,digest:null}}function Vp(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Hp(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var r6=typeof WeakMap=="function"?WeakMap:Map;function Zw(e,t,n){n=wr(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){_c||(_c=!0,ig=r),Hp(e,t)},n}function ex(e,t,n){n=wr(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){Hp(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Hp(e,t),typeof r!="function"&&(ii===null?ii=new Set([this]):ii.add(this));var h=t.stack;this.componentDidCatch(t.value,{componentStack:h!==null?h:""})}),n}function tx(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new r6;var i=new Set;r.set(t,i)}else i=r.get(t),i===void 0&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=v6.bind(null,e,t,n),t.then(e,e))}function nx(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function rx(e,t,n,r,i){return e.mode&1?(e.flags|=65536,e.lanes=i,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=wr(-1,1),t.tag=2,ni(n,t,1))),n.lanes|=1),e)}var i6=pr.ReactCurrentOwner,Gt=!1;function Bt(e,t,n,r){t.child=e===null?Sw(t,null,n,r):uo(t,e.child,n,r)}function ix(e,t,n,r,i){n=n.render;var s=t.ref;return fo(t,i),r=Rp(e,t,n,r,s,i),n=Fp(),e!==null&&!Gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,xr(e,t,i)):(Ge&&n&&vp(t),t.flags|=1,Bt(e,t,r,i),t.child)}function sx(e,t,n,r,i){if(e===null){var s=n.type;return typeof s=="function"&&!fg(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,ox(e,t,s,r,i)):(e=Dc(n.type,null,r,t,t.mode,i),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&i)){var h=s.memoizedProps;if(n=n.compare,n=n!==null?n:Ia,n(h,r)&&e.ref===t.ref)return xr(e,t,i)}return t.flags|=1,e=li(s,r),e.ref=t.ref,e.return=t,t.child=e}function ox(e,t,n,r,i){if(e!==null){var s=e.memoizedProps;if(Ia(s,r)&&e.ref===t.ref)if(Gt=!1,t.pendingProps=r=s,(e.lanes&i)!==0)e.flags&131072&&(Gt=!0);else return t.lanes=e.lanes,xr(e,t,i)}return Up(e,t,n,r,i)}function ax(e,t,n){var r=t.pendingProps,i=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(mo,un),un|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,He(mo,un),un|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,He(mo,un),un|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,He(mo,un),un|=r;return Bt(e,t,i,n),t.child}function lx(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Up(e,t,n,r,i){var s=Yt(n)?Vi:St.current;return s=so(t,s),fo(t,i),n=Rp(e,t,n,r,s,i),r=Fp(),e!==null&&!Gt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,xr(e,t,i)):(Ge&&r&&vp(t),t.flags|=1,Bt(e,t,n,i),t.child)}function ux(e,t,n,r,i){if(Yt(n)){var s=!0;tc(t)}else s=!1;if(fo(t,i),t.stateNode===null)bc(e,t),Qw(t,n,r),$p(t,n,r,i),r=!0;else if(e===null){var h=t.stateNode,a=t.memoizedProps;h.props=a;var o=h.context,u=n.contextType;typeof u=="object"&&u!==null?u=xn(u):(u=Yt(n)?Vi:St.current,u=so(t,u));var d=n.getDerivedStateFromProps,l=typeof d=="function"||typeof h.getSnapshotBeforeUpdate=="function";l||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(a!==r||o!==u)&&Jw(t,h,r,u),ti=!1;var c=t.memoizedState;h.state=c,cc(t,r,h,i),o=t.memoizedState,a!==r||c!==o||Xt.current||ti?(typeof d=="function"&&(Np(t,n,d,r),o=t.memoizedState),(a=ti||qw(t,n,a,r,c,o,u))?(l||typeof h.UNSAFE_componentWillMount!="function"&&typeof h.componentWillMount!="function"||(typeof h.componentWillMount=="function"&&h.componentWillMount(),typeof h.UNSAFE_componentWillMount=="function"&&h.UNSAFE_componentWillMount()),typeof h.componentDidMount=="function"&&(t.flags|=4194308)):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=o),h.props=r,h.state=o,h.context=u,r=a):(typeof h.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{h=t.stateNode,Ew(e,t),a=t.memoizedProps,u=t.type===t.elementType?a:Fn(t.type,a),h.props=u,l=t.pendingProps,c=h.context,o=n.contextType,typeof o=="object"&&o!==null?o=xn(o):(o=Yt(n)?Vi:St.current,o=so(t,o));var f=n.getDerivedStateFromProps;(d=typeof f=="function"||typeof h.getSnapshotBeforeUpdate=="function")||typeof h.UNSAFE_componentWillReceiveProps!="function"&&typeof h.componentWillReceiveProps!="function"||(a!==l||c!==o)&&Jw(t,h,r,o),ti=!1,c=t.memoizedState,h.state=c,cc(t,r,h,i);var p=t.memoizedState;a!==l||c!==p||Xt.current||ti?(typeof f=="function"&&(Np(t,n,f,r),p=t.memoizedState),(u=ti||qw(t,n,u,r,c,p,o)||!1)?(d||typeof h.UNSAFE_componentWillUpdate!="function"&&typeof h.componentWillUpdate!="function"||(typeof h.componentWillUpdate=="function"&&h.componentWillUpdate(r,p,o),typeof h.UNSAFE_componentWillUpdate=="function"&&h.UNSAFE_componentWillUpdate(r,p,o)),typeof h.componentDidUpdate=="function"&&(t.flags|=4),typeof h.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof h.componentDidUpdate!="function"||a===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=p),h.props=r,h.state=p,h.context=o,r=u):(typeof h.componentDidUpdate!="function"||a===e.memoizedProps&&c===e.memoizedState||(t.flags|=4),typeof h.getSnapshotBeforeUpdate!="function"||a===e.memoizedProps&&c===e.memoizedState||(t.flags|=1024),r=!1)}return Wp(e,t,n,r,s,i)}function Wp(e,t,n,r,i,s){lx(e,t);var h=(t.flags&128)!==0;if(!r&&!h)return i&&pw(t,n,!1),xr(e,t,s);r=t.stateNode,i6.current=t;var a=h&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&h?(t.child=uo(t,e.child,null,s),t.child=uo(t,null,a,s)):Bt(e,t,a,s),t.memoizedState=r.state,i&&pw(t,n,!0),t.child}function cx(e){var t=e.stateNode;t.pendingContext?hw(e,t.pendingContext,t.pendingContext!==t.context):t.context&&hw(e,t.context,!1),Op(e,t.containerInfo)}function fx(e,t,n,r,i){return lo(),xp(i),t.flags|=256,Bt(e,t,n,r),t.child}var Xp={dehydrated:null,treeContext:null,retryLane:0};function Yp(e){return{baseLanes:e,cachePool:null,transitions:null}}function hx(e,t,n){var r=t.pendingProps,i=qe.current,s=!1,h=(t.flags&128)!==0,a;if((a=h)||(a=e!==null&&e.memoizedState===null?!1:(i&2)!==0),a?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(i|=1),He(qe,i&1),e===null)return wp(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(h=r.children,e=r.fallback,s?(r=t.mode,s=t.child,h={mode:"hidden",children:h},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=h):s=Ac(h,r,0,null),e=Ji(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=Yp(n),t.memoizedState=Xp,e):Gp(t,h));if(i=e.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return s6(e,t,h,r,a,i,n);if(s){s=r.fallback,h=t.mode,i=e.child,a=i.sibling;var o={mode:"hidden",children:r.children};return!(h&1)&&t.child!==i?(r=t.child,r.childLanes=0,r.pendingProps=o,t.deletions=null):(r=li(i,o),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=li(a,s):(s=Ji(s,h,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,h=e.child.memoizedState,h=h===null?Yp(n):{baseLanes:h.baseLanes|n,cachePool:null,transitions:h.transitions},s.memoizedState=h,s.childLanes=e.childLanes&~n,t.memoizedState=Xp,r}return s=e.child,e=s.sibling,r=li(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Gp(e,t){return t=Ac({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function yc(e,t,n,r){return r!==null&&xp(r),uo(t,e.child,null,n),e=Gp(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function s6(e,t,n,r,i,s,h){if(n)return t.flags&256?(t.flags&=-257,r=Vp(Error(le(422))),yc(e,t,h,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,i=t.mode,r=Ac({mode:"visible",children:r.children},i,0,null),s=Ji(s,i,h,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&uo(t,e.child,null,h),t.child.memoizedState=Yp(h),t.memoizedState=Xp,s);if(!(t.mode&1))return yc(e,t,h,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(le(419)),r=Vp(s,r,void 0),yc(e,t,h,r)}if(a=(h&e.childLanes)!==0,Gt||a){if(r=vt,r!==null){switch(h&-h){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|h)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,br(e,i),zn(r,e,i,-1))}return cg(),r=Vp(Error(le(421))),yc(e,t,h,r)}return i.data==="$?"?(t.flags|=128,t.child=e.child,t=y6.bind(null,e),i._reactRetry=t,null):(e=s.treeContext,ln=Qr(i.nextSibling),an=t,Ge=!0,Rn=null,e!==null&&(bn[wn++]=vr,bn[wn++]=yr,bn[wn++]=Hi,vr=e.id,yr=e.overflow,Hi=t),t=Gp(t,r.children),t.flags|=4096,t)}function dx(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Ep(e.return,t,n)}function Kp(e,t,n,r,i){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function px(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(Bt(e,t,r.children,n),r=qe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&dx(e,n,t);else if(e.tag===19)dx(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(He(qe,r),!(t.mode&1))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;n!==null;)e=n.alternate,e!==null&&fc(e)===null&&(i=n),n=n.sibling;n=i,n===null?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Kp(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;i!==null;){if(e=i.alternate,e!==null&&fc(e)===null){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Kp(t,!0,n,null,s);break;case"together":Kp(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function bc(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xr(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Gi|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(le(153));if(t.child!==null){for(e=t.child,n=li(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=li(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function o6(e,t,n){switch(t.tag){case 3:cx(t),lo();break;case 5:Ow(t);break;case 1:Yt(t.type)&&tc(t);break;case 4:Op(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;He(ac,r._currentValue),r._currentValue=i;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(He(qe,qe.current&1),t.flags|=128,null):n&t.child.childLanes?hx(e,t,n):(He(qe,qe.current&1),e=xr(e,t,n),e!==null?e.sibling:null);He(qe,qe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return px(e,t,n);t.flags|=128}if(i=t.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),He(qe,qe.current),r)break;return null;case 22:case 23:return t.lanes=0,ax(e,t,n)}return xr(e,t,n)}var gx,qp,mx,vx;gx=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},qp=function(){},mx=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xi(Kn.current);var s=null;switch(n){case"input":i=Ed(e,i),r=Ed(e,r),s=[];break;case"select":i=Ke({},i,{value:void 0}),r=Ke({},r,{value:void 0}),s=[];break;case"textarea":i=Od(e,i),r=Od(e,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Ju)}Dd(n,r);var h;n=null;for(u in i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(h in a)a.hasOwnProperty(h)&&(n||(n={}),n[h]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(ga.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in r){var o=r[u];if(a=i!=null?i[u]:void 0,r.hasOwnProperty(u)&&o!==a&&(o!=null||a!=null))if(u==="style")if(a){for(h in a)!a.hasOwnProperty(h)||o&&o.hasOwnProperty(h)||(n||(n={}),n[h]="");for(h in o)o.hasOwnProperty(h)&&a[h]!==o[h]&&(n||(n={}),n[h]=o[h])}else n||(s||(s=[]),s.push(u,n)),n=o;else u==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,a=a?a.__html:void 0,o!=null&&a!==o&&(s=s||[]).push(u,o)):u==="children"?typeof o!="string"&&typeof o!="number"||(s=s||[]).push(u,""+o):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(ga.hasOwnProperty(u)?(o!=null&&u==="onScroll"&&We("scroll",e),s||a===o||(s=[])):(s=s||[]).push(u,o))}n&&(s=s||[]).push("style",n);var u=s;(t.updateQueue=u)&&(t.flags|=4)}},vx=function(e,t,n,r){n!==r&&(t.flags|=4)};function Qa(e,t){if(!Ge)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Et(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=e,i=i.sibling;else for(i=e.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function a6(e,t,n){var r=t.pendingProps;switch(yp(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Et(t),null;case 1:return Yt(t.type)&&ec(),Et(t),null;case 3:return r=t.stateNode,ho(),Xe(Xt),Xe(St),Ap(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(sc(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Rn!==null&&(ag(Rn),Rn=null))),qp(e,t),Et(t),null;case 5:Pp(t);var i=Xi(Xa.current);if(n=t.type,e!==null&&t.stateNode!=null)mx(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(le(166));return Et(t),null}if(e=Xi(Kn.current),sc(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Gn]=t,r[$a]=s,e=(t.mode&1)!==0,n){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(i=0;i<za.length;i++)We(za[i],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":Q1(r,s),We("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},We("invalid",r);break;case"textarea":eb(r,s),We("invalid",r)}Dd(n,s),i=null;for(var h in s)if(s.hasOwnProperty(h)){var a=s[h];h==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Qu(r.textContent,a,e),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Qu(r.textContent,a,e),i=["children",""+a]):ga.hasOwnProperty(h)&&a!=null&&h==="onScroll"&&We("scroll",r)}switch(n){case"input":Ou(r),Z1(r,s,!0);break;case"textarea":Ou(r),nb(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Ju)}r=i,t.updateQueue=r,r!==null&&(t.flags|=4)}else{h=i.nodeType===9?i:i.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=rb(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=h.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=h.createElement(n,{is:r.is}):(e=h.createElement(n),n==="select"&&(h=e,r.multiple?h.multiple=!0:r.size&&(h.size=r.size))):e=h.createElementNS(e,n),e[Gn]=t,e[$a]=r,gx(e,t,!1,!1),t.stateNode=e;e:{switch(h=Ad(n,r),n){case"dialog":We("cancel",e),We("close",e),i=r;break;case"iframe":case"object":case"embed":We("load",e),i=r;break;case"video":case"audio":for(i=0;i<za.length;i++)We(za[i],e);i=r;break;case"source":We("error",e),i=r;break;case"img":case"image":case"link":We("error",e),We("load",e),i=r;break;case"details":We("toggle",e),i=r;break;case"input":Q1(e,r),i=Ed(e,r),We("invalid",e);break;case"option":i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=Ke({},r,{value:void 0}),We("invalid",e);break;case"textarea":eb(e,r),i=Od(e,r),We("invalid",e);break;default:i=r}Dd(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var o=a[s];s==="style"?ob(e,o):s==="dangerouslySetInnerHTML"?(o=o?o.__html:void 0,o!=null&&ib(e,o)):s==="children"?typeof o=="string"?(n!=="textarea"||o!=="")&&ba(e,o):typeof o=="number"&&ba(e,""+o):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ga.hasOwnProperty(s)?o!=null&&s==="onScroll"&&We("scroll",e):o!=null&&pd(e,s,o,h))}switch(n){case"input":Ou(e),Z1(e,r,!1);break;case"textarea":Ou(e),nb(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Ur(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?Ys(e,!!r.multiple,s,!1):r.defaultValue!=null&&Ys(e,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(e.onclick=Ju)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Et(t),null;case 6:if(e&&t.stateNode!=null)vx(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(le(166));if(n=Xi(Xa.current),Xi(Kn.current),sc(t)){if(r=t.stateNode,n=t.memoizedProps,r[Gn]=t,(s=r.nodeValue!==n)&&(e=an,e!==null))switch(e.tag){case 3:Qu(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Qu(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Gn]=t,t.stateNode=r}return Et(t),null;case 13:if(Xe(qe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ge&&ln!==null&&t.mode&1&&!(t.flags&128))ww(),lo(),t.flags|=98560,s=!1;else if(s=sc(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(le(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(le(317));s[Gn]=t}else lo(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Et(t),s=!1}else Rn!==null&&(ag(Rn),Rn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||qe.current&1?dt===0&&(dt=3):cg())),t.updateQueue!==null&&(t.flags|=4),Et(t),null);case 4:return ho(),qp(e,t),e===null&&Ba(t.stateNode.containerInfo),Et(t),null;case 10:return _p(t.type._context),Et(t),null;case 17:return Yt(t.type)&&ec(),Et(t),null;case 19:if(Xe(qe),s=t.memoizedState,s===null)return Et(t),null;if(r=(t.flags&128)!==0,h=s.rendering,h===null)if(r)Qa(s,!1);else{if(dt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(h=fc(e),h!==null){for(t.flags|=128,Qa(s,!1),r=h.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,h=s.alternate,h===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=h.childLanes,s.lanes=h.lanes,s.child=h.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=h.memoizedProps,s.memoizedState=h.memoizedState,s.updateQueue=h.updateQueue,s.type=h.type,e=h.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return He(qe,qe.current&1|2),t.child}e=e.sibling}s.tail!==null&&it()>vo&&(t.flags|=128,r=!0,Qa(s,!1),t.lanes=4194304)}else{if(!r)if(e=fc(h),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Qa(s,!0),s.tail===null&&s.tailMode==="hidden"&&!h.alternate&&!Ge)return Et(t),null}else 2*it()-s.renderingStartTime>vo&&n!==1073741824&&(t.flags|=128,r=!0,Qa(s,!1),t.lanes=4194304);s.isBackwards?(h.sibling=t.child,t.child=h):(n=s.last,n!==null?n.sibling=h:t.child=h,s.last=h)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=it(),t.sibling=null,n=qe.current,He(qe,r?n&1|2:n&1),t):(Et(t),null);case 22:case 23:return ug(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?un&1073741824&&(Et(t),t.subtreeFlags&6&&(t.flags|=8192)):Et(t),null;case 24:return null;case 25:return null}throw Error(le(156,t.tag))}function l6(e,t){switch(yp(t),t.tag){case 1:return Yt(t.type)&&ec(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return ho(),Xe(Xt),Xe(St),Ap(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Pp(t),null;case 13:if(Xe(qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(le(340));lo()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Xe(qe),null;case 4:return ho(),null;case 10:return _p(t.type._context),null;case 22:case 23:return ug(),null;case 24:return null;default:return null}}var wc=!1,kt=!1,u6=typeof WeakSet=="function"?WeakSet:Set,ge=null;function go(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){tt(e,t,r)}else n.current=null}function Qp(e,t,n){try{n()}catch(r){tt(e,t,r)}}var yx=!1;function c6(e,t){if(up=Nu,e=qb(),tp(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var h=0,a=-1,o=-1,u=0,d=0,l=e,c=null;t:for(;;){for(var f;l!==n||i!==0&&l.nodeType!==3||(a=h+i),l!==s||r!==0&&l.nodeType!==3||(o=h+r),l.nodeType===3&&(h+=l.nodeValue.length),(f=l.firstChild)!==null;)c=l,l=f;for(;;){if(l===e)break t;if(c===n&&++u===i&&(a=h),c===s&&++d===r&&(o=h),(f=l.nextSibling)!==null)break;l=c,c=l.parentNode}l=f}n=a===-1||o===-1?null:{start:a,end:o}}else n=null}n=n||{start:0,end:0}}else n=null;for(cp={focusedElem:e,selectionRange:n},Nu=!1,ge=t;ge!==null;)if(t=ge,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ge=e;else for(;ge!==null;){t=ge;try{var p=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(p!==null){var m=p.memoizedProps,g=p.memoizedState,v=t.stateNode,y=v.getSnapshotBeforeUpdate(t.elementType===t.type?m:Fn(t.type,m),g);v.__reactInternalSnapshotBeforeUpdate=y}break;case 3:var b=t.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(le(163))}}catch(w){tt(t,t.return,w)}if(e=t.sibling,e!==null){e.return=t.return,ge=e;break}ge=t.return}return p=yx,yx=!1,p}function Ja(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,s!==void 0&&Qp(t,n,s)}i=i.next}while(i!==r)}}function xc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Jp(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function bx(e){var t=e.alternate;t!==null&&(e.alternate=null,bx(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Gn],delete t[$a],delete t[pp],delete t[XA],delete t[YA])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function wx(e){return e.tag===5||e.tag===3||e.tag===4}function xx(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||wx(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Zp(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Ju));else if(r!==4&&(e=e.child,e!==null))for(Zp(e,t,n),e=e.sibling;e!==null;)Zp(e,t,n),e=e.sibling}function eg(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(eg(e,t,n),e=e.sibling;e!==null;)eg(e,t,n),e=e.sibling}var wt=null,In=!1;function ri(e,t,n){for(n=n.child;n!==null;)Cx(e,t,n),n=n.sibling}function Cx(e,t,n){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(Ru,n)}catch{}switch(n.tag){case 5:kt||go(n,t);case 6:var r=wt,i=In;wt=null,ri(e,t,n),wt=r,In=i,wt!==null&&(In?(e=wt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):wt.removeChild(n.stateNode));break;case 18:wt!==null&&(In?(e=wt,n=n.stateNode,e.nodeType===8?dp(e.parentNode,n):e.nodeType===1&&dp(e,n),Da(e)):dp(wt,n.stateNode));break;case 4:r=wt,i=In,wt=n.stateNode.containerInfo,In=!0,ri(e,t,n),wt=r,In=i;break;case 0:case 11:case 14:case 15:if(!kt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,h=s.destroy;s=s.tag,h!==void 0&&(s&2||s&4)&&Qp(n,t,h),i=i.next}while(i!==r)}ri(e,t,n);break;case 1:if(!kt&&(go(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){tt(n,t,a)}ri(e,t,n);break;case 21:ri(e,t,n);break;case 22:n.mode&1?(kt=(r=kt)||n.memoizedState!==null,ri(e,t,n),kt=r):ri(e,t,n);break;default:ri(e,t,n)}}function Sx(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new u6),t.forEach(function(r){var i=b6.bind(null,e,r);n.has(r)||(n.add(r),r.then(i,i))})}}function Ln(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=e,h=t,a=h;e:for(;a!==null;){switch(a.tag){case 5:wt=a.stateNode,In=!1;break e;case 3:wt=a.stateNode.containerInfo,In=!0;break e;case 4:wt=a.stateNode.containerInfo,In=!0;break e}a=a.return}if(wt===null)throw Error(le(160));Cx(s,h,i),wt=null,In=!1;var o=i.alternate;o!==null&&(o.return=null),i.return=null}catch(u){tt(i,t,u)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)_x(t,e),t=t.sibling}function _x(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ln(t,e),Qn(e),r&4){try{Ja(3,e,e.return),xc(3,e)}catch(m){tt(e,e.return,m)}try{Ja(5,e,e.return)}catch(m){tt(e,e.return,m)}}break;case 1:Ln(t,e),Qn(e),r&512&&n!==null&&go(n,n.return);break;case 5:if(Ln(t,e),Qn(e),r&512&&n!==null&&go(n,n.return),e.flags&32){var i=e.stateNode;try{ba(i,"")}catch(m){tt(e,e.return,m)}}if(r&4&&(i=e.stateNode,i!=null)){var s=e.memoizedProps,h=n!==null?n.memoizedProps:s,a=e.type,o=e.updateQueue;if(e.updateQueue=null,o!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&J1(i,s),Ad(a,h);var u=Ad(a,s);for(h=0;h<o.length;h+=2){var d=o[h],l=o[h+1];d==="style"?ob(i,l):d==="dangerouslySetInnerHTML"?ib(i,l):d==="children"?ba(i,l):pd(i,d,l,u)}switch(a){case"input":kd(i,s);break;case"textarea":tb(i,s);break;case"select":var c=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var f=s.value;f!=null?Ys(i,!!s.multiple,f,!1):c!==!!s.multiple&&(s.defaultValue!=null?Ys(i,!!s.multiple,s.defaultValue,!0):Ys(i,!!s.multiple,s.multiple?[]:"",!1))}i[$a]=s}catch(m){tt(e,e.return,m)}}break;case 6:if(Ln(t,e),Qn(e),r&4){if(e.stateNode===null)throw Error(le(162));i=e.stateNode,s=e.memoizedProps;try{i.nodeValue=s}catch(m){tt(e,e.return,m)}}break;case 3:if(Ln(t,e),Qn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Da(t.containerInfo)}catch(m){tt(e,e.return,m)}break;case 4:Ln(t,e),Qn(e);break;case 13:Ln(t,e),Qn(e),i=e.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(rg=it())),r&4&&Sx(e);break;case 22:if(d=n!==null&&n.memoizedState!==null,e.mode&1?(kt=(u=kt)||d,Ln(t,e),kt=u):Ln(t,e),Qn(e),r&8192){if(u=e.memoizedState!==null,(e.stateNode.isHidden=u)&&!d&&e.mode&1)for(ge=e,d=e.child;d!==null;){for(l=ge=d;ge!==null;){switch(c=ge,f=c.child,c.tag){case 0:case 11:case 14:case 15:Ja(4,c,c.return);break;case 1:go(c,c.return);var p=c.stateNode;if(typeof p.componentWillUnmount=="function"){r=c,n=c.return;try{t=r,p.props=t.memoizedProps,p.state=t.memoizedState,p.componentWillUnmount()}catch(m){tt(r,n,m)}}break;case 5:go(c,c.return);break;case 22:if(c.memoizedState!==null){Tx(l);continue}}f!==null?(f.return=c,ge=f):Tx(l)}d=d.sibling}e:for(d=null,l=e;;){if(l.tag===5){if(d===null){d=l;try{i=l.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=l.stateNode,o=l.memoizedProps.style,h=o!=null&&o.hasOwnProperty("display")?o.display:null,a.style.display=sb("display",h))}catch(m){tt(e,e.return,m)}}}else if(l.tag===6){if(d===null)try{l.stateNode.nodeValue=u?"":l.memoizedProps}catch(m){tt(e,e.return,m)}}else if((l.tag!==22&&l.tag!==23||l.memoizedState===null||l===e)&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===e)break e;for(;l.sibling===null;){if(l.return===null||l.return===e)break e;d===l&&(d=null),l=l.return}d===l&&(d=null),l.sibling.return=l.return,l=l.sibling}}break;case 19:Ln(t,e),Qn(e),r&4&&Sx(e);break;case 21:break;default:Ln(t,e),Qn(e)}}function Qn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(wx(n)){var r=n;break e}n=n.return}throw Error(le(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(ba(i,""),r.flags&=-33);var s=xx(e);eg(e,s,i);break;case 3:case 4:var h=r.stateNode.containerInfo,a=xx(e);Zp(e,a,h);break;default:throw Error(le(161))}}catch(o){tt(e,e.return,o)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function f6(e,t,n){ge=e,Ex(e)}function Ex(e,t,n){for(var r=(e.mode&1)!==0;ge!==null;){var i=ge,s=i.child;if(i.tag===22&&r){var h=i.memoizedState!==null||wc;if(!h){var a=i.alternate,o=a!==null&&a.memoizedState!==null||kt;a=wc;var u=kt;if(wc=h,(kt=o)&&!u)for(ge=i;ge!==null;)h=ge,o=h.child,h.tag===22&&h.memoizedState!==null?Ox(i):o!==null?(o.return=h,ge=o):Ox(i);for(;s!==null;)ge=s,Ex(s),s=s.sibling;ge=i,wc=a,kt=u}kx(e)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ge=s):kx(e)}}function kx(e){for(;ge!==null;){var t=ge;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:kt||xc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!kt)if(n===null)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:Fn(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&Tw(t,s,r);break;case 3:var h=t.updateQueue;if(h!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Tw(t,h,n)}break;case 5:var a=t.stateNode;if(n===null&&t.flags&4){n=a;var o=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":o.autoFocus&&n.focus();break;case"img":o.src&&(n.src=o.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var u=t.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var l=d.dehydrated;l!==null&&Da(l)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(le(163))}kt||t.flags&512&&Jp(t)}catch(c){tt(t,t.return,c)}}if(t===e){ge=null;break}if(n=t.sibling,n!==null){n.return=t.return,ge=n;break}ge=t.return}}function Tx(e){for(;ge!==null;){var t=ge;if(t===e){ge=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ge=n;break}ge=t.return}}function Ox(e){for(;ge!==null;){var t=ge;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{xc(4,t)}catch(o){tt(t,n,o)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var i=t.return;try{r.componentDidMount()}catch(o){tt(t,i,o)}}var s=t.return;try{Jp(t)}catch(o){tt(t,s,o)}break;case 5:var h=t.return;try{Jp(t)}catch(o){tt(t,h,o)}}}catch(o){tt(t,t.return,o)}if(t===e){ge=null;break}var a=t.sibling;if(a!==null){a.return=t.return,ge=a;break}ge=t.return}}var h6=Math.ceil,Cc=pr.ReactCurrentDispatcher,tg=pr.ReactCurrentOwner,Sn=pr.ReactCurrentBatchConfig,je=0,vt=null,ot=null,xt=0,un=0,mo=Jr(0),dt=0,Za=null,Gi=0,Sc=0,ng=0,el=null,Kt=null,rg=0,vo=1/0,Cr=null,_c=!1,ig=null,ii=null,Ec=!1,si=null,kc=0,tl=0,sg=null,Tc=-1,Oc=0;function Nt(){return je&6?it():Tc!==-1?Tc:Tc=it()}function oi(e){return e.mode&1?je&2&&xt!==0?xt&-xt:KA.transition!==null?(Oc===0&&(Oc=xb()),Oc):(e=ze,e!==0||(e=window.event,e=e===void 0?16:Db(e.type)),e):1}function zn(e,t,n,r){if(50<tl)throw tl=0,sg=null,Error(le(185));Ea(e,n,r),(!(je&2)||e!==vt)&&(e===vt&&(!(je&2)&&(Sc|=n),dt===4&&ai(e,xt)),qt(e,r),n===1&&je===0&&!(t.mode&1)&&(vo=it()+500,nc&&ei()))}function qt(e,t){var n=e.callbackNode;KD(e,t);var r=Lu(e,e===vt?xt:0);if(r===0)n!==null&&yb(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&yb(n),t===1)e.tag===0?GA(Dx.bind(null,e)):gw(Dx.bind(null,e)),UA(function(){!(je&6)&&ei()}),n=null;else{switch(Cb(r)){case 1:n=zd;break;case 4:n=bb;break;case 16:n=ju;break;case 536870912:n=wb;break;default:n=ju}n=zx(n,Px.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Px(e,t){if(Tc=-1,Oc=0,je&6)throw Error(le(327));var n=e.callbackNode;if(yo()&&e.callbackNode!==n)return null;var r=Lu(e,e===vt?xt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Pc(e,r);else{t=r;var i=je;je|=2;var s=Mx();(vt!==e||xt!==t)&&(Cr=null,vo=it()+500,qi(e,t));do try{g6();break}catch(a){Ax(e,a)}while(1);Sp(),Cc.current=s,je=i,ot!==null?t=0:(vt=null,xt=0,t=dt)}if(t!==0){if(t===2&&(i=Bd(e),i!==0&&(r=i,t=og(e,i))),t===1)throw n=Za,qi(e,0),ai(e,r),qt(e,it()),n;if(t===6)ai(e,r);else{if(i=e.current.alternate,!(r&30)&&!d6(i)&&(t=Pc(e,r),t===2&&(s=Bd(e),s!==0&&(r=s,t=og(e,s))),t===1))throw n=Za,qi(e,0),ai(e,r),qt(e,it()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(le(345));case 2:Qi(e,Kt,Cr);break;case 3:if(ai(e,r),(r&130023424)===r&&(t=rg+500-it(),10<t)){if(Lu(e,0)!==0)break;if(i=e.suspendedLanes,(i&r)!==r){Nt(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=hp(Qi.bind(null,e,Kt,Cr),t);break}Qi(e,Kt,Cr);break;case 4:if(ai(e,r),(r&4194240)===r)break;for(t=e.eventTimes,i=-1;0<r;){var h=31-Mn(r);s=1<<h,h=t[h],h>i&&(i=h),r&=~s}if(r=i,r=it()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*h6(r/1960))-r,10<r){e.timeoutHandle=hp(Qi.bind(null,e,Kt,Cr),r);break}Qi(e,Kt,Cr);break;case 5:Qi(e,Kt,Cr);break;default:throw Error(le(329))}}}return qt(e,it()),e.callbackNode===n?Px.bind(null,e):null}function og(e,t){var n=el;return e.current.memoizedState.isDehydrated&&(qi(e,t).flags|=256),e=Pc(e,t),e!==2&&(t=Kt,Kt=n,t!==null&&ag(t)),e}function ag(e){Kt===null?Kt=e:Kt.push.apply(Kt,e)}function d6(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!jn(s(),i))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ai(e,t){for(t&=~ng,t&=~Sc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Mn(t),r=1<<n;e[n]=-1,t&=~r}}function Dx(e){if(je&6)throw Error(le(327));yo();var t=Lu(e,0);if(!(t&1))return qt(e,it()),null;var n=Pc(e,t);if(e.tag!==0&&n===2){var r=Bd(e);r!==0&&(t=r,n=og(e,r))}if(n===1)throw n=Za,qi(e,0),ai(e,t),qt(e,it()),n;if(n===6)throw Error(le(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Qi(e,Kt,Cr),qt(e,it()),null}function lg(e,t){var n=je;je|=1;try{return e(t)}finally{je=n,je===0&&(vo=it()+500,nc&&ei())}}function Ki(e){si!==null&&si.tag===0&&!(je&6)&&yo();var t=je;je|=1;var n=Sn.transition,r=ze;try{if(Sn.transition=null,ze=1,e)return e()}finally{ze=r,Sn.transition=n,je=t,!(je&6)&&ei()}}function ug(){un=mo.current,Xe(mo)}function qi(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,HA(n)),ot!==null)for(n=ot.return;n!==null;){var r=n;switch(yp(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ec();break;case 3:ho(),Xe(Xt),Xe(St),Ap();break;case 5:Pp(r);break;case 4:ho();break;case 13:Xe(qe);break;case 19:Xe(qe);break;case 10:_p(r.type._context);break;case 22:case 23:ug()}n=n.return}if(vt=e,ot=e=li(e.current,null),xt=un=t,dt=0,Za=null,ng=Sc=Gi=0,Kt=el=null,Wi!==null){for(t=0;t<Wi.length;t++)if(n=Wi[t],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var h=s.next;s.next=i,r.next=h}n.pending=r}Wi=null}return e}function Ax(e,t){do{var n=ot;try{if(Sp(),hc.current=mc,dc){for(var r=Qe.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}dc=!1}if(Yi=0,mt=ht=Qe=null,Ya=!1,Ga=0,tg.current=null,n===null||n.return===null){dt=1,Za=t,ot=null;break}e:{var s=e,h=n.return,a=n,o=t;if(t=xt,a.flags|=32768,o!==null&&typeof o=="object"&&typeof o.then=="function"){var u=o,d=a,l=d.tag;if(!(d.mode&1)&&(l===0||l===11||l===15)){var c=d.alternate;c?(d.updateQueue=c.updateQueue,d.memoizedState=c.memoizedState,d.lanes=c.lanes):(d.updateQueue=null,d.memoizedState=null)}var f=nx(h);if(f!==null){f.flags&=-257,rx(f,h,a,s,t),f.mode&1&&tx(s,u,t),t=f,o=u;var p=t.updateQueue;if(p===null){var m=new Set;m.add(o),t.updateQueue=m}else p.add(o);break e}else{if(!(t&1)){tx(s,u,t),cg();break e}o=Error(le(426))}}else if(Ge&&a.mode&1){var g=nx(h);if(g!==null){!(g.flags&65536)&&(g.flags|=256),rx(g,h,a,s,t),xp(po(o,a));break e}}s=o=po(o,a),dt!==4&&(dt=2),el===null?el=[s]:el.push(s),s=h;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var v=Zw(s,o,t);kw(s,v);break e;case 1:a=o;var y=s.type,b=s.stateNode;if(!(s.flags&128)&&(typeof y.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(ii===null||!ii.has(b)))){s.flags|=65536,t&=-t,s.lanes|=t;var w=ex(s,a,t);kw(s,w);break e}}s=s.return}while(s!==null)}Rx(n)}catch(C){t=C,ot===n&&n!==null&&(ot=n=n.return);continue}break}while(1)}function Mx(){var e=Cc.current;return Cc.current=mc,e===null?mc:e}function cg(){(dt===0||dt===3||dt===2)&&(dt=4),vt===null||!(Gi&268435455)&&!(Sc&268435455)||ai(vt,xt)}function Pc(e,t){var n=je;je|=2;var r=Mx();(vt!==e||xt!==t)&&(Cr=null,qi(e,t));do try{p6();break}catch(i){Ax(e,i)}while(1);if(Sp(),je=n,Cc.current=r,ot!==null)throw Error(le(261));return vt=null,xt=0,dt}function p6(){for(;ot!==null;)jx(ot)}function g6(){for(;ot!==null&&!ND();)jx(ot)}function jx(e){var t=Lx(e.alternate,e,un);e.memoizedProps=e.pendingProps,t===null?Rx(e):ot=t,tg.current=null}function Rx(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=l6(n,t),n!==null){n.flags&=32767,ot=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{dt=6,ot=null;return}}else if(n=a6(n,t,un),n!==null){ot=n;return}if(t=t.sibling,t!==null){ot=t;return}ot=t=e}while(t!==null);dt===0&&(dt=5)}function Qi(e,t,n){var r=ze,i=Sn.transition;try{Sn.transition=null,ze=1,m6(e,t,n,r)}finally{Sn.transition=i,ze=r}return null}function m6(e,t,n,r){do yo();while(si!==null);if(je&6)throw Error(le(327));n=e.finishedWork;var i=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(le(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(qD(e,s),e===vt&&(ot=vt=null,xt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ec||(Ec=!0,zx(ju,function(){return yo(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Sn.transition,Sn.transition=null;var h=ze;ze=1;var a=je;je|=4,tg.current=null,c6(e,n),_x(n,e),IA(cp),Nu=!!up,cp=up=null,e.current=n,f6(n),$D(),je=a,ze=h,Sn.transition=s}else e.current=n;if(Ec&&(Ec=!1,si=e,kc=i),s=e.pendingLanes,s===0&&(ii=null),UD(n.stateNode),qt(e,it()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(_c)throw _c=!1,e=ig,ig=null,e;return kc&1&&e.tag!==0&&yo(),s=e.pendingLanes,s&1?e===sg?tl++:(tl=0,sg=e):tl=0,ei(),null}function yo(){if(si!==null){var e=Cb(kc),t=Sn.transition,n=ze;try{if(Sn.transition=null,ze=16>e?16:e,si===null)var r=!1;else{if(e=si,si=null,kc=0,je&6)throw Error(le(331));var i=je;for(je|=4,ge=e.current;ge!==null;){var s=ge,h=s.child;if(ge.flags&16){var a=s.deletions;if(a!==null){for(var o=0;o<a.length;o++){var u=a[o];for(ge=u;ge!==null;){var d=ge;switch(d.tag){case 0:case 11:case 15:Ja(8,d,s)}var l=d.child;if(l!==null)l.return=d,ge=l;else for(;ge!==null;){d=ge;var c=d.sibling,f=d.return;if(bx(d),d===u){ge=null;break}if(c!==null){c.return=f,ge=c;break}ge=f}}}var p=s.alternate;if(p!==null){var m=p.child;if(m!==null){p.child=null;do{var g=m.sibling;m.sibling=null,m=g}while(m!==null)}}ge=s}}if(s.subtreeFlags&2064&&h!==null)h.return=s,ge=h;else e:for(;ge!==null;){if(s=ge,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Ja(9,s,s.return)}var v=s.sibling;if(v!==null){v.return=s.return,ge=v;break e}ge=s.return}}var y=e.current;for(ge=y;ge!==null;){h=ge;var b=h.child;if(h.subtreeFlags&2064&&b!==null)b.return=h,ge=b;else e:for(h=y;ge!==null;){if(a=ge,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xc(9,a)}}catch(C){tt(a,a.return,C)}if(a===h){ge=null;break e}var w=a.sibling;if(w!==null){w.return=a.return,ge=w;break e}ge=a.return}}if(je=i,ei(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(Ru,e)}catch{}r=!0}return r}finally{ze=n,Sn.transition=t}}return!1}function Fx(e,t,n){t=po(n,t),t=Zw(e,t,1),e=ni(e,t,1),t=Nt(),e!==null&&(Ea(e,1,t),qt(e,t))}function tt(e,t,n){if(e.tag===3)Fx(e,e,n);else for(;t!==null;){if(t.tag===3){Fx(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ii===null||!ii.has(r))){e=po(n,e),e=ex(t,e,1),t=ni(t,e,1),e=Nt(),t!==null&&(Ea(t,1,e),qt(t,e));break}}t=t.return}}function v6(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Nt(),e.pingedLanes|=e.suspendedLanes&n,vt===e&&(xt&n)===n&&(dt===4||dt===3&&(xt&130023424)===xt&&500>it()-rg?qi(e,0):ng|=n),qt(e,t)}function Ix(e,t){t===0&&(e.mode&1?(t=Iu,Iu<<=1,!(Iu&130023424)&&(Iu=4194304)):t=1);var n=Nt();e=br(e,t),e!==null&&(Ea(e,t,n),qt(e,n))}function y6(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),Ix(e,n)}function b6(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(le(314))}r!==null&&r.delete(t),Ix(e,n)}var Lx;Lx=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Xt.current)Gt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Gt=!1,o6(e,t,n);Gt=!!(e.flags&131072)}else Gt=!1,Ge&&t.flags&1048576&&mw(t,ic,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;bc(e,t),e=t.pendingProps;var i=so(t,St.current);fo(t,n),i=Rp(null,t,r,e,i,n);var s=Fp();return t.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Yt(r)?(s=!0,tc(t)):s=!1,t.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,Tp(t),i.updater=vc,t.stateNode=i,i._reactInternals=t,$p(t,r,e,n),t=Wp(null,t,r,!0,s,n)):(t.tag=0,Ge&&s&&vp(t),Bt(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(bc(e,t),e=t.pendingProps,i=r._init,r=i(r._payload),t.type=r,i=t.tag=x6(r),e=Fn(r,e),i){case 0:t=Up(null,t,r,e,n);break e;case 1:t=ux(null,t,r,e,n);break e;case 11:t=ix(null,t,r,e,n);break e;case 14:t=sx(null,t,r,Fn(r.type,e),n);break e}throw Error(le(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Fn(r,i),Up(e,t,r,i,n);case 1:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Fn(r,i),ux(e,t,r,i,n);case 3:e:{if(cx(t),e===null)throw Error(le(387));r=t.pendingProps,s=t.memoizedState,i=s.element,Ew(e,t),cc(t,r,null,n);var h=t.memoizedState;if(r=h.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:h.cache,pendingSuspenseBoundaries:h.pendingSuspenseBoundaries,transitions:h.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){i=po(Error(le(423)),t),t=fx(e,t,r,n,i);break e}else if(r!==i){i=po(Error(le(424)),t),t=fx(e,t,r,n,i);break e}else for(ln=Qr(t.stateNode.containerInfo.firstChild),an=t,Ge=!0,Rn=null,n=Sw(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(lo(),r===i){t=xr(e,t,n);break e}Bt(e,t,r,n)}t=t.child}return t;case 5:return Ow(t),e===null&&wp(t),r=t.type,i=t.pendingProps,s=e!==null?e.memoizedProps:null,h=i.children,fp(r,i)?h=null:s!==null&&fp(r,s)&&(t.flags|=32),lx(e,t),Bt(e,t,h,n),t.child;case 6:return e===null&&wp(t),null;case 13:return hx(e,t,n);case 4:return Op(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=uo(t,null,r,n):Bt(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Fn(r,i),ix(e,t,r,i,n);case 7:return Bt(e,t,t.pendingProps,n),t.child;case 8:return Bt(e,t,t.pendingProps.children,n),t.child;case 12:return Bt(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,s=t.memoizedProps,h=i.value,He(ac,r._currentValue),r._currentValue=h,s!==null)if(jn(s.value,h)){if(s.children===i.children&&!Xt.current){t=xr(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var a=s.dependencies;if(a!==null){h=s.child;for(var o=a.firstContext;o!==null;){if(o.context===r){if(s.tag===1){o=wr(-1,n&-n),o.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?o.next=o:(o.next=d.next,d.next=o),u.pending=o}}s.lanes|=n,o=s.alternate,o!==null&&(o.lanes|=n),Ep(s.return,n,t),a.lanes|=n;break}o=o.next}}else if(s.tag===10)h=s.type===t.type?null:s.child;else if(s.tag===18){if(h=s.return,h===null)throw Error(le(341));h.lanes|=n,a=h.alternate,a!==null&&(a.lanes|=n),Ep(h,n,t),h=s.sibling}else h=s.child;if(h!==null)h.return=s;else for(h=s;h!==null;){if(h===t){h=null;break}if(s=h.sibling,s!==null){s.return=h.return,h=s;break}h=h.return}s=h}Bt(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,fo(t,n),i=xn(i),r=r(i),t.flags|=1,Bt(e,t,r,n),t.child;case 14:return r=t.type,i=Fn(r,t.pendingProps),i=Fn(r.type,i),sx(e,t,r,i,n);case 15:return ox(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:Fn(r,i),bc(e,t),t.tag=1,Yt(r)?(e=!0,tc(t)):e=!1,fo(t,n),Qw(t,r,i),$p(t,r,i,n),Wp(null,t,r,!0,e,n);case 19:return px(e,t,n);case 22:return ax(e,t,n)}throw Error(le(156,t.tag))};function zx(e,t){return vb(e,t)}function w6(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _n(e,t,n,r){return new w6(e,t,n,r)}function fg(e){return e=e.prototype,!(!e||!e.isReactComponent)}function x6(e){if(typeof e=="function")return fg(e)?1:0;if(e!=null){if(e=e.$$typeof,e===vd)return 11;if(e===wd)return 14}return 2}function li(e,t){var n=e.alternate;return n===null?(n=_n(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,s){var h=2;if(r=e,typeof e=="function")fg(e)&&(h=1);else if(typeof e=="string")h=5;else e:switch(e){case Xs:return Ji(n.children,i,s,t);case gd:h=8,i|=8;break;case md:return e=_n(12,n,t,i|2),e.elementType=md,e.lanes=s,e;case yd:return e=_n(13,n,t,i),e.elementType=yd,e.lanes=s,e;case bd:return e=_n(19,n,t,i),e.elementType=bd,e.lanes=s,e;case Y1:return Ac(n,i,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case W1:h=10;break e;case X1:h=9;break e;case vd:h=11;break e;case wd:h=14;break e;case Hr:h=16,r=null;break e}throw Error(le(130,e==null?e:typeof e,""))}return t=_n(h,n,t,i),t.elementType=e,t.type=r,t.lanes=s,t}function Ji(e,t,n,r){return e=_n(7,e,r,t),e.lanes=n,e}function Ac(e,t,n,r){return e=_n(22,e,r,t),e.elementType=Y1,e.lanes=n,e.stateNode={isHidden:!1},e}function hg(e,t,n){return e=_n(6,e,null,t),e.lanes=n,e}function dg(e,t,n){return t=_n(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function C6(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nd(0),this.expirationTimes=Nd(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nd(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function pg(e,t,n,r,i,s,h,a,o){return e=new C6(e,t,n,a,o),t===1?(t=1,s===!0&&(t|=8)):t=0,s=_n(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Tp(s),e}function S6(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ws,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function Bx(e){if(!e)return Zr;e=e._reactInternals;e:{if(Ni(e)!==e||e.tag!==1)throw Error(le(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Yt(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(le(171))}if(e.tag===1){var n=e.type;if(Yt(n))return dw(e,n,t)}return t}function Nx(e,t,n,r,i,s,h,a,o){return e=pg(n,r,!0,e,i,s,h,a,o),e.context=Bx(null),n=e.current,r=Nt(),i=oi(n),s=wr(r,i),s.callback=t??null,ni(n,s,i),e.current.lanes=i,Ea(e,i,r),qt(e,r),e}function Mc(e,t,n,r){var i=t.current,s=Nt(),h=oi(i);return n=Bx(n),t.context===null?t.context=n:t.pendingContext=n,t=wr(s,h),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=ni(i,t,h),e!==null&&(zn(e,i,h,s),uc(e,i,h)),h}function jc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function $x(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function gg(e,t){$x(e,t),(e=e.alternate)&&$x(e,t)}function _6(){return null}var Vx=typeof reportError=="function"?reportError:function(e){console.error(e)};function mg(e){this._internalRoot=e}Rc.prototype.render=mg.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(le(409));Mc(e,t,null,null)},Rc.prototype.unmount=mg.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Ki(function(){Mc(null,e,null,null)}),t[gr]=null}};function Rc(e){this._internalRoot=e}Rc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Eb();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Gr.length&&t!==0&&t<Gr[n].priority;n++);Gr.splice(n,0,e),n===0&&Ob(e)}};function vg(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Fc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Hx(){}function E6(e,t,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var u=jc(h);s.call(u)}}var h=Nx(t,r,e,0,null,!1,!1,"",Hx);return e._reactRootContainer=h,e[gr]=h.current,Ba(e.nodeType===8?e.parentNode:e),Ki(),h}for(;i=e.lastChild;)e.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var u=jc(o);a.call(u)}}var o=pg(e,0,!1,null,null,!1,!1,"",Hx);return e._reactRootContainer=o,e[gr]=o.current,Ba(e.nodeType===8?e.parentNode:e),Ki(function(){Mc(t,o,n,r)}),o}function Ic(e,t,n,r,i){var s=n._reactRootContainer;if(s){var h=s;if(typeof i=="function"){var a=i;i=function(){var o=jc(h);a.call(o)}}Mc(t,h,e,i)}else h=E6(n,t,e,i,r);return jc(h)}Sb=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=_a(t.pendingLanes);n!==0&&($d(t,n|1),qt(t,it()),!(je&6)&&(vo=it()+500,ei()))}break;case 13:Ki(function(){var r=br(e,1);if(r!==null){var i=Nt();zn(r,e,1,i)}}),gg(e,1)}},Vd=function(e){if(e.tag===13){var t=br(e,134217728);if(t!==null){var n=Nt();zn(t,e,134217728,n)}gg(e,134217728)}},_b=function(e){if(e.tag===13){var t=oi(e),n=br(e,t);if(n!==null){var r=Nt();zn(n,e,t,r)}gg(e,t)}},Eb=function(){return ze},kb=function(e,t){var n=ze;try{return ze=e,t()}finally{ze=n}},Rd=function(e,t,n){switch(t){case"input":if(kd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=Zu(r);if(!i)throw Error(le(90));q1(r),kd(r,i)}}}break;case"textarea":tb(e,n);break;case"select":t=n.value,t!=null&&Ys(e,!!n.multiple,t,!1)}},cb=lg,fb=Ki;var k6={usingClientEntryPoint:!1,Events:[Va,ro,Zu,lb,ub,lg]},nl={findFiberByHostInstance:$i,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},T6={bundleType:nl.bundleType,version:nl.version,rendererPackageName:nl.rendererPackageName,rendererConfig:nl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pr.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=gb(e),e===null?null:e.stateNode},findFiberByHostInstance:nl.findFiberByHostInstance||_6,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Lc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Lc.isDisabled&&Lc.supportsFiber)try{Ru=Lc.inject(T6),Yn=Lc}catch{}}rn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=k6,rn.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vg(t))throw Error(le(200));return S6(e,t,null,n)},rn.createRoot=function(e,t){if(!vg(e))throw Error(le(299));var n=!1,r="",i=Vx;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(i=t.onRecoverableError)),t=pg(e,1,!1,null,null,n,!1,r,i),e[gr]=t.current,Ba(e.nodeType===8?e.parentNode:e),new mg(t)},rn.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(le(188)):(e=Object.keys(e).join(","),Error(le(268,e)));return e=gb(t),e=e===null?null:e.stateNode,e},rn.flushSync=function(e){return Ki(e)},rn.hydrate=function(e,t,n){if(!Fc(t))throw Error(le(200));return Ic(null,e,t,!0,n)},rn.hydrateRoot=function(e,t,n){if(!vg(e))throw Error(le(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",h=Vx;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(h=n.onRecoverableError)),t=Nx(t,null,e,1,n??null,i,!1,s,h),e[gr]=t.current,Ba(e),r)for(e=0;e<r.length;e++)n=r[e],i=n._getVersion,i=i(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Rc(t)},rn.render=function(e,t,n){if(!Fc(t))throw Error(le(200));return Ic(null,e,t,!1,n)},rn.unmountComponentAtNode=function(e){if(!Fc(e))throw Error(le(40));return e._reactRootContainer?(Ki(function(){Ic(null,null,e,!1,function(){e._reactRootContainer=null,e[gr]=null})}),!0):!1},rn.unstable_batchedUpdates=lg,rn.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Fc(n))throw Error(le(200));if(e==null||e._reactInternals===void 0)throw Error(le(38));return Ic(e,t,n,!1,r)},rn.version="18.3.1-next-f1338f8080-20240426";function Ux(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Ux)}catch(e){console.error(e)}}Ux(),B1.exports=rn;var bo=B1.exports,Wx,Xx=bo;Wx=Xx.createRoot,Xx.hydrateRoot;const Yx=k.createContext({transformPagePoint:e=>e,isStatic:!1,reducedMotion:"never"}),zc=k.createContext({}),yg=k.createContext(null),Bc=typeof document<"u",bg=Bc?k.useLayoutEffect:k.useEffect,wg=k.createContext({strict:!1}),xg=e=>e.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),Gx="data-"+xg("framerAppearId");function O6(e,t,n,r){const{visualElement:i}=k.useContext(zc),s=k.useContext(wg),h=k.useContext(yg),a=k.useContext(Yx).reducedMotion,o=k.useRef();r=r||s.renderer,!o.current&&r&&(o.current=r(e,{visualState:t,parent:i,props:n,presenceContext:h,blockInitialAnimation:h?h.initial===!1:!1,reducedMotionConfig:a}));const u=o.current;k.useInsertionEffect(()=>{u&&u.update(n,h)});const d=k.useRef(!!(n[Gx]&&!window.HandoffComplete));return bg(()=>{u&&(u.render(),d.current&&u.animationState&&u.animationState.animateChanges())}),k.useEffect(()=>{u&&(u.updateFeatures(),!d.current&&u.animationState&&u.animationState.animateChanges(),d.current&&(d.current=!1,window.HandoffComplete=!0))}),u}function Kx(e){return e&&typeof e=="object"&&Object.prototype.hasOwnProperty.call(e,"current")}function P6(e,t,n){return k.useCallback(r=>{r&&e.mount&&e.mount(r),t&&(r?t.mount(r):t.unmount()),n&&(typeof n=="function"?n(r):Kx(n)&&(n.current=r))},[t])}function rl(e){return typeof e=="string"||Array.isArray(e)}function Nc(e){return e!==null&&typeof e=="object"&&typeof e.start=="function"}const Cg=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Sg=["initial",...Cg];function $c(e){return Nc(e.animate)||Sg.some(t=>rl(e[t]))}function qx(e){return!!($c(e)||e.variants)}function D6(e,t){if($c(e)){const{initial:n,animate:r}=e;return{initial:n===!1||rl(n)?n:void 0,animate:rl(r)?r:void 0}}return e.inherit!==!1?t:{}}function A6(e){const{initial:t,animate:n}=D6(e,k.useContext(zc));return k.useMemo(()=>({initial:t,animate:n}),[Qx(t),Qx(n)])}function Qx(e){return Array.isArray(e)?e.join(" "):e}const Jx={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},il={};for(const e in Jx)il[e]={isEnabled:t=>Jx[e].some(n=>!!t[n])};function _g(e){for(const t in e)il[t]={...il[t],...e[t]}}const Zx=k.createContext({}),M6=k.createContext({}),j6=Symbol.for("motionComponentSymbol");function R6({preloadedFeatures:e,createVisualElement:t,useRender:n,useVisualState:r,Component:i}){e&&_g(e);function s(a,o){let u;const d={...k.useContext(Yx),...a,layoutId:F6(a)},{isStatic:l}=d,c=A6(a),f=r(a,l);if(!l&&Bc){c.visualElement=O6(i,f,d,t);const p=k.useContext(M6),m=k.useContext(wg).strict;c.visualElement&&(u=c.visualElement.loadFeatures(d,m,e,p))}return k.createElement(zc.Provider,{value:c},u&&c.visualElement?k.createElement(u,{visualElement:c.visualElement,...d}):null,n(i,a,P6(f,c.visualElement,o),f,l,c.visualElement))}const h=k.forwardRef(s);return h[j6]=i,h}function F6({layoutId:e}){const t=k.useContext(Zx).id;return t&&e!==void 0?t+"-"+e:e}function I6(e){function t(r,i={}){return R6(e(r,i))}if(typeof Proxy>"u")return t;const n=new Map;return new Proxy(t,{get:(r,i)=>(n.has(i)||n.set(i,t(i)),n.get(i))})}const L6=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function Eg(e){return typeof e!="string"||e.includes("-")?!1:!!(L6.indexOf(e)>-1||/[A-Z]/.test(e))}const z6={},sl=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Zi=new Set(sl);function e2(e,{layout:t,layoutId:n}){return Zi.has(e)||e.startsWith("origin")||(t||n!==void 0)&&(!!z6[e]||e==="opacity")}const cn=e=>!!(e&&e.getVelocity),B6={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},N6=sl.length;function $6(e,{enableHardwareAcceleration:t=!0,allowTransformNone:n=!0},r,i){let s="";for(let h=0;h<N6;h++){const a=sl[h];if(e[a]!==void 0){const o=B6[a]||a;s+=`${o}(${e[a]}) `}}return t&&!e.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(e,r?"":s):n&&r&&(s="none"),s}const t2=e=>t=>typeof t=="string"&&t.startsWith(e),n2=t2("--"),kg=t2("var(--"),V6=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,H6=(e,t)=>t&&typeof e=="number"?t.transform(e):e,wo=(e,t,n)=>Math.min(Math.max(n,e),t),es={test:e=>typeof e=="number",parse:parseFloat,transform:e=>e},ol={...es,transform:e=>wo(0,1,e)},Vc={...es,default:1},al=e=>Math.round(e*1e5)/1e5,Hc=/(-)?([\d]*\.?[\d])+/g,r2=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,U6=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function ll(e){return typeof e=="string"}const ul=e=>({test:t=>ll(t)&&t.endsWith(e)&&t.split(" ").length===1,parse:parseFloat,transform:t=>`${t}${e}`}),ui=ul("deg"),xo=ul("%"),Ee=ul("px"),W6=ul("vh"),X6=ul("vw"),i2={...xo,parse:e=>xo.parse(e)/100,transform:e=>xo.transform(e*100)},s2={...es,transform:Math.round},o2={borderWidth:Ee,borderTopWidth:Ee,borderRightWidth:Ee,borderBottomWidth:Ee,borderLeftWidth:Ee,borderRadius:Ee,radius:Ee,borderTopLeftRadius:Ee,borderTopRightRadius:Ee,borderBottomRightRadius:Ee,borderBottomLeftRadius:Ee,width:Ee,maxWidth:Ee,height:Ee,maxHeight:Ee,size:Ee,top:Ee,right:Ee,bottom:Ee,left:Ee,padding:Ee,paddingTop:Ee,paddingRight:Ee,paddingBottom:Ee,paddingLeft:Ee,margin:Ee,marginTop:Ee,marginRight:Ee,marginBottom:Ee,marginLeft:Ee,rotate:ui,rotateX:ui,rotateY:ui,rotateZ:ui,scale:Vc,scaleX:Vc,scaleY:Vc,scaleZ:Vc,skew:ui,skewX:ui,skewY:ui,distance:Ee,translateX:Ee,translateY:Ee,translateZ:Ee,x:Ee,y:Ee,z:Ee,perspective:Ee,transformPerspective:Ee,opacity:ol,originX:i2,originY:i2,originZ:Ee,zIndex:s2,fillOpacity:ol,strokeOpacity:ol,numOctaves:s2};function Tg(e,t,n,r){const{style:i,vars:s,transform:h,transformOrigin:a}=e;let o=!1,u=!1,d=!0;for(const l in t){const c=t[l];if(n2(l)){s[l]=c;continue}const f=o2[l],p=H6(c,f);if(Zi.has(l)){if(o=!0,h[l]=p,!d)continue;c!==(f.default||0)&&(d=!1)}else l.startsWith("origin")?(u=!0,a[l]=p):i[l]=p}if(t.transform||(o||r?i.transform=$6(e.transform,n,d,r):i.transform&&(i.transform="none")),u){const{originX:l="50%",originY:c="50%",originZ:f=0}=a;i.transformOrigin=`${l} ${c} ${f}`}}const Og=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function a2(e,t,n){for(const r in t)!cn(t[r])&&!e2(r,n)&&(e[r]=t[r])}function Y6({transformTemplate:e},t,n){return k.useMemo(()=>{const r=Og();return Tg(r,t,{enableHardwareAcceleration:!n},e),Object.assign({},r.vars,r.style)},[t])}function G6(e,t,n){const r=e.style||{},i={};return a2(i,r,e),Object.assign(i,Y6(e,t,n)),e.transformValues?e.transformValues(i):i}function K6(e,t,n){const r={},i=G6(e,t,n);return e.drag&&e.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=e.drag===!0?"none":`pan-${e.drag==="x"?"y":"x"}`),e.tabIndex===void 0&&(e.onTap||e.onTapStart||e.whileTap)&&(r.tabIndex=0),r.style=i,r}const q6=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Uc(e){return e.startsWith("while")||e.startsWith("drag")&&e!=="draggable"||e.startsWith("layout")||e.startsWith("onTap")||e.startsWith("onPan")||e.startsWith("onLayout")||q6.has(e)}let l2=e=>!Uc(e);function Q6(e){e&&(l2=t=>t.startsWith("on")?!Uc(t):e(t))}try{Q6(require("@emotion/is-prop-valid").default)}catch{}function J6(e,t,n){const r={};for(const i in e)i==="values"&&typeof e.values=="object"||(l2(i)||n===!0&&Uc(i)||!t&&!Uc(i)||e.draggable&&i.startsWith("onDrag"))&&(r[i]=e[i]);return r}function u2(e,t,n){return typeof e=="string"?e:Ee.transform(t+n*e)}function Z6(e,t,n){const r=u2(t,e.x,e.width),i=u2(n,e.y,e.height);return`${r} ${i}`}const eM={offset:"stroke-dashoffset",array:"stroke-dasharray"},tM={offset:"strokeDashoffset",array:"strokeDasharray"};function nM(e,t,n=1,r=0,i=!0){e.pathLength=1;const s=i?eM:tM;e[s.offset]=Ee.transform(-r);const h=Ee.transform(t),a=Ee.transform(n);e[s.array]=`${h} ${a}`}function Pg(e,{attrX:t,attrY:n,attrScale:r,originX:i,originY:s,pathLength:h,pathSpacing:a=1,pathOffset:o=0,...u},d,l,c){if(Tg(e,u,d,c),l){e.style.viewBox&&(e.attrs.viewBox=e.style.viewBox);return}e.attrs=e.style,e.style={};const{attrs:f,style:p,dimensions:m}=e;f.transform&&(m&&(p.transform=f.transform),delete f.transform),m&&(i!==void 0||s!==void 0||p.transform)&&(p.transformOrigin=Z6(m,i!==void 0?i:.5,s!==void 0?s:.5)),t!==void 0&&(f.x=t),n!==void 0&&(f.y=n),r!==void 0&&(f.scale=r),h!==void 0&&nM(f,h,a,o,!1)}const c2=()=>({...Og(),attrs:{}}),Dg=e=>typeof e=="string"&&e.toLowerCase()==="svg";function rM(e,t,n,r){const i=k.useMemo(()=>{const s=c2();return Pg(s,t,{enableHardwareAcceleration:!1},Dg(r),e.transformTemplate),{...s.attrs,style:{...s.style}}},[t]);if(e.style){const s={};a2(s,e.style,e),i.style={...s,...i.style}}return i}function iM(e=!1){return(n,r,i,{latestValues:s},h)=>{const o=(Eg(n)?rM:K6)(r,s,h,n),d={...J6(r,typeof n=="string",e),...o,ref:i},{children:l}=r,c=k.useMemo(()=>cn(l)?l.get():l,[l]);return k.createElement(n,{...d,children:c})}}function f2(e,{style:t,vars:n},r,i){Object.assign(e.style,t,i&&i.getProjectionStyles(r));for(const s in n)e.style.setProperty(s,n[s])}const h2=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function d2(e,t,n,r){f2(e,t,void 0,r);for(const i in t.attrs)e.setAttribute(h2.has(i)?i:xg(i),t.attrs[i])}function Ag(e,t){const{style:n}=e,r={};for(const i in n)(cn(n[i])||t.style&&cn(t.style[i])||e2(i,e))&&(r[i]=n[i]);return r}function p2(e,t){const n=Ag(e,t);for(const r in e)if(cn(e[r])||cn(t[r])){const i=sl.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=e[r]}return n}function Mg(e,t,n,r={},i={}){return typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),typeof t=="string"&&(t=e.variants&&e.variants[t]),typeof t=="function"&&(t=t(n!==void 0?n:e.custom,r,i)),t}function g2(e){const t=k.useRef(null);return t.current===null&&(t.current=e()),t.current}const Wc=e=>Array.isArray(e),sM=e=>!!(e&&typeof e=="object"&&e.mix&&e.toValue),oM=e=>Wc(e)?e[e.length-1]||0:e;function aM(e){const t=cn(e)?e.get():e;return sM(t)?t.toValue():t}function lM({scrapeMotionValuesFromProps:e,createRenderState:t,onMount:n},r,i,s){const h={latestValues:uM(r,i,s,e),renderState:t()};return n&&(h.mount=a=>n(r,a,h)),h}const m2=e=>(t,n)=>{const r=k.useContext(zc),i=k.useContext(yg),s=()=>lM(e,t,r,i);return n?s():g2(s)};function uM(e,t,n,r){const i={},s=r(e,{});for(const c in s)i[c]=aM(s[c]);let{initial:h,animate:a}=e;const o=$c(e),u=qx(e);t&&u&&!o&&e.inherit!==!1&&(h===void 0&&(h=t.initial),a===void 0&&(a=t.animate));let d=n?n.initial===!1:!1;d=d||h===!1;const l=d?a:h;return l&&typeof l!="boolean"&&!Nc(l)&&(Array.isArray(l)?l:[l]).forEach(f=>{const p=Mg(e,f);if(!p)return;const{transitionEnd:m,transition:g,...v}=p;for(const y in v){let b=v[y];if(Array.isArray(b)){const w=d?b.length-1:0;b=b[w]}b!==null&&(i[y]=b)}for(const y in m)i[y]=m[y]}),i}const Tt=e=>e;class v2{constructor(){this.order=[],this.scheduled=new Set}add(t){if(!this.scheduled.has(t))return this.scheduled.add(t),this.order.push(t),!0}remove(t){const n=this.order.indexOf(t);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(t))}clear(){this.order.length=0,this.scheduled.clear()}}function cM(e){let t=new v2,n=new v2,r=0,i=!1,s=!1;const h=new WeakSet,a={schedule:(o,u=!1,d=!1)=>{const l=d&&i,c=l?t:n;return u&&h.add(o),c.add(o)&&l&&i&&(r=t.order.length),o},cancel:o=>{n.remove(o),h.delete(o)},process:o=>{if(i){s=!0;return}if(i=!0,[t,n]=[n,t],n.clear(),r=t.order.length,r)for(let u=0;u<r;u++){const d=t.order[u];d(o),h.has(d)&&(a.schedule(d),e())}i=!1,s&&(s=!1,a.process(o))}};return a}const Xc=["prepare","read","update","preRender","render","postRender"],fM=40;function hM(e,t){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=Xc.reduce((l,c)=>(l[c]=cM(()=>n=!0),l),{}),h=l=>s[l].process(i),a=()=>{const l=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(l-i.timestamp,fM),1),i.timestamp=l,i.isProcessing=!0,Xc.forEach(h),i.isProcessing=!1,n&&t&&(r=!1,e(a))},o=()=>{n=!0,r=!0,i.isProcessing||e(a)};return{schedule:Xc.reduce((l,c)=>{const f=s[c];return l[c]=(p,m=!1,g=!1)=>(n||o(),f.schedule(p,m,g)),l},{}),cancel:l=>Xc.forEach(c=>s[c].cancel(l)),state:i,steps:s}}const{schedule:Ot,cancel:Yc,state:jg,steps:zH}=hM(typeof requestAnimationFrame<"u"?requestAnimationFrame:Tt,!0),dM={useVisualState:m2({scrapeMotionValuesFromProps:p2,createRenderState:c2,onMount:(e,t,{renderState:n,latestValues:r})=>{Ot.read(()=>{try{n.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Ot.render(()=>{Pg(n,r,{enableHardwareAcceleration:!1},Dg(t.tagName),e.transformTemplate),d2(t,n)})}})},pM={useVisualState:m2({scrapeMotionValuesFromProps:Ag,createRenderState:Og})};function gM(e,{forwardMotionProps:t=!1},n,r){return{...Eg(e)?dM:pM,preloadedFeatures:n,useRender:iM(t),createVisualElement:r,Component:e}}function ts(e,t,n,r={passive:!0}){return e.addEventListener(t,n,r),()=>e.removeEventListener(t,n)}const mM=e=>e.pointerType==="mouse"?typeof e.button!="number"||e.button<=0:e.isPrimary!==!1;function y2(e,t="page"){return{point:{x:e[t+"X"],y:e[t+"Y"]}}}const vM=e=>t=>mM(t)&&e(t,y2(t));function Gc(e,t,n,r){return ts(e,t,vM(n),r)}const yM=(e,t)=>n=>t(e(n)),ns=(...e)=>e.reduce(yM);function b2(e){let t=null;return()=>{const n=()=>{t=null};return t===null?(t=e,n):!1}}const w2=b2("dragHorizontal"),x2=b2("dragVertical");function bM(e){let t=!1;if(e==="y")t=x2();else if(e==="x")t=w2();else{const n=w2(),r=x2();n&&r?t=()=>{n(),r()}:(n&&n(),r&&r())}return t}function C2(){const e=bM(!0);return e?(e(),!1):!0}class Co{constructor(t){this.isMounted=!1,this.node=t}update(){}}function S2(e,t){const n="pointer"+(t?"enter":"leave"),r="onHover"+(t?"Start":"End"),i=(s,h)=>{if(s.pointerType==="touch"||C2())return;const a=e.getProps();e.animationState&&a.whileHover&&e.animationState.setActive("whileHover",t),a[r]&&Ot.update(()=>a[r](s,h))};return Gc(e.current,n,i,{passive:!e.getProps()[r]})}class wM extends Co{mount(){this.unmount=ns(S2(this.node,!0),S2(this.node,!1))}unmount(){}}class xM extends Co{constructor(){super(...arguments),this.isActive=!1}onFocus(){let t=!1;try{t=this.node.current.matches(":focus-visible")}catch{t=!0}!t||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ns(ts(this.node.current,"focus",()=>this.onFocus()),ts(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const _2=(e,t)=>t?e===t?!0:_2(e,t.parentElement):!1;function Rg(e,t){if(!t)return;const n=new PointerEvent("pointer"+e);t(n,y2(n))}class CM extends Co{constructor(){super(...arguments),this.removeStartListeners=Tt,this.removeEndListeners=Tt,this.removeAccessibleListeners=Tt,this.startPointerPress=(t,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Gc(window,"pointerup",(a,o)=>{if(!this.checkPressEnd())return;const{onTap:u,onTapCancel:d,globalTapTarget:l}=this.node.getProps();Ot.update(()=>{!l&&!_2(this.node.current,a.target)?d&&d(a,o):u&&u(a,o)})},{passive:!(r.onTap||r.onPointerUp)}),h=Gc(window,"pointercancel",(a,o)=>this.cancelPress(a,o),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ns(s,h),this.startPress(t,n)},this.startAccessiblePress=()=>{const t=s=>{if(s.key!=="Enter"||this.isPressing)return;const h=a=>{a.key!=="Enter"||!this.checkPressEnd()||Rg("up",(o,u)=>{const{onTap:d}=this.node.getProps();d&&Ot.update(()=>d(o,u))})};this.removeEndListeners(),this.removeEndListeners=ts(this.node.current,"keyup",h),Rg("down",(a,o)=>{this.startPress(a,o)})},n=ts(this.node.current,"keydown",t),r=()=>{this.isPressing&&Rg("cancel",(s,h)=>this.cancelPress(s,h))},i=ts(this.node.current,"blur",r);this.removeAccessibleListeners=ns(n,i)}}startPress(t,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Ot.update(()=>r(t,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!C2()}cancelPress(t,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Ot.update(()=>r(t,n))}mount(){const t=this.node.getProps(),n=Gc(t.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(t.onTapStart||t.onPointerStart)}),r=ts(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ns(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const Fg=new WeakMap,Ig=new WeakMap,SM=e=>{const t=Fg.get(e.target);t&&t(e)},_M=e=>{e.forEach(SM)};function EM({root:e,...t}){const n=e||document;Ig.has(n)||Ig.set(n,{});const r=Ig.get(n),i=JSON.stringify(t);return r[i]||(r[i]=new IntersectionObserver(_M,{root:e,...t})),r[i]}function kM(e,t,n){const r=EM(t);return Fg.set(e,n),r.observe(e),()=>{Fg.delete(e),r.unobserve(e)}}const TM={some:0,all:1};class OM extends Co{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:t={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=t,h={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:TM[i]},a=o=>{const{isIntersecting:u}=o;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:l}=this.node.getProps(),c=u?d:l;c&&c(o)};return kM(this.node.current,h,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:t,prevProps:n}=this.node;["amount","margin","root"].some(PM(t,n))&&this.startObserver()}unmount(){}}function PM({viewport:e={}},{viewport:t={}}={}){return n=>e[n]!==t[n]}const DM={inView:{Feature:OM},tap:{Feature:CM},focus:{Feature:xM},hover:{Feature:wM}};function E2(e,t){if(!Array.isArray(t))return!1;const n=t.length;if(n!==e.length)return!1;for(let r=0;r<n;r++)if(t[r]!==e[r])return!1;return!0}function AM(e){const t={};return e.values.forEach((n,r)=>t[r]=n.get()),t}function MM(e){const t={};return e.values.forEach((n,r)=>t[r]=n.getVelocity()),t}function Kc(e,t,n){const r=e.getProps();return Mg(r,t,n!==void 0?n:r.custom,AM(e),MM(e))}let jM=Tt,Lg=Tt;const rs=e=>e*1e3,ci=e=>e/1e3,RM={current:!1},k2=e=>Array.isArray(e)&&typeof e[0]=="number";function T2(e){return!!(!e||typeof e=="string"&&O2[e]||k2(e)||Array.isArray(e)&&e.every(T2))}const cl=([e,t,n,r])=>`cubic-bezier(${e}, ${t}, ${n}, ${r})`,O2={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:cl([0,.65,.55,1]),circOut:cl([.55,0,1,.45]),backIn:cl([.31,.01,.66,-.59]),backOut:cl([.33,1.53,.69,.99])};function P2(e){if(e)return k2(e)?cl(e):Array.isArray(e)?e.map(P2):O2[e]}function FM(e,t,n,{delay:r=0,duration:i,repeat:s=0,repeatType:h="loop",ease:a,times:o}={}){const u={[t]:n};o&&(u.offset=o);const d=P2(a);return Array.isArray(d)&&(u.easing=d),e.animate(u,{delay:r,duration:i,easing:Array.isArray(d)?"linear":d,fill:"both",iterations:s+1,direction:h==="reverse"?"alternate":"normal"})}function IM(e,{repeat:t,repeatType:n="loop"}){const r=t&&n!=="loop"&&t%2===1?0:e.length-1;return e[r]}const D2=(e,t,n)=>(((1-3*n+3*t)*e+(3*n-6*t))*e+3*t)*e,LM=1e-7,zM=12;function BM(e,t,n,r,i){let s,h,a=0;do h=t+(n-t)/2,s=D2(h,r,i)-e,s>0?n=h:t=h;while(Math.abs(s)>LM&&++a<zM);return h}function fl(e,t,n,r){if(e===t&&n===r)return Tt;const i=s=>BM(s,0,1,e,n);return s=>s===0||s===1?s:D2(i(s),t,r)}const NM=fl(.42,0,1,1),$M=fl(0,0,.58,1),A2=fl(.42,0,.58,1),VM=e=>Array.isArray(e)&&typeof e[0]!="number",M2=e=>t=>t<=.5?e(2*t)/2:(2-e(2*(1-t)))/2,j2=e=>t=>1-e(1-t),zg=e=>1-Math.sin(Math.acos(e)),HM=j2(zg),UM=M2(zg),R2=fl(.33,1.53,.69,.99),Bg=j2(R2),WM=M2(Bg),XM={linear:Tt,easeIn:NM,easeInOut:A2,easeOut:$M,circIn:zg,circInOut:UM,circOut:HM,backIn:Bg,backInOut:WM,backOut:R2,anticipate:e=>(e*=2)<1?.5*Bg(e):.5*(2-Math.pow(2,-10*(e-1)))},F2=e=>{if(Array.isArray(e)){Lg(e.length===4);const[t,n,r,i]=e;return fl(t,n,r,i)}else if(typeof e=="string")return XM[e];return e},Ng=(e,t)=>n=>!!(ll(n)&&U6.test(n)&&n.startsWith(e)||t&&Object.prototype.hasOwnProperty.call(n,t)),I2=(e,t,n)=>r=>{if(!ll(r))return r;const[i,s,h,a]=r.match(Hc);return{[e]:parseFloat(i),[t]:parseFloat(s),[n]:parseFloat(h),alpha:a!==void 0?parseFloat(a):1}},YM=e=>wo(0,255,e),$g={...es,transform:e=>Math.round(YM(e))},is={test:Ng("rgb","red"),parse:I2("red","green","blue"),transform:({red:e,green:t,blue:n,alpha:r=1})=>"rgba("+$g.transform(e)+", "+$g.transform(t)+", "+$g.transform(n)+", "+al(ol.transform(r))+")"};function GM(e){let t="",n="",r="",i="";return e.length>5?(t=e.substring(1,3),n=e.substring(3,5),r=e.substring(5,7),i=e.substring(7,9)):(t=e.substring(1,2),n=e.substring(2,3),r=e.substring(3,4),i=e.substring(4,5),t+=t,n+=n,r+=r,i+=i),{red:parseInt(t,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const Vg={test:Ng("#"),parse:GM,transform:is.transform},So={test:Ng("hsl","hue"),parse:I2("hue","saturation","lightness"),transform:({hue:e,saturation:t,lightness:n,alpha:r=1})=>"hsla("+Math.round(e)+", "+xo.transform(al(t))+", "+xo.transform(al(n))+", "+al(ol.transform(r))+")"},$t={test:e=>is.test(e)||Vg.test(e)||So.test(e),parse:e=>is.test(e)?is.parse(e):So.test(e)?So.parse(e):Vg.parse(e),transform:e=>ll(e)?e:e.hasOwnProperty("red")?is.transform(e):So.transform(e)},qc=(e,t,n)=>-n*e+n*t+e;function Hg(e,t,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?e+(t-e)*6*n:n<1/2?t:n<2/3?e+(t-e)*(2/3-n)*6:e}function KM({hue:e,saturation:t,lightness:n,alpha:r}){e/=360,t/=100,n/=100;let i=0,s=0,h=0;if(!t)i=s=h=n;else{const a=n<.5?n*(1+t):n+t-n*t,o=2*n-a;i=Hg(o,a,e+1/3),s=Hg(o,a,e),h=Hg(o,a,e-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(h*255),alpha:r}}const Ug=(e,t,n)=>{const r=e*e;return Math.sqrt(Math.max(0,n*(t*t-r)+r))},qM=[Vg,is,So],QM=e=>qM.find(t=>t.test(e));function L2(e){const t=QM(e);let n=t.parse(e);return t===So&&(n=KM(n)),n}const z2=(e,t)=>{const n=L2(e),r=L2(t),i={...n};return s=>(i.red=Ug(n.red,r.red,s),i.green=Ug(n.green,r.green,s),i.blue=Ug(n.blue,r.blue,s),i.alpha=qc(n.alpha,r.alpha,s),is.transform(i))};function JM(e){var t,n;return isNaN(e)&&ll(e)&&(((t=e.match(Hc))===null||t===void 0?void 0:t.length)||0)+(((n=e.match(r2))===null||n===void 0?void 0:n.length)||0)>0}const B2={regex:V6,countKey:"Vars",token:"${v}",parse:Tt},N2={regex:r2,countKey:"Colors",token:"${c}",parse:$t.parse},$2={regex:Hc,countKey:"Numbers",token:"${n}",parse:es.parse};function Wg(e,{regex:t,countKey:n,token:r,parse:i}){const s=e.tokenised.match(t);s&&(e["num"+n]=s.length,e.tokenised=e.tokenised.replace(t,r),e.values.push(...s.map(i)))}function Qc(e){const t=e.toString(),n={value:t,tokenised:t,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&Wg(n,B2),Wg(n,N2),Wg(n,$2),n}function V2(e){return Qc(e).values}function H2(e){const{values:t,numColors:n,numVars:r,tokenised:i}=Qc(e),s=t.length;return h=>{let a=i;for(let o=0;o<s;o++)o<r?a=a.replace(B2.token,h[o]):o<r+n?a=a.replace(N2.token,$t.transform(h[o])):a=a.replace($2.token,al(h[o]));return a}}const ZM=e=>typeof e=="number"?0:e;function ej(e){const t=V2(e);return H2(e)(t.map(ZM))}const _o={test:JM,parse:V2,createTransformer:H2,getAnimatableNone:ej},U2=(e,t)=>n=>`${n>0?t:e}`;function W2(e,t){return typeof e=="number"?n=>qc(e,t,n):$t.test(e)?z2(e,t):e.startsWith("var(")?U2(e,t):Y2(e,t)}const X2=(e,t)=>{const n=[...e],r=n.length,i=e.map((s,h)=>W2(s,t[h]));return s=>{for(let h=0;h<r;h++)n[h]=i[h](s);return n}},tj=(e,t)=>{const n={...e,...t},r={};for(const i in n)e[i]!==void 0&&t[i]!==void 0&&(r[i]=W2(e[i],t[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},Y2=(e,t)=>{const n=_o.createTransformer(t),r=Qc(e),i=Qc(t);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?ns(X2(r.values,i.values),n):U2(e,t)},G2=(e,t,n)=>{const r=t-e;return r===0?1:(n-e)/r},K2=(e,t)=>n=>qc(e,t,n);function nj(e){return typeof e=="number"?K2:typeof e=="string"?$t.test(e)?z2:Y2:Array.isArray(e)?X2:typeof e=="object"?tj:K2}function rj(e,t,n){const r=[],i=n||nj(e[0]),s=e.length-1;for(let h=0;h<s;h++){let a=i(e[h],e[h+1]);if(t){const o=Array.isArray(t)?t[h]||Tt:t;a=ns(o,a)}r.push(a)}return r}function q2(e,t,{clamp:n=!0,ease:r,mixer:i}={}){const s=e.length;if(Lg(s===t.length),s===1)return()=>t[0];e[0]>e[s-1]&&(e=[...e].reverse(),t=[...t].reverse());const h=rj(t,r,i),a=h.length,o=u=>{let d=0;if(a>1)for(;d<e.length-2&&!(u<e[d+1]);d++);const l=G2(e[d],e[d+1],u);return h[d](l)};return n?u=>o(wo(e[0],e[s-1],u)):o}function ij(e,t){const n=e[e.length-1];for(let r=1;r<=t;r++){const i=G2(0,t,r);e.push(qc(n,1,i))}}function sj(e){const t=[0];return ij(t,e.length-1),t}function oj(e,t){return e.map(n=>n*t)}function aj(e,t){return e.map(()=>t||A2).splice(0,e.length-1)}function Jc({duration:e=300,keyframes:t,times:n,ease:r="easeInOut"}){const i=VM(r)?r.map(F2):F2(r),s={done:!1,value:t[0]},h=oj(n&&n.length===t.length?n:sj(t),e),a=q2(h,t,{ease:Array.isArray(i)?i:aj(t,i)});return{calculatedDuration:e,next:o=>(s.value=a(o),s.done=o>=e,s)}}function Q2(e,t){return t?e*(1e3/t):0}const lj=5;function J2(e,t,n){const r=Math.max(t-lj,0);return Q2(n-e(r),t-r)}const Xg=.001,uj=.01,Z2=10,cj=.05,fj=1;function hj({duration:e=800,bounce:t=.25,velocity:n=0,mass:r=1}){let i,s;jM(e<=rs(Z2));let h=1-t;h=wo(cj,fj,h),e=wo(uj,Z2,ci(e)),h<1?(i=u=>{const d=u*h,l=d*e,c=d-n,f=Yg(u,h),p=Math.exp(-l);return Xg-c/f*p},s=u=>{const l=u*h*e,c=l*n+n,f=Math.pow(h,2)*Math.pow(u,2)*e,p=Math.exp(-l),m=Yg(Math.pow(u,2),h);return(-i(u)+Xg>0?-1:1)*((c-f)*p)/m}):(i=u=>{const d=Math.exp(-u*e),l=(u-n)*e+1;return-Xg+d*l},s=u=>{const d=Math.exp(-u*e),l=(n-u)*(e*e);return d*l});const a=5/e,o=pj(i,s,a);if(e=rs(e),isNaN(o))return{stiffness:100,damping:10,duration:e};{const u=Math.pow(o,2)*r;return{stiffness:u,damping:h*2*Math.sqrt(r*u),duration:e}}}const dj=12;function pj(e,t,n){let r=n;for(let i=1;i<dj;i++)r=r-e(r)/t(r);return r}function Yg(e,t){return e*Math.sqrt(1-t*t)}const gj=["duration","bounce"],mj=["stiffness","damping","mass"];function eC(e,t){return t.some(n=>e[n]!==void 0)}function vj(e){let t={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...e};if(!eC(e,mj)&&eC(e,gj)){const n=hj(e);t={...t,...n,mass:1},t.isResolvedFromDuration=!0}return t}function tC({keyframes:e,restDelta:t,restSpeed:n,...r}){const i=e[0],s=e[e.length-1],h={done:!1,value:i},{stiffness:a,damping:o,mass:u,duration:d,velocity:l,isResolvedFromDuration:c}=vj({...r,velocity:-ci(r.velocity||0)}),f=l||0,p=o/(2*Math.sqrt(a*u)),m=s-i,g=ci(Math.sqrt(a/u)),v=Math.abs(m)<5;n||(n=v?.01:2),t||(t=v?.005:.5);let y;if(p<1){const b=Yg(g,p);y=w=>{const C=Math.exp(-p*g*w);return s-C*((f+p*g*m)/b*Math.sin(b*w)+m*Math.cos(b*w))}}else if(p===1)y=b=>s-Math.exp(-g*b)*(m+(f+g*m)*b);else{const b=g*Math.sqrt(p*p-1);y=w=>{const C=Math.exp(-p*g*w),S=Math.min(b*w,300);return s-C*((f+p*g*m)*Math.sinh(S)+b*m*Math.cosh(S))/b}}return{calculatedDuration:c&&d||null,next:b=>{const w=y(b);if(c)h.done=b>=d;else{let C=f;b!==0&&(p<1?C=J2(y,b,w):C=0);const S=Math.abs(C)<=n,_=Math.abs(s-w)<=t;h.done=S&&_}return h.value=h.done?s:w,h}}}function nC({keyframes:e,velocity:t=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:h,min:a,max:o,restDelta:u=.5,restSpeed:d}){const l=e[0],c={done:!1,value:l},f=T=>a!==void 0&&T<a||o!==void 0&&T>o,p=T=>a===void 0?o:o===void 0||Math.abs(a-T)<Math.abs(o-T)?a:o;let m=n*t;const g=l+m,v=h===void 0?g:h(g);v!==g&&(m=v-l);const y=T=>-m*Math.exp(-T/r),b=T=>v+y(T),w=T=>{const R=y(T),F=b(T);c.done=Math.abs(R)<=u,c.value=c.done?v:F};let C,S;const _=T=>{f(c.value)&&(C=T,S=tC({keyframes:[c.value,p(c.value)],velocity:J2(b,T,c.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return _(0),{calculatedDuration:null,next:T=>{let R=!1;return!S&&C===void 0&&(R=!0,w(T),_(T)),C!==void 0&&T>C?S.next(T-C):(!R&&w(T),c)}}}const yj=e=>{const t=({timestamp:n})=>e(n);return{start:()=>Ot.update(t,!0),stop:()=>Yc(t),now:()=>jg.isProcessing?jg.timestamp:performance.now()}},rC=2e4;function iC(e){let t=0;const n=50;let r=e.next(t);for(;!r.done&&t<rC;)t+=n,r=e.next(t);return t>=rC?1/0:t}const bj={decay:nC,inertia:nC,tween:Jc,keyframes:Jc,spring:tC};function Zc({autoplay:e=!0,delay:t=0,driver:n=yj,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:h=0,repeatType:a="loop",onPlay:o,onStop:u,onComplete:d,onUpdate:l,...c}){let f=1,p=!1,m,g;const v=()=>{g=new Promise(A=>{m=A})};v();let y;const b=bj[i]||Jc;let w;b!==Jc&&typeof r[0]!="number"&&(w=q2([0,100],r,{clamp:!1}),r=[0,100]);const C=b({...c,keyframes:r});let S;a==="mirror"&&(S=b({...c,keyframes:[...r].reverse(),velocity:-(c.velocity||0)}));let _="idle",T=null,R=null,F=null;C.calculatedDuration===null&&s&&(C.calculatedDuration=iC(C));const{calculatedDuration:$}=C;let G=1/0,ne=1/0;$!==null&&(G=$+h,ne=G*(s+1)-h);let X=0;const J=A=>{if(R===null)return;f>0&&(R=Math.min(R,A)),f<0&&(R=Math.min(A-ne/f,R)),T!==null?X=T:X=Math.round(A-R)*f;const j=X-t*(f>=0?1:-1),H=f>=0?j<0:j>ne;X=Math.max(j,0),_==="finished"&&T===null&&(X=ne);let M=X,O=C;if(s){const U=Math.min(X,ne)/G;let ee=Math.floor(U),se=U%1;!se&&U>=1&&(se=1),se===1&&ee--,ee=Math.min(ee,s+1),!!(ee%2)&&(a==="reverse"?(se=1-se,h&&(se-=h/G)):a==="mirror"&&(O=S)),M=wo(0,1,se)*G}const I=H?{done:!1,value:r[0]}:O.next(M);w&&(I.value=w(I.value));let{done:B}=I;!H&&$!==null&&(B=f>=0?X>=ne:X<=0);const W=T===null&&(_==="finished"||_==="running"&&B);return l&&l(I.value),W&&V(),I},re=()=>{y&&y.stop(),y=void 0},ie=()=>{_="idle",re(),m(),v(),R=F=null},V=()=>{_="finished",d&&d(),re(),m()},E=()=>{if(p)return;y||(y=n(J));const A=y.now();o&&o(),T!==null?R=A-T:(!R||_==="finished")&&(R=A),_==="finished"&&v(),F=R,T=null,_="running",y.start()};e&&E();const P={then(A,j){return g.then(A,j)},get time(){return ci(X)},set time(A){A=rs(A),X=A,T!==null||!y||f===0?T=A:R=y.now()-A/f},get duration(){const A=C.calculatedDuration===null?iC(C):C.calculatedDuration;return ci(A)},get speed(){return f},set speed(A){A===f||!y||(f=A,P.time=ci(X))},get state(){return _},play:E,pause:()=>{_="paused",T=X},stop:()=>{p=!0,_!=="idle"&&(_="idle",u&&u(),ie())},cancel:()=>{F!==null&&J(F),ie()},complete:()=>{_="finished"},sample:A=>(R=0,J(A))};return P}function wj(e){let t;return()=>(t===void 0&&(t=e()),t)}const xj=wj(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Cj=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),ef=10,Sj=2e4,_j=(e,t)=>t.type==="spring"||e==="backgroundColor"||!T2(t.ease);function Ej(e,t,{onUpdate:n,onComplete:r,...i}){if(!(xj()&&Cj.has(t)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let h=!1,a,o,u=!1;const d=()=>{o=new Promise(b=>{a=b})};d();let{keyframes:l,duration:c=300,ease:f,times:p}=i;if(_j(t,i)){const b=Zc({...i,repeat:0,delay:0});let w={done:!1,value:l[0]};const C=[];let S=0;for(;!w.done&&S<Sj;)w=b.sample(S),C.push(w.value),S+=ef;p=void 0,l=C,c=S-ef,f="linear"}const m=FM(e.owner.current,t,l,{...i,duration:c,ease:f,times:p}),g=()=>{u=!1,m.cancel()},v=()=>{u=!0,Ot.update(g),a(),d()};return m.onfinish=()=>{u||(e.set(IM(l,i)),r&&r(),v())},{then(b,w){return o.then(b,w)},attachTimeline(b){return m.timeline=b,m.onfinish=null,Tt},get time(){return ci(m.currentTime||0)},set time(b){m.currentTime=rs(b)},get speed(){return m.playbackRate},set speed(b){m.playbackRate=b},get duration(){return ci(c)},play:()=>{h||(m.play(),Yc(g))},pause:()=>m.pause(),stop:()=>{if(h=!0,m.playState==="idle")return;const{currentTime:b}=m;if(b){const w=Zc({...i,autoplay:!1});e.setWithVelocity(w.sample(b-ef).value,w.sample(b).value,ef)}v()},complete:()=>{u||m.finish()},cancel:v}}function kj({keyframes:e,delay:t,onUpdate:n,onComplete:r}){const i=()=>(n&&n(e[e.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Tt,pause:Tt,stop:Tt,then:s=>(s(),Promise.resolve()),cancel:Tt,complete:Tt});return t?Zc({keyframes:[0,1],duration:0,delay:t,onComplete:i}):i()}const Tj={type:"spring",stiffness:500,damping:25,restSpeed:10},Oj=e=>({type:"spring",stiffness:550,damping:e===0?2*Math.sqrt(550):30,restSpeed:10}),Pj={type:"keyframes",duration:.8},Dj={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Aj=(e,{keyframes:t})=>t.length>2?Pj:Zi.has(e)?e.startsWith("scale")?Oj(t[1]):Tj:Dj,Gg=(e,t)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(_o.test(t)||t==="0")&&!t.startsWith("url(")),Mj=new Set(["brightness","contrast","saturate","opacity"]);function jj(e){const[t,n]=e.slice(0,-1).split("(");if(t==="drop-shadow")return e;const[r]=n.match(Hc)||[];if(!r)return e;const i=n.replace(r,"");let s=Mj.has(t)?1:0;return r!==n&&(s*=100),t+"("+s+i+")"}const Rj=/([a-z-]*)\(.*?\)/g,Kg={..._o,getAnimatableNone:e=>{const t=e.match(Rj);return t?t.map(jj).join(" "):e}},Fj={...o2,color:$t,backgroundColor:$t,outlineColor:$t,fill:$t,stroke:$t,borderColor:$t,borderTopColor:$t,borderRightColor:$t,borderBottomColor:$t,borderLeftColor:$t,filter:Kg,WebkitFilter:Kg},qg=e=>Fj[e];function sC(e,t){let n=qg(e);return n!==Kg&&(n=_o),n.getAnimatableNone?n.getAnimatableNone(t):void 0}const oC=e=>/^0[^.\s]+$/.test(e);function Ij(e){if(typeof e=="number")return e===0;if(e!==null)return e==="none"||e==="0"||oC(e)}function Lj(e,t,n,r){const i=Gg(t,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const h=r.from!==void 0?r.from:e.get();let a;const o=[];for(let u=0;u<s.length;u++)s[u]===null&&(s[u]=u===0?h:s[u-1]),Ij(s[u])&&o.push(u),typeof s[u]=="string"&&s[u]!=="none"&&s[u]!=="0"&&(a=s[u]);if(i&&o.length&&a)for(let u=0;u<o.length;u++){const d=o[u];s[d]=sC(t,a)}return s}function zj({when:e,delay:t,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:h,repeatDelay:a,from:o,elapsed:u,...d}){return!!Object.keys(d).length}function aC(e,t){return e[t]||e.default||e}const Bj={skipAnimations:!1},Nj=(e,t,n,r={})=>i=>{const s=aC(r,e)||{},h=s.delay||r.delay||0;let{elapsed:a=0}=r;a=a-rs(h);const o=Lj(t,e,n,s),u=o[0],d=o[o.length-1],l=Gg(e,u),c=Gg(e,d);let f={keyframes:o,velocity:t.getVelocity(),ease:"easeOut",...s,delay:-a,onUpdate:p=>{t.set(p),s.onUpdate&&s.onUpdate(p)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(zj(s)||(f={...f,...Aj(e,f)}),f.duration&&(f.duration=rs(f.duration)),f.repeatDelay&&(f.repeatDelay=rs(f.repeatDelay)),!l||!c||RM.current||s.type===!1||Bj.skipAnimations)return kj(f);if(!r.isHandoff&&t.owner&&t.owner.current instanceof HTMLElement&&!t.owner.getProps().onUpdate){const p=Ej(t,e,f);if(p)return p}return Zc(f)};function tf(e){return!!(cn(e)&&e.add)}const lC=e=>/^\-?\d*\.?\d+$/.test(e);function $j(e,t){e.indexOf(t)===-1&&e.push(t)}function Vj(e,t){const n=e.indexOf(t);n>-1&&e.splice(n,1)}class uC{constructor(){this.subscriptions=[]}add(t){return $j(this.subscriptions,t),()=>Vj(this.subscriptions,t)}notify(t,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](t,n,r);else for(let s=0;s<i;s++){const h=this.subscriptions[s];h&&h(t,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Hj=e=>!isNaN(parseFloat(e));class Uj{constructor(t,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:h}=jg;this.lastUpdated!==h&&(this.timeDelta=s,this.lastUpdated=h,Ot.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Ot.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=t,this.canTrackVelocity=Hj(this.current),this.owner=n.owner}onChange(t){return this.on("change",t)}on(t,n){this.events[t]||(this.events[t]=new uC);const r=this.events[t].add(n);return t==="change"?()=>{r(),Ot.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const t in this.events)this.events[t].clear()}attach(t,n){this.passiveEffect=t,this.stopPassiveEffect=n}set(t,n=!0){!n||!this.passiveEffect?this.updateAndNotify(t,n):this.passiveEffect(t,this.updateAndNotify)}setWithVelocity(t,n,r){this.set(n),this.prev=t,this.timeDelta=r}jump(t){this.updateAndNotify(t),this.prev=t,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?Q2(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(t){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=t(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function hl(e,t){return new Uj(e,t)}const cC=e=>t=>t.test(e),fC=[es,Ee,xo,ui,X6,W6,{test:e=>e==="auto",parse:e=>e}],dl=e=>fC.find(cC(e)),Wj=[...fC,$t,_o],Xj=e=>Wj.find(cC(e));function Yj(e,t,n){e.hasValue(t)?e.getValue(t).set(n):e.addValue(t,hl(n))}function Gj(e,t){const n=Kc(e,t);let{transitionEnd:r={},transition:i={},...s}=n?e.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const h in s){const a=oM(s[h]);Yj(e,h,a)}}function Kj(e,t,n){var r,i;const s=Object.keys(t).filter(a=>!e.hasValue(a)),h=s.length;if(h)for(let a=0;a<h;a++){const o=s[a],u=t[o];let d=null;Array.isArray(u)&&(d=u[0]),d===null&&(d=(i=(r=n[o])!==null&&r!==void 0?r:e.readValue(o))!==null&&i!==void 0?i:t[o]),d!=null&&(typeof d=="string"&&(lC(d)||oC(d))?d=parseFloat(d):!Xj(d)&&_o.test(u)&&(d=sC(o,u)),e.addValue(o,hl(d,{owner:e})),n[o]===void 0&&(n[o]=d),d!==null&&e.setBaseTarget(o,d))}}function qj(e,t){return t?(t[e]||t.default||t).from:void 0}function Qj(e,t,n){const r={};for(const i in e){const s=qj(i,t);if(s!==void 0)r[i]=s;else{const h=n.getValue(i);h&&(r[i]=h.get())}}return r}function Jj({protectedKeys:e,needsAnimating:t},n){const r=e.hasOwnProperty(n)&&t[n]!==!0;return t[n]=!1,r}function Zj(e,t){const n=e.get();if(Array.isArray(t)){for(let r=0;r<t.length;r++)if(t[r]!==n)return!0}else return n!==t}function hC(e,t,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=e.getDefaultTransition(),transitionEnd:h,...a}=e.makeTargetAnimatable(t);const o=e.getValue("willChange");r&&(s=r);const u=[],d=i&&e.animationState&&e.animationState.getState()[i];for(const l in a){const c=e.getValue(l),f=a[l];if(!c||f===void 0||d&&Jj(d,l))continue;const p={delay:n,elapsed:0,...aC(s||{},l)};if(window.HandoffAppearAnimations){const v=e.getProps()[Gx];if(v){const y=window.HandoffAppearAnimations(v,l,c,Ot);y!==null&&(p.elapsed=y,p.isHandoff=!0)}}let m=!p.isHandoff&&!Zj(c,f);if(p.type==="spring"&&(c.getVelocity()||p.velocity)&&(m=!1),c.animation&&(m=!1),m)continue;c.start(Nj(l,c,f,e.shouldReduceMotion&&Zi.has(l)?{type:!1}:p));const g=c.animation;tf(o)&&(o.add(l),g.then(()=>o.remove(l))),u.push(g)}return h&&Promise.all(u).then(()=>{h&&Gj(e,h)}),u}function Qg(e,t,n={}){const r=Kc(e,t,n.custom);let{transition:i=e.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(hC(e,r,n)):()=>Promise.resolve(),h=e.variantChildren&&e.variantChildren.size?(o=0)=>{const{delayChildren:u=0,staggerChildren:d,staggerDirection:l}=i;return e8(e,t,u+o,d,l,n)}:()=>Promise.resolve(),{when:a}=i;if(a){const[o,u]=a==="beforeChildren"?[s,h]:[h,s];return o().then(()=>u())}else return Promise.all([s(),h(n.delay)])}function e8(e,t,n=0,r=0,i=1,s){const h=[],a=(e.variantChildren.size-1)*r,o=i===1?(u=0)=>u*r:(u=0)=>a-u*r;return Array.from(e.variantChildren).sort(t8).forEach((u,d)=>{u.notify("AnimationStart",t),h.push(Qg(u,t,{...s,delay:n+o(d)}).then(()=>u.notify("AnimationComplete",t)))}),Promise.all(h)}function t8(e,t){return e.sortNodePosition(t)}function n8(e,t,n={}){e.notify("AnimationStart",t);let r;if(Array.isArray(t)){const i=t.map(s=>Qg(e,s,n));r=Promise.all(i)}else if(typeof t=="string")r=Qg(e,t,n);else{const i=typeof t=="function"?Kc(e,t,n.custom):t;r=Promise.all(hC(e,i,n))}return r.then(()=>e.notify("AnimationComplete",t))}const r8=[...Cg].reverse(),i8=Cg.length;function s8(e){return t=>Promise.all(t.map(({animation:n,options:r})=>n8(e,n,r)))}function o8(e){let t=s8(e);const n=l8();let r=!0;const i=(o,u)=>{const d=Kc(e,u);if(d){const{transition:l,transitionEnd:c,...f}=d;o={...o,...f,...c}}return o};function s(o){t=o(e)}function h(o,u){const d=e.getProps(),l=e.getVariantContext(!0)||{},c=[],f=new Set;let p={},m=1/0;for(let v=0;v<i8;v++){const y=r8[v],b=n[y],w=d[y]!==void 0?d[y]:l[y],C=rl(w),S=y===u?b.isActive:null;S===!1&&(m=v);let _=w===l[y]&&w!==d[y]&&C;if(_&&r&&e.manuallyAnimateOnMount&&(_=!1),b.protectedKeys={...p},!b.isActive&&S===null||!w&&!b.prevProp||Nc(w)||typeof w=="boolean")continue;let R=a8(b.prevProp,w)||y===u&&b.isActive&&!_&&C||v>m&&C,F=!1;const $=Array.isArray(w)?w:[w];let G=$.reduce(i,{});S===!1&&(G={});const{prevResolvedValues:ne={}}=b,X={...ne,...G},J=re=>{R=!0,f.has(re)&&(F=!0,f.delete(re)),b.needsAnimating[re]=!0};for(const re in X){const ie=G[re],V=ne[re];if(p.hasOwnProperty(re))continue;let E=!1;Wc(ie)&&Wc(V)?E=!E2(ie,V):E=ie!==V,E?ie!==void 0?J(re):f.add(re):ie!==void 0&&f.has(re)?J(re):b.protectedKeys[re]=!0}b.prevProp=w,b.prevResolvedValues=G,b.isActive&&(p={...p,...G}),r&&e.blockInitialAnimation&&(R=!1),R&&(!_||F)&&c.push(...$.map(re=>({animation:re,options:{type:y,...o}})))}if(f.size){const v={};f.forEach(y=>{const b=e.getBaseTarget(y);b!==void 0&&(v[y]=b)}),c.push({animation:v})}let g=!!c.length;return r&&(d.initial===!1||d.initial===d.animate)&&!e.manuallyAnimateOnMount&&(g=!1),r=!1,g?t(c):Promise.resolve()}function a(o,u,d){var l;if(n[o].isActive===u)return Promise.resolve();(l=e.variantChildren)===null||l===void 0||l.forEach(f=>{var p;return(p=f.animationState)===null||p===void 0?void 0:p.setActive(o,u)}),n[o].isActive=u;const c=h(d,o);for(const f in n)n[f].protectedKeys={};return c}return{animateChanges:h,setActive:a,setAnimateFunction:s,getState:()=>n}}function a8(e,t){return typeof t=="string"?t!==e:Array.isArray(t)?!E2(t,e):!1}function ss(e=!1){return{isActive:e,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function l8(){return{animate:ss(!0),whileInView:ss(),whileHover:ss(),whileTap:ss(),whileDrag:ss(),whileFocus:ss(),exit:ss()}}class u8 extends Co{constructor(t){super(t),t.animationState||(t.animationState=o8(t))}updateAnimationControlsSubscription(){const{animate:t}=this.node.getProps();this.unmount(),Nc(t)&&(this.unmount=t.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:t}=this.node.getProps(),{animate:n}=this.node.prevProps||{};t!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let c8=0;class f8 extends Co{constructor(){super(...arguments),this.id=c8++}update(){if(!this.node.presenceContext)return;const{isPresent:t,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||t===i)return;const s=this.node.animationState.setActive("exit",!t,{custom:r??this.node.getProps().custom});n&&!t&&s.then(()=>n(this.id))}mount(){const{register:t}=this.node.presenceContext||{};t&&(this.unmount=t(this.id))}unmount(){}}const h8={animation:{Feature:u8},exit:{Feature:f8}},dC=()=>({min:0,max:0}),pC=()=>({x:dC(),y:dC()});function d8({top:e,left:t,right:n,bottom:r}){return{x:{min:t,max:n},y:{min:e,max:r}}}function p8(e,t){if(!t)return e;const n=t({x:e.left,y:e.top}),r=t({x:e.right,y:e.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function g8(e,t){return d8(p8(e.getBoundingClientRect(),t))}const m8=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function v8(e){const t=m8.exec(e);if(!t)return[,];const[,n,r]=t;return[n,r]}function Jg(e,t,n=1){const[r,i]=v8(e);if(!r)return;const s=window.getComputedStyle(t).getPropertyValue(r);if(s){const h=s.trim();return lC(h)?parseFloat(h):h}else return kg(i)?Jg(i,t,n+1):i}function y8(e,{...t},n){const r=e.current;if(!(r instanceof Element))return{target:t,transitionEnd:n};n&&(n={...n}),e.values.forEach(i=>{const s=i.get();if(!kg(s))return;const h=Jg(s,r);h&&i.set(h)});for(const i in t){const s=t[i];if(!kg(s))continue;const h=Jg(s,r);h&&(t[i]=h,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:t,transitionEnd:n}}const b8=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),gC=e=>b8.has(e),w8=e=>Object.keys(e).some(gC),mC=e=>e===es||e===Ee,vC=(e,t)=>parseFloat(e.split(", ")[t]),yC=(e,t)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return vC(i[1],t);{const s=r.match(/^matrix\((.+)\)$/);return s?vC(s[1],e):0}},x8=new Set(["x","y","z"]),C8=sl.filter(e=>!x8.has(e));function S8(e){const t=[];return C8.forEach(n=>{const r=e.getValue(n);r!==void 0&&(t.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),t.length&&e.render(),t}const Eo={width:({x:e},{paddingLeft:t="0",paddingRight:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),height:({y:e},{paddingTop:t="0",paddingBottom:n="0"})=>e.max-e.min-parseFloat(t)-parseFloat(n),top:(e,{top:t})=>parseFloat(t),left:(e,{left:t})=>parseFloat(t),bottom:({y:e},{top:t})=>parseFloat(t)+(e.max-e.min),right:({x:e},{left:t})=>parseFloat(t)+(e.max-e.min),x:yC(4,13),y:yC(5,14)};Eo.translateX=Eo.x,Eo.translateY=Eo.y;const _8=(e,t,n)=>{const r=t.measureViewportBox(),i=t.current,s=getComputedStyle(i),{display:h}=s,a={};h==="none"&&t.setStaticValue("display",e.display||"block"),n.forEach(u=>{a[u]=Eo[u](r,s)}),t.render();const o=t.measureViewportBox();return n.forEach(u=>{const d=t.getValue(u);d&&d.jump(a[u]),e[u]=Eo[u](o,s)}),e},E8=(e,t,n={},r={})=>{t={...t},r={...r};const i=Object.keys(t).filter(gC);let s=[],h=!1;const a=[];if(i.forEach(o=>{const u=e.getValue(o);if(!e.hasValue(o))return;let d=n[o],l=dl(d);const c=t[o];let f;if(Wc(c)){const p=c.length,m=c[0]===null?1:0;d=c[m],l=dl(d);for(let g=m;g<p&&c[g]!==null;g++)f?Lg(dl(c[g])===f):f=dl(c[g])}else f=dl(c);if(l!==f)if(mC(l)&&mC(f)){const p=u.get();typeof p=="string"&&u.set(parseFloat(p)),typeof c=="string"?t[o]=parseFloat(c):Array.isArray(c)&&f===Ee&&(t[o]=c.map(parseFloat))}else l!=null&&l.transform&&(f!=null&&f.transform)&&(d===0||c===0)?d===0?u.set(f.transform(d)):t[o]=l.transform(c):(h||(s=S8(e),h=!0),a.push(o),r[o]=r[o]!==void 0?r[o]:t[o],u.jump(c))}),a.length){const o=a.indexOf("height")>=0?window.pageYOffset:null,u=_8(t,e,a);return s.length&&s.forEach(([d,l])=>{e.getValue(d).set(l)}),e.render(),Bc&&o!==null&&window.scrollTo({top:o}),{target:u,transitionEnd:r}}else return{target:t,transitionEnd:r}};function k8(e,t,n,r){return w8(t)?E8(e,t,n,r):{target:t,transitionEnd:r}}const T8=(e,t,n,r)=>{const i=y8(e,t,r);return t=i.target,r=i.transitionEnd,k8(e,t,n,r)},Zg={current:null},bC={current:!1};function O8(){if(bC.current=!0,!!Bc)if(window.matchMedia){const e=window.matchMedia("(prefers-reduced-motion)"),t=()=>Zg.current=e.matches;e.addListener(t),t()}else Zg.current=!1}function P8(e,t,n){const{willChange:r}=t;for(const i in t){const s=t[i],h=n[i];if(cn(s))e.addValue(i,s),tf(r)&&r.add(i);else if(cn(h))e.addValue(i,hl(s,{owner:e})),tf(r)&&r.remove(i);else if(h!==s)if(e.hasValue(i)){const a=e.getValue(i);!a.hasAnimated&&a.set(s)}else{const a=e.getStaticValue(i);e.addValue(i,hl(a!==void 0?a:s,{owner:e}))}}for(const i in n)t[i]===void 0&&e.removeValue(i);return t}const wC=new WeakMap,xC=Object.keys(il),D8=xC.length,CC=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],A8=Sg.length;class M8{constructor({parent:t,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},h={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Ot.render(this.render,!1,!0);const{latestValues:a,renderState:o}=s;this.latestValues=a,this.baseTarget={...a},this.initialValues=n.initial?{...a}:{},this.renderState=o,this.parent=t,this.props=n,this.presenceContext=r,this.depth=t?t.depth+1:0,this.reducedMotionConfig=i,this.options=h,this.isControllingVariants=$c(n),this.isVariantNode=qx(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(t&&t.current);const{willChange:u,...d}=this.scrapeMotionValuesFromProps(n,{});for(const l in d){const c=d[l];a[l]!==void 0&&cn(c)&&(c.set(a[l],!1),tf(u)&&u.add(l))}}scrapeMotionValuesFromProps(t,n){return{}}mount(t){this.current=t,wC.set(t,this),this.projection&&!this.projection.instance&&this.projection.mount(t),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),bC.current||O8(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Zg.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){wC.delete(this.current),this.projection&&this.projection.unmount(),Yc(this.notifyUpdate),Yc(this.render),this.valueSubscriptions.forEach(t=>t()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const t in this.events)this.events[t].clear();for(const t in this.features)this.features[t].unmount();this.current=null}bindToMotionValue(t,n){const r=Zi.has(t),i=n.on("change",h=>{this.latestValues[t]=h,this.props.onUpdate&&Ot.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(t,()=>{i(),s()})}sortNodePosition(t){return!this.current||!this.sortInstanceNodePosition||this.type!==t.type?0:this.sortInstanceNodePosition(this.current,t.current)}loadFeatures({children:t,...n},r,i,s){let h,a;for(let o=0;o<D8;o++){const u=xC[o],{isEnabled:d,Feature:l,ProjectionNode:c,MeasureLayout:f}=il[u];c&&(h=c),d(n)&&(!this.features[u]&&l&&(this.features[u]=new l(this)),f&&(a=f))}if((this.type==="html"||this.type==="svg")&&!this.projection&&h){this.projection=new h(this.latestValues,this.parent&&this.parent.projection);const{layoutId:o,layout:u,drag:d,dragConstraints:l,layoutScroll:c,layoutRoot:f}=n;this.projection.setOptions({layoutId:o,layout:u,alwaysMeasureLayout:!!d||l&&Kx(l),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof u=="string"?u:"both",initialPromotionConfig:s,layoutScroll:c,layoutRoot:f})}return a}updateFeatures(){for(const t in this.features){const n=this.features[t];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pC()}getStaticValue(t){return this.latestValues[t]}setStaticValue(t,n){this.latestValues[t]=n}makeTargetAnimatable(t,n=!0){return this.makeTargetAnimatableFromInstance(t,this.props,n)}update(t,n){(t.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=t,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<CC.length;r++){const i=CC[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=t["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=P8(this,this.scrapeMotionValuesFromProps(t,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(t){return this.props.variants?this.props.variants[t]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(t=!1){if(t)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<A8;r++){const i=Sg[r],s=this.props[i];(rl(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(t){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(t),()=>n.variantChildren.delete(t)}addValue(t,n){n!==this.values.get(t)&&(this.removeValue(t),this.bindToMotionValue(t,n)),this.values.set(t,n),this.latestValues[t]=n.get()}removeValue(t){this.values.delete(t);const n=this.valueSubscriptions.get(t);n&&(n(),this.valueSubscriptions.delete(t)),delete this.latestValues[t],this.removeValueFromRenderState(t,this.renderState)}hasValue(t){return this.values.has(t)}getValue(t,n){if(this.props.values&&this.props.values[t])return this.props.values[t];let r=this.values.get(t);return r===void 0&&n!==void 0&&(r=hl(n,{owner:this}),this.addValue(t,r)),r}readValue(t){var n;return this.latestValues[t]!==void 0||!this.current?this.latestValues[t]:(n=this.getBaseTargetFromProps(this.props,t))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,t,this.options)}setBaseTarget(t,n){this.baseTarget[t]=n}getBaseTarget(t){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=Mg(this.props,r))===null||n===void 0?void 0:n[t]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,t);return s!==void 0&&!cn(s)?s:this.initialValues[t]!==void 0&&i===void 0?void 0:this.baseTarget[t]}on(t,n){return this.events[t]||(this.events[t]=new uC),this.events[t].add(n)}notify(t,...n){this.events[t]&&this.events[t].notify(...n)}}class SC extends M8{sortInstanceNodePosition(t,n){return t.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(t,n){return t.style?t.style[n]:void 0}removeValueFromRenderState(t,{vars:n,style:r}){delete n[t],delete r[t]}makeTargetAnimatableFromInstance({transition:t,transitionEnd:n,...r},{transformValues:i},s){let h=Qj(r,t||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),h&&(h=i(h))),s){Kj(this,r,h);const a=T8(this,r,h,n);n=a.transitionEnd,r=a.target}return{transition:t,transitionEnd:n,...r}}}function j8(e){return window.getComputedStyle(e)}class R8 extends SC{constructor(){super(...arguments),this.type="html"}readValueFromInstance(t,n){if(Zi.has(n)){const r=qg(n);return r&&r.default||0}else{const r=j8(t),i=(n2(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(t,{transformPagePoint:n}){return g8(t,n)}build(t,n,r,i){Tg(t,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(t,n){return Ag(t,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:t}=this.props;cn(t)&&(this.childSubscription=t.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(t,n,r,i){f2(t,n,r,i)}}class F8 extends SC{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(t,n){return t[n]}readValueFromInstance(t,n){if(Zi.has(n)){const r=qg(n);return r&&r.default||0}return n=h2.has(n)?n:xg(n),t.getAttribute(n)}measureInstanceViewportBox(){return pC()}scrapeMotionValuesFromProps(t,n){return p2(t,n)}build(t,n,r,i){Pg(t,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(t,n,r,i){d2(t,n,r,i)}mount(t){this.isSVGTag=Dg(t.tagName),super.mount(t)}}const I8=(e,t)=>Eg(e)?new F8(t,{enableHardwareAcceleration:!1}):new R8(t,{enableHardwareAcceleration:!0}),Pt=I6(gM);function _C(){const e=k.useRef(!1);return bg(()=>(e.current=!0,()=>{e.current=!1}),[]),e}function L8(){const e=_C(),[t,n]=k.useState(0),r=k.useCallback(()=>{e.current&&n(t+1)},[t]);return[k.useCallback(()=>Ot.postRender(r),[r]),t]}class z8 extends k.Component{getSnapshotBeforeUpdate(t){const n=this.props.childRef.current;if(n&&t.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function B8({children:e,isPresent:t}){const n=k.useId(),r=k.useRef(null),i=k.useRef({width:0,height:0,top:0,left:0});return k.useInsertionEffect(()=>{const{width:s,height:h,top:a,left:o}=i.current;if(t||!r.current||!s||!h)return;r.current.dataset.motionPopId=n;const u=document.createElement("style");return document.head.appendChild(u),u.sheet&&u.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${h}px !important;
            top: ${a}px !important;
            left: ${o}px !important;
          }
        `),()=>{document.head.removeChild(u)}},[t]),k.createElement(z8,{isPresent:t,childRef:r,sizeRef:i},k.cloneElement(e,{ref:r}))}const em=({children:e,initial:t,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:h})=>{const a=g2(N8),o=k.useId(),u=k.useMemo(()=>({id:o,initial:t,isPresent:n,custom:i,onExitComplete:d=>{a.set(d,!0);for(const l of a.values())if(!l)return;r&&r()},register:d=>(a.set(d,!1),()=>a.delete(d))}),s?void 0:[n]);return k.useMemo(()=>{a.forEach((d,l)=>a.set(l,!1))},[n]),k.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),h==="popLayout"&&(e=k.createElement(B8,{isPresent:n},e)),k.createElement(yg.Provider,{value:u},e)};function N8(){return new Map}function $8(e){return k.useEffect(()=>()=>e(),[])}const os=e=>e.key||"";function V8(e,t){e.forEach(n=>{const r=os(n);t.set(r,n)})}function H8(e){const t=[];return k.Children.forEach(e,n=>{k.isValidElement(n)&&t.push(n)}),t}const Sr=({children:e,custom:t,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:h="sync"})=>{const a=k.useContext(Zx).forceRender||L8()[0],o=_C(),u=H8(e);let d=u;const l=k.useRef(new Map).current,c=k.useRef(d),f=k.useRef(new Map).current,p=k.useRef(!0);if(bg(()=>{p.current=!1,V8(u,f),c.current=d}),$8(()=>{p.current=!0,f.clear(),l.clear()}),p.current)return k.createElement(k.Fragment,null,d.map(y=>k.createElement(em,{key:os(y),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:h},y)));d=[...d];const m=c.current.map(os),g=u.map(os),v=m.length;for(let y=0;y<v;y++){const b=m[y];g.indexOf(b)===-1&&!l.has(b)&&l.set(b,void 0)}return h==="wait"&&l.size&&(d=[]),l.forEach((y,b)=>{if(g.indexOf(b)!==-1)return;const w=f.get(b);if(!w)return;const C=m.indexOf(b);let S=y;if(!S){const _=()=>{l.delete(b);const T=Array.from(f.keys()).filter(R=>!g.includes(R));if(T.forEach(R=>f.delete(R)),c.current=u.filter(R=>{const F=os(R);return F===b||T.includes(F)}),!l.size){if(o.current===!1)return;a(),r&&r()}};S=k.createElement(em,{key:os(w),isPresent:!1,onExitComplete:_,custom:t,presenceAffectsLayout:s,mode:h},w),l.set(b,S)}d.splice(C,0,S)}),d=d.map(y=>{const b=y.key;return l.has(b)?y:k.createElement(em,{key:os(y),isPresent:!0,presenceAffectsLayout:s,mode:h},y)}),k.createElement(k.Fragment,null,l.size?d:d.map(y=>k.cloneElement(y)))};function U8({children:e,features:t,strict:n=!1}){const[,r]=k.useState(!tm(t)),i=k.useRef(void 0);if(!tm(t)){const{renderer:s,...h}=t;i.current=s,_g(h)}return k.useEffect(()=>{tm(t)&&t().then(({renderer:s,...h})=>{_g(h),i.current=s,r(!0)})},[]),k.createElement(wg.Provider,{value:{renderer:i.current,strict:n}},e)}function tm(e){return typeof e=="function"}const W8={renderer:I8,...h8,...DM},fn=typeof document<"u"?de.useLayoutEffect:()=>{},nf={prefix:String(Math.round(Math.random()*1e10)),current:0},EC=de.createContext(nf),X8=de.createContext(!1);let Y8=!!(typeof window<"u"&&window.document&&window.document.createElement),nm=new WeakMap;function G8(e=!1){let t=k.useContext(EC),n=k.useRef(null);if(n.current===null&&!e){var r,i;let s=(i=de.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED)===null||i===void 0||(r=i.ReactCurrentOwner)===null||r===void 0?void 0:r.current;if(s){let h=nm.get(s);h==null?nm.set(s,{id:t.current,state:s.memoizedState}):s.memoizedState!==h.state&&(t.current=h.id,nm.delete(s))}n.current=++t.current}return n.current}function K8(e){let t=k.useContext(EC);t===nf&&!Y8&&console.warn("When server rendering, you must wrap your application in an <SSRProvider> to ensure consistent ids are generated between the client and server.");let n=G8(!!e),r=`react-aria${t.prefix}`;return e||`${r}-${n}`}function q8(e){let t=de.useId(),[n]=k.useState(rm()),r=n?"react-aria":`react-aria${nf.prefix}`;return e||`${r}-${t}`}de.useId;function Q8(){return!1}function J8(){return!0}function Z8(e){return()=>{}}function rm(){return typeof de.useSyncExternalStore=="function"?de.useSyncExternalStore(Z8,Q8,J8):k.useContext(X8)}let kC=new Map;function eR(e,t){if(e===t)return e;let n=kC.get(e);if(n)return n(t),t;let r=kC.get(t);return r?(r(e),e):t}function tR(...e){return(...t)=>{for(let n of e)typeof n=="function"&&n(...t)}}const Dt=e=>{var t;return(t=e==null?void 0:e.ownerDocument)!==null&&t!==void 0?t:document},rf=e=>e&&"window"in e&&e.window===e?e:Dt(e).defaultView||window;function _r(...e){let t={...e[0]};for(let n=1;n<e.length;n++){let r=e[n];for(let i in r){let s=t[i],h=r[i];typeof s=="function"&&typeof h=="function"&&i[0]==="o"&&i[1]==="n"&&i.charCodeAt(2)>=65&&i.charCodeAt(2)<=90?t[i]=tR(s,h):(i==="className"||i==="UNSAFE_className")&&typeof s=="string"&&typeof h=="string"?t[i]=ce(s,h):i==="id"&&s&&h?t.id=eR(s,h):t[i]=h!==void 0?h:s}}return t}function TC(e){if(nR())e.focus({preventScroll:!0});else{let t=rR(e);e.focus(),iR(t)}}let sf=null;function nR(){if(sf==null){sf=!1;try{document.createElement("div").focus({get preventScroll(){return sf=!0,!0}})}catch{}}return sf}function rR(e){let t=e.parentNode,n=[],r=document.scrollingElement||document.documentElement;for(;t instanceof HTMLElement&&t!==r;)(t.offsetHeight<t.scrollHeight||t.offsetWidth<t.scrollWidth)&&n.push({element:t,scrollTop:t.scrollTop,scrollLeft:t.scrollLeft}),t=t.parentNode;return r instanceof HTMLElement&&n.push({element:r,scrollTop:r.scrollTop,scrollLeft:r.scrollLeft}),n}function iR(e){for(let{element:t,scrollTop:n,scrollLeft:r}of e)t.scrollTop=n,t.scrollLeft=r}function sR(e){var t;return typeof window>"u"||window.navigator==null?!1:((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.brands.some(n=>e.test(n.brand)))||e.test(window.navigator.userAgent)}function oR(e){var t;return typeof window<"u"&&window.navigator!=null?e.test(((t=window.navigator.userAgentData)===null||t===void 0?void 0:t.platform)||window.navigator.platform):!1}function OC(){return oR(/^Mac/i)}function aR(){return sR(/Android/i)}let ko=new Map,im=new Set;function PC(){if(typeof window>"u")return;function e(r){return"propertyName"in r}let t=r=>{if(!e(r)||!r.target)return;let i=ko.get(r.target);i||(i=new Set,ko.set(r.target,i),r.target.addEventListener("transitioncancel",n,{once:!0})),i.add(r.propertyName)},n=r=>{if(!e(r)||!r.target)return;let i=ko.get(r.target);if(i&&(i.delete(r.propertyName),i.size===0&&(r.target.removeEventListener("transitioncancel",n),ko.delete(r.target)),ko.size===0)){for(let s of im)s();im.clear()}};document.body.addEventListener("transitionrun",t),document.body.addEventListener("transitionend",n)}typeof document<"u"&&(document.readyState!=="loading"?PC():document.addEventListener("DOMContentLoaded",PC));function lR(e){requestAnimationFrame(()=>{ko.size===0?e():im.add(e)})}function sm(){let e=k.useRef(new Map),t=k.useCallback((i,s,h,a)=>{let o=a!=null&&a.once?(...u)=>{e.current.delete(h),h(...u)}:h;e.current.set(h,{type:s,eventTarget:i,fn:o,options:a}),i.addEventListener(s,h,a)},[]),n=k.useCallback((i,s,h,a)=>{var o;let u=((o=e.current.get(h))===null||o===void 0?void 0:o.fn)||h;i.removeEventListener(s,u,a),e.current.delete(h)},[]),r=k.useCallback(()=>{e.current.forEach((i,s)=>{n(i.eventTarget,i.type,s,i.options)})},[n]);return k.useEffect(()=>r,[r]),{addGlobalListener:t,removeGlobalListener:n,removeAllGlobalListeners:r}}function as(e){const t=k.useRef(null);return k.useMemo(()=>({get current(){return t.current},set current(n){t.current=n,typeof e=="function"?e(n):e&&(e.current=n)}}),[e])}let En=typeof document<"u"&&window.visualViewport;function uR(){let e=rm(),[t,n]=k.useState(()=>e?{width:0,height:0}:DC());return k.useEffect(()=>{let r=()=>{n(i=>{let s=DC();return s.width===i.width&&s.height===i.height?i:s})};return En?En.addEventListener("resize",r):window.addEventListener("resize",r),()=>{En?En.removeEventListener("resize",r):window.removeEventListener("resize",r)}},[]),t}function DC(){return{width:En&&(En==null?void 0:En.width)||window.innerWidth,height:En&&(En==null?void 0:En.height)||window.innerHeight}}function cR(e){return e.mozInputSource===0&&e.isTrusted?!0:aR()&&e.pointerType?e.type==="click"&&e.buttons===1:e.detail===0&&!e.pointerType}function fi(e,t,n){let[r,i]=k.useState(e||t),s=k.useRef(e!==void 0),h=e!==void 0;k.useEffect(()=>{let u=s.current;u!==h&&console.warn(`WARN: A component changed from ${u?"controlled":"uncontrolled"} to ${h?"controlled":"uncontrolled"}.`),s.current=h},[h]);let a=h?e:r,o=k.useCallback((u,...d)=>{let l=(c,...f)=>{n&&(Object.is(a,c)||n(c,...f)),h||(a=c)};typeof u=="function"?(console.warn("We can not support a function callback. See Github Issues for details https://github.com/adobe/react-spectrum/issues/2320"),i((f,...p)=>{let m=u(h?a:f,...p);return l(m,...d),h?f:m})):(h||i(u),l(u,...d))},[h,a,n]);return[a,o]}function ls(e,t=-1/0,n=1/0){return Math.min(Math.max(e,t),n)}function of(e,t){let n=e,r=t.toString(),i=r.indexOf("."),s=i>=0?r.length-i:0;if(s>0){let h=Math.pow(10,s);n=Math.round(n*h)/h}return n}function fR(e,t,n,r){t=Number(t),n=Number(n);let i=(e-(isNaN(t)?0:t))%r,s=of(Math.abs(i)*2>=r?e+Math.sign(i)*(r-Math.abs(i)):e-i,r);return isNaN(t)?!isNaN(n)&&s>n&&(s=Math.floor(of(n/r,r))*r):s<t?s=t:!isNaN(n)&&s>n&&(s=t+Math.floor(of((n-t)/r,r))*r),s=of(s,r),s}function at(e,t,n=10){const r=Math.pow(n,t);return Math.round(e*r)/r}var Ce={};const om=Ze(Object.freeze(Object.defineProperty({__proto__:null,default:{}},Symbol.toStringTag,{value:"Module"})));(function(e){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var t=t||{version:"5.3.0"};if(e.fabric=t,typeof document<"u"&&typeof window<"u")document instanceof(typeof HTMLDocument<"u"?HTMLDocument:Document)?t.document=document:t.document=document.implementation.createHTMLDocument(""),t.window=window;else{var n=om,r=new n.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;t.document=r.document,t.jsdomImplForWrapper=om.implForWrapper,t.nodeCanvas=om.Canvas,t.window=r,DOMParser=t.window.DOMParser}t.isTouchSupported="ontouchstart"in t.window||"ontouchstart"in t.document||t.window&&t.window.navigator&&t.window.navigator.maxTouchPoints>0,t.isLikelyNode=typeof Buffer<"u"&&typeof window>"u",t.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],t.DPI=96,t.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",t.commaWsp="(?:\\s+,?\\s*|,\\s*)",t.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,t.reNonWord=/[ \n\.,;!\?\-]/,t.fontPaths={},t.iMatrix=[1,0,0,1,0,0],t.svgNS="http://www.w3.org/2000/svg",t.perfLimitSizeTotal=2097152,t.maxCacheSideLimit=4096,t.minCacheSideLimit=256,t.charWidthsCache={},t.textureSize=2048,t.disableStyleCopyPaste=!1,t.enableGLFiltering=!0,t.devicePixelRatio=t.window.devicePixelRatio||t.window.webkitDevicePixelRatio||t.window.mozDevicePixelRatio||1,t.browserShadowBlurConstant=1,t.arcToSegmentsCache={},t.boundsOfCurveCache={},t.cachesBoundsOfCurve=!0,t.forceGLPutImageData=!1,t.initFilterBackend=function(){if(t.enableGLFiltering&&t.isWebglSupported&&t.isWebglSupported(t.textureSize))return console.log("max texture size: "+t.maxTextureSize),new t.WebglFilterBackend({tileSize:t.textureSize});if(t.Canvas2dFilterBackend)return new t.Canvas2dFilterBackend},typeof document<"u"&&typeof window<"u"&&(window.fabric=t),function(){function a(f,p){if(this.__eventListeners[f]){var m=this.__eventListeners[f];p?m[m.indexOf(p)]=!1:t.util.array.fill(m,!1)}}function o(f,p){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var m in f)this.on(m,f[m]);else this.__eventListeners[f]||(this.__eventListeners[f]=[]),this.__eventListeners[f].push(p);return this}function u(f,p){var m=(function(){p.apply(this,arguments),this.off(f,m)}).bind(this);this.on(f,m)}function d(f,p){if(arguments.length===1)for(var m in f)u.call(this,m,f[m]);else u.call(this,f,p);return this}function l(f,p){if(!this.__eventListeners)return this;if(arguments.length===0)for(f in this.__eventListeners)a.call(this,f);else if(arguments.length===1&&typeof arguments[0]=="object")for(var m in f)a.call(this,m,f[m]);else a.call(this,f,p);return this}function c(f,p){if(!this.__eventListeners)return this;var m=this.__eventListeners[f];if(!m)return this;for(var g=0,v=m.length;g<v;g++)m[g]&&m[g].call(this,p||{});return this.__eventListeners[f]=m.filter(function(y){return y!==!1}),this}t.Observable={fire:c,on:o,once:d,off:l}}(),t.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var a=0,o=arguments.length;a<o;a++)this._onObjectAdded(arguments[a]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(a,o,u){var d=this._objects;return u?d[o]=a:d.splice(o,0,a),this._onObjectAdded&&this._onObjectAdded(a),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var a=this._objects,o,u=!1,d=0,l=arguments.length;d<l;d++)o=a.indexOf(arguments[d]),o!==-1&&(u=!0,a.splice(o,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[d]));return this.renderOnAddRemove&&u&&this.requestRenderAll(),this},forEachObject:function(a,o){for(var u=this.getObjects(),d=0,l=u.length;d<l;d++)a.call(o,u[d],d,u);return this},getObjects:function(a){return typeof a>"u"?this._objects.concat():this._objects.filter(function(o){return o.type===a})},item:function(a){return this._objects[a]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(a,o){return this._objects.indexOf(a)>-1?!0:o?this._objects.some(function(u){return typeof u.contains=="function"&&u.contains(a,!0)}):!1},complexity:function(){return this._objects.reduce(function(a,o){return a+=o.complexity?o.complexity():0,a},0)}},t.CommonMethods={_setOptions:function(a){for(var o in a)this.set(o,a[o])},_initGradient:function(a,o){a&&a.colorStops&&!(a instanceof t.Gradient)&&this.set(o,new t.Gradient(a))},_initPattern:function(a,o,u){a&&a.source&&!(a instanceof t.Pattern)?this.set(o,new t.Pattern(a,u)):u&&u()},_setObject:function(a){for(var o in a)this._set(o,a[o])},set:function(a,o){return typeof a=="object"?this._setObject(a):this._set(a,o),this},_set:function(a,o){this[a]=o},toggle:function(a){var o=this.get(a);return typeof o=="boolean"&&this.set(a,!o),this},get:function(a){return this[a]}},function(a){var o=Math.sqrt,u=Math.atan2,d=Math.pow,l=Math.PI/180,c=Math.PI/2;t.util={cos:function(f){if(f===0)return 1;f<0&&(f=-f);var p=f/c;switch(p){case 1:case 3:return 0;case 2:return-1}return Math.cos(f)},sin:function(f){if(f===0)return 0;var p=f/c,m=1;switch(f<0&&(m=-1),p){case 1:return m;case 2:return 0;case 3:return-m}return Math.sin(f)},removeFromArray:function(f,p){var m=f.indexOf(p);return m!==-1&&f.splice(m,1),f},getRandomInt:function(f,p){return Math.floor(Math.random()*(p-f+1))+f},degreesToRadians:function(f){return f*l},radiansToDegrees:function(f){return f/l},rotatePoint:function(f,p,m){var g=new t.Point(f.x-p.x,f.y-p.y),v=t.util.rotateVector(g,m);return new t.Point(v.x,v.y).addEquals(p)},rotateVector:function(f,p){var m=t.util.sin(p),g=t.util.cos(p),v=f.x*g-f.y*m,y=f.x*m+f.y*g;return{x:v,y}},createVector:function(f,p){return new t.Point(p.x-f.x,p.y-f.y)},calcAngleBetweenVectors:function(f,p){return Math.acos((f.x*p.x+f.y*p.y)/(Math.hypot(f.x,f.y)*Math.hypot(p.x,p.y)))},getHatVector:function(f){return new t.Point(f.x,f.y).multiply(1/Math.hypot(f.x,f.y))},getBisector:function(f,p,m){var g=t.util.createVector(f,p),v=t.util.createVector(f,m),y=t.util.calcAngleBetweenVectors(g,v),b=t.util.calcAngleBetweenVectors(t.util.rotateVector(g,y),v),w=y*(b===0?1:-1)/2;return{vector:t.util.getHatVector(t.util.rotateVector(g,w)),angle:y}},projectStrokeOnPoints:function(f,p,m){var g=[],v=p.strokeWidth/2,y=p.strokeUniform?new t.Point(1/p.scaleX,1/p.scaleY):new t.Point(1,1),b=function(w){var C=v/Math.hypot(w.x,w.y);return new t.Point(w.x*C*y.x,w.y*C*y.y)};return f.length<=1||f.forEach(function(w,C){var S=new t.Point(w.x,w.y),_,T;C===0?(T=f[C+1],_=m?b(t.util.createVector(T,S)).addEquals(S):f[f.length-1]):C===f.length-1?(_=f[C-1],T=m?b(t.util.createVector(_,S)).addEquals(S):f[0]):(_=f[C-1],T=f[C+1]);var R=t.util.getBisector(S,_,T),F=R.vector,$=R.angle,G,ne;if(p.strokeLineJoin==="miter"&&(G=-v/Math.sin($/2),ne=new t.Point(F.x*G*y.x,F.y*G*y.y),Math.hypot(ne.x,ne.y)/v<=p.strokeMiterLimit)){g.push(S.add(ne)),g.push(S.subtract(ne));return}G=-v*Math.SQRT2,ne=new t.Point(F.x*G*y.x,F.y*G*y.y),g.push(S.add(ne)),g.push(S.subtract(ne))}),g},transformPoint:function(f,p,m){return m?new t.Point(p[0]*f.x+p[2]*f.y,p[1]*f.x+p[3]*f.y):new t.Point(p[0]*f.x+p[2]*f.y+p[4],p[1]*f.x+p[3]*f.y+p[5])},makeBoundingBoxFromPoints:function(f,p){if(p)for(var m=0;m<f.length;m++)f[m]=t.util.transformPoint(f[m],p);var g=[f[0].x,f[1].x,f[2].x,f[3].x],v=t.util.array.min(g),y=t.util.array.max(g),b=y-v,w=[f[0].y,f[1].y,f[2].y,f[3].y],C=t.util.array.min(w),S=t.util.array.max(w),_=S-C;return{left:v,top:C,width:b,height:_}},invertTransform:function(f){var p=1/(f[0]*f[3]-f[1]*f[2]),m=[p*f[3],-p*f[1],-p*f[2],p*f[0]],g=t.util.transformPoint({x:f[4],y:f[5]},m,!0);return m[4]=-g.x,m[5]=-g.y,m},toFixed:function(f,p){return parseFloat(Number(f).toFixed(p))},parseUnit:function(f,p){var m=/\D{0,2}$/.exec(f),g=parseFloat(f);switch(p||(p=t.Text.DEFAULT_SVG_FONT_SIZE),m[0]){case"mm":return g*t.DPI/25.4;case"cm":return g*t.DPI/2.54;case"in":return g*t.DPI;case"pt":return g*t.DPI/72;case"pc":return g*t.DPI/72*12;case"em":return g*p;default:return g}},falseFunction:function(){return!1},getKlass:function(f,p){return f=t.util.string.camelize(f.charAt(0).toUpperCase()+f.slice(1)),t.util.resolveNamespace(p)[f]},getSvgAttributes:function(f){var p=["instantiated_by_use","style","id","class"];switch(f){case"linearGradient":p=p.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":p=p.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":p=p.concat(["offset","stop-color","stop-opacity"]);break}return p},resolveNamespace:function(f){if(!f)return t;var p=f.split("."),m=p.length,g,v=a||t.window;for(g=0;g<m;++g)v=v[p[g]];return v},loadImage:function(f,p,m,g){if(!f){p&&p.call(m,f);return}var v=t.util.createImage(),y=function(){p&&p.call(m,v,!1),v=v.onload=v.onerror=null};v.onload=y,v.onerror=function(){t.log("Error loading "+v.src),p&&p.call(m,null,!0),v=v.onload=v.onerror=null},f.indexOf("data")!==0&&g!==void 0&&g!==null&&(v.crossOrigin=g),f.substring(0,14)==="data:image/svg"&&(v.onload=null,t.util.loadImageInDom(v,y)),v.src=f},loadImageInDom:function(f,p){var m=t.document.createElement("div");m.style.width=m.style.height="1px",m.style.left=m.style.top="-100%",m.style.position="absolute",m.appendChild(f),t.document.querySelector("body").appendChild(m),f.onload=function(){p(),m.parentNode.removeChild(m),m=null}},enlivenObjects:function(f,p,m,g){f=f||[];var v=[],y=0,b=f.length;function w(){++y===b&&p&&p(v.filter(function(C){return C}))}if(!b){p&&p(v);return}f.forEach(function(C,S){if(!C||!C.type){w();return}var _=t.util.getKlass(C.type,m);_.fromObject(C,function(T,R){R||(v[S]=T),g&&g(C,T,R),w()})})},enlivenObjectEnlivables:function(f,p,m){var g=t.Object.ENLIVEN_PROPS.filter(function(v){return!!f[v]});t.util.enlivenObjects(g.map(function(v){return f[v]}),function(v){var y={};g.forEach(function(b,w){y[b]=v[w],p&&(p[b]=v[w])}),m&&m(y)})},enlivenPatterns:function(f,p){f=f||[];function m(){++v===y&&p&&p(g)}var g=[],v=0,y=f.length;if(!y){p&&p(g);return}f.forEach(function(b,w){b&&b.source?new t.Pattern(b,function(C){g[w]=C,m()}):(g[w]=b,m())})},groupSVGElements:function(f,p,m){var g;return f&&f.length===1?(typeof m<"u"&&(f[0].sourcePath=m),f[0]):(p&&(p.width&&p.height?p.centerPoint={x:p.width/2,y:p.height/2}:(delete p.width,delete p.height)),g=new t.Group(f,p),typeof m<"u"&&(g.sourcePath=m),g)},populateWithProperties:function(f,p,m){if(m&&Array.isArray(m))for(var g=0,v=m.length;g<v;g++)m[g]in f&&(p[m[g]]=f[m[g]])},createCanvasElement:function(){return t.document.createElement("canvas")},copyCanvasElement:function(f){var p=t.util.createCanvasElement();return p.width=f.width,p.height=f.height,p.getContext("2d").drawImage(f,0,0),p},toDataURL:function(f,p,m){return f.toDataURL("image/"+p,m)},createImage:function(){return t.document.createElement("img")},multiplyTransformMatrices:function(f,p,m){return[f[0]*p[0]+f[2]*p[1],f[1]*p[0]+f[3]*p[1],f[0]*p[2]+f[2]*p[3],f[1]*p[2]+f[3]*p[3],m?0:f[0]*p[4]+f[2]*p[5]+f[4],m?0:f[1]*p[4]+f[3]*p[5]+f[5]]},qrDecompose:function(f){var p=u(f[1],f[0]),m=d(f[0],2)+d(f[1],2),g=o(m),v=(f[0]*f[3]-f[2]*f[1])/g,y=u(f[0]*f[2]+f[1]*f[3],m);return{angle:p/l,scaleX:g,scaleY:v,skewX:y/l,skewY:0,translateX:f[4],translateY:f[5]}},calcRotateMatrix:function(f){if(!f.angle)return t.iMatrix.concat();var p=t.util.degreesToRadians(f.angle),m=t.util.cos(p),g=t.util.sin(p);return[m,g,-g,m,0,0]},calcDimensionsMatrix:function(f){var p=typeof f.scaleX>"u"?1:f.scaleX,m=typeof f.scaleY>"u"?1:f.scaleY,g=[f.flipX?-p:p,0,0,f.flipY?-m:m,0,0],v=t.util.multiplyTransformMatrices,y=t.util.degreesToRadians;return f.skewX&&(g=v(g,[1,0,Math.tan(y(f.skewX)),1],!0)),f.skewY&&(g=v(g,[1,Math.tan(y(f.skewY)),0,1],!0)),g},composeMatrix:function(f){var p=[1,0,0,1,f.translateX||0,f.translateY||0],m=t.util.multiplyTransformMatrices;return f.angle&&(p=m(p,t.util.calcRotateMatrix(f))),(f.scaleX!==1||f.scaleY!==1||f.skewX||f.skewY||f.flipX||f.flipY)&&(p=m(p,t.util.calcDimensionsMatrix(f))),p},resetObjectTransform:function(f){f.scaleX=1,f.scaleY=1,f.skewX=0,f.skewY=0,f.flipX=!1,f.flipY=!1,f.rotate(0)},saveObjectTransform:function(f){return{scaleX:f.scaleX,scaleY:f.scaleY,skewX:f.skewX,skewY:f.skewY,angle:f.angle,left:f.left,flipX:f.flipX,flipY:f.flipY,top:f.top}},isTransparent:function(f,p,m,g){g>0&&(p>g?p-=g:p=0,m>g?m-=g:m=0);var v=!0,y,b,w=f.getImageData(p,m,g*2||1,g*2||1),C=w.data.length;for(y=3;y<C&&(b=w.data[y],v=b<=0,v!==!1);y+=4);return w=null,v},parsePreserveAspectRatioAttribute:function(f){var p="meet",m="Mid",g="Mid",v=f.split(" "),y;return v&&v.length&&(p=v.pop(),p!=="meet"&&p!=="slice"?(y=p,p="meet"):v.length&&(y=v.pop())),m=y!=="none"?y.slice(1,4):"none",g=y!=="none"?y.slice(5,8):"none",{meetOrSlice:p,alignX:m,alignY:g}},clearFabricFontCache:function(f){f=(f||"").toLowerCase(),f?t.charWidthsCache[f]&&delete t.charWidthsCache[f]:t.charWidthsCache={}},limitDimsByArea:function(f,p){var m=Math.sqrt(p*f),g=Math.floor(p/m);return{x:Math.floor(m),y:g}},capValue:function(f,p,m){return Math.max(f,Math.min(p,m))},findScaleToFit:function(f,p){return Math.min(p.width/f.width,p.height/f.height)},findScaleToCover:function(f,p){return Math.max(p.width/f.width,p.height/f.height)},matrixToSVG:function(f){return"matrix("+f.map(function(p){return t.util.toFixed(p,t.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(f,p){var m=t.util.invertTransform(p),g=t.util.multiplyTransformMatrices(m,f.calcOwnMatrix());t.util.applyTransformToObject(f,g)},addTransformToObject:function(f,p){t.util.applyTransformToObject(f,t.util.multiplyTransformMatrices(p,f.calcOwnMatrix()))},applyTransformToObject:function(f,p){var m=t.util.qrDecompose(p),g=new t.Point(m.translateX,m.translateY);f.flipX=!1,f.flipY=!1,f.set("scaleX",m.scaleX),f.set("scaleY",m.scaleY),f.skewX=m.skewX,f.skewY=m.skewY,f.angle=m.angle,f.setPositionByOrigin(g,"center","center")},sizeAfterTransform:function(f,p,m){var g=f/2,v=p/2,y=[{x:-g,y:-v},{x:g,y:-v},{x:-g,y:v},{x:g,y:v}],b=t.util.calcDimensionsMatrix(m),w=t.util.makeBoundingBoxFromPoints(y,b);return{x:w.width,y:w.height}},mergeClipPaths:function(f,p){var m=f,g=p;m.inverted&&!g.inverted&&(m=p,g=f),t.util.applyTransformToObject(g,t.util.multiplyTransformMatrices(t.util.invertTransform(m.calcTransformMatrix()),g.calcTransformMatrix()));var v=m.inverted&&g.inverted;return v&&(m.inverted=g.inverted=!1),new t.Group([m],{clipPath:g,inverted:v})},hasStyleChanged:function(f,p,m){return m=m||!1,f.fill!==p.fill||f.stroke!==p.stroke||f.strokeWidth!==p.strokeWidth||f.fontSize!==p.fontSize||f.fontFamily!==p.fontFamily||f.fontWeight!==p.fontWeight||f.fontStyle!==p.fontStyle||f.textBackgroundColor!==p.textBackgroundColor||f.deltaY!==p.deltaY||m&&(f.overline!==p.overline||f.underline!==p.underline||f.linethrough!==p.linethrough)},stylesToArray:function(m,p){for(var m=t.util.object.clone(m,!0),g=p.split(`
`),v=-1,y={},b=[],w=0;w<g.length;w++){if(!m[w]){v+=g[w].length;continue}for(var C=0;C<g[w].length;C++){v++;var S=m[w][C];if(S&&Object.keys(S).length>0){var _=t.util.hasStyleChanged(y,S,!0);_?b.push({start:v,end:v+1,style:S}):b[b.length-1].end++}y=S||{}}}return b},stylesFromArray:function(f,p){if(!Array.isArray(f))return f;for(var m=p.split(`
`),g=-1,v=0,y={},b=0;b<m.length;b++)for(var w=0;w<m[b].length;w++)g++,f[v]&&f[v].start<=g&&g<f[v].end&&(y[b]=y[b]||{},y[b][w]=Object.assign({},f[v].style),g===f[v].end-1&&v++);return y}}}(e),function(){var a=Array.prototype.join,o={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},u={m:"l",M:"L"};function d(E,P,A,j,H,M,O,I,B,W,U){var ee=t.util.cos(E),se=t.util.sin(E),fe=t.util.cos(P),Y=t.util.sin(P),z=A*H*fe-j*M*Y+O,K=j*H*fe+A*M*Y+I,te=W+B*(-A*H*se-j*M*ee),N=U+B*(-j*H*se+A*M*ee),q=z+B*(A*H*Y+j*M*fe),ue=K+B*(j*H*Y-A*M*fe);return["C",te,N,q,ue,z,K]}function l(E,P,A,j,H,M,O){var I=Math.PI,B=O*I/180,W=t.util.sin(B),U=t.util.cos(B),ee=0,se=0;A=Math.abs(A),j=Math.abs(j);var fe=-U*E*.5-W*P*.5,Y=-U*P*.5+W*E*.5,z=A*A,K=j*j,te=Y*Y,N=fe*fe,q=z*K-z*te-K*N,ue=0;if(q<0){var we=Math.sqrt(1-q/(z*K));A*=we,j*=we}else ue=(H===M?-1:1)*Math.sqrt(q/(z*te+K*N));var ve=ue*A*Y/j,Z=-ue*j*fe/A,me=U*ve-W*Z+E*.5,Se=W*ve+U*Z+P*.5,Pe=c(1,0,(fe-ve)/A,(Y-Z)/j),Ue=c((fe-ve)/A,(Y-Z)/j,(-fe-ve)/A,(-Y-Z)/j);M===0&&Ue>0?Ue-=2*I:M===1&&Ue<0&&(Ue+=2*I);for(var Be=Math.ceil(Math.abs(Ue/I*2)),Ut=[],ct=Ue/Be,Es=8/3*Math.sin(ct/4)*Math.sin(ct/4)/Math.sin(ct/2),Ul=Pe+ct,or=0;or<Be;or++)Ut[or]=d(Pe,Ul,U,W,A,j,me,Se,Es,ee,se),ee=Ut[or][5],se=Ut[or][6],Pe=Ul,Ul+=ct;return Ut}function c(E,P,A,j){var H=Math.atan2(P,E),M=Math.atan2(j,A);return M>=H?M-H:2*Math.PI-(H-M)}function f(E,P,A,j,H,M,O,I){var B;if(t.cachesBoundsOfCurve&&(B=a.call(arguments),t.boundsOfCurveCache[B]))return t.boundsOfCurveCache[B];var W=Math.sqrt,U=Math.min,ee=Math.max,se=Math.abs,fe=[],Y=[[],[]],z,K,te,N,q,ue,we,ve;K=6*E-12*A+6*H,z=-3*E+9*A-9*H+3*O,te=3*A-3*E;for(var Z=0;Z<2;++Z){if(Z>0&&(K=6*P-12*j+6*M,z=-3*P+9*j-9*M+3*I,te=3*j-3*P),se(z)<1e-12){if(se(K)<1e-12)continue;N=-te/K,0<N&&N<1&&fe.push(N);continue}we=K*K-4*te*z,!(we<0)&&(ve=W(we),q=(-K+ve)/(2*z),0<q&&q<1&&fe.push(q),ue=(-K-ve)/(2*z),0<ue&&ue<1&&fe.push(ue))}for(var me,Se,Pe=fe.length,Ue=Pe,Be;Pe--;)N=fe[Pe],Be=1-N,me=Be*Be*Be*E+3*Be*Be*N*A+3*Be*N*N*H+N*N*N*O,Y[0][Pe]=me,Se=Be*Be*Be*P+3*Be*Be*N*j+3*Be*N*N*M+N*N*N*I,Y[1][Pe]=Se;Y[0][Ue]=E,Y[1][Ue]=P,Y[0][Ue+1]=O,Y[1][Ue+1]=I;var Ut=[{x:U.apply(null,Y[0]),y:U.apply(null,Y[1])},{x:ee.apply(null,Y[0]),y:ee.apply(null,Y[1])}];return t.cachesBoundsOfCurve&&(t.boundsOfCurveCache[B]=Ut),Ut}function p(E,P,A){for(var j=A[1],H=A[2],M=A[3],O=A[4],I=A[5],B=A[6],W=A[7],U=l(B-E,W-P,j,H,O,I,M),ee=0,se=U.length;ee<se;ee++)U[ee][1]+=E,U[ee][2]+=P,U[ee][3]+=E,U[ee][4]+=P,U[ee][5]+=E,U[ee][6]+=P;return U}function m(E){var P=0,A=0,j=E.length,H=0,M=0,O,I,B,W=[],U,ee,se;for(I=0;I<j;++I){switch(B=!1,O=E[I].slice(0),O[0]){case"l":O[0]="L",O[1]+=P,O[2]+=A;case"L":P=O[1],A=O[2];break;case"h":O[1]+=P;case"H":O[0]="L",O[2]=A,P=O[1];break;case"v":O[1]+=A;case"V":O[0]="L",A=O[1],O[1]=P,O[2]=A;break;case"m":O[0]="M",O[1]+=P,O[2]+=A;case"M":P=O[1],A=O[2],H=O[1],M=O[2];break;case"c":O[0]="C",O[1]+=P,O[2]+=A,O[3]+=P,O[4]+=A,O[5]+=P,O[6]+=A;case"C":ee=O[3],se=O[4],P=O[5],A=O[6];break;case"s":O[0]="S",O[1]+=P,O[2]+=A,O[3]+=P,O[4]+=A;case"S":U==="C"?(ee=2*P-ee,se=2*A-se):(ee=P,se=A),P=O[3],A=O[4],O[0]="C",O[5]=O[3],O[6]=O[4],O[3]=O[1],O[4]=O[2],O[1]=ee,O[2]=se,ee=O[3],se=O[4];break;case"q":O[0]="Q",O[1]+=P,O[2]+=A,O[3]+=P,O[4]+=A;case"Q":ee=O[1],se=O[2],P=O[3],A=O[4];break;case"t":O[0]="T",O[1]+=P,O[2]+=A;case"T":U==="Q"?(ee=2*P-ee,se=2*A-se):(ee=P,se=A),O[0]="Q",P=O[1],A=O[2],O[1]=ee,O[2]=se,O[3]=P,O[4]=A;break;case"a":O[0]="A",O[6]+=P,O[7]+=A;case"A":B=!0,W=W.concat(p(P,A,O)),P=O[6],A=O[7];break;case"z":case"Z":P=H,A=M;break}B||W.push(O),U=O[0]}return W}function g(E,P,A,j){return Math.sqrt((A-E)*(A-E)+(j-P)*(j-P))}function v(E){return E*E*E}function y(E){return 3*E*E*(1-E)}function b(E){return 3*E*(1-E)*(1-E)}function w(E){return(1-E)*(1-E)*(1-E)}function C(E,P,A,j,H,M,O,I){return function(B){var W=v(B),U=y(B),ee=b(B),se=w(B);return{x:O*W+H*U+A*ee+E*se,y:I*W+M*U+j*ee+P*se}}}function S(E,P,A,j,H,M,O,I){return function(B){var W=1-B,U=3*W*W*(A-E)+6*W*B*(H-A)+3*B*B*(O-H),ee=3*W*W*(j-P)+6*W*B*(M-j)+3*B*B*(I-M);return Math.atan2(ee,U)}}function _(E){return E*E}function T(E){return 2*E*(1-E)}function R(E){return(1-E)*(1-E)}function F(E,P,A,j,H,M){return function(O){var I=_(O),B=T(O),W=R(O);return{x:H*I+A*B+E*W,y:M*I+j*B+P*W}}}function $(E,P,A,j,H,M){return function(O){var I=1-O,B=2*I*(A-E)+2*O*(H-A),W=2*I*(j-P)+2*O*(M-j);return Math.atan2(W,B)}}function G(E,P,A){var j={x:P,y:A},H,M=0,O;for(O=1;O<=100;O+=1)H=E(O/100),M+=g(j.x,j.y,H.x,H.y),j=H;return M}function ne(E,P){for(var A=0,j=0,H=E.iterator,M={x:E.x,y:E.y},O,I,B=.01,W=E.angleFinder,U;j<P&&B>1e-4;)O=H(A),U=A,I=g(M.x,M.y,O.x,O.y),I+j>P?(A-=B,B/=2):(M=O,A+=B,j+=I);return O.angle=W(U),O}function X(E){for(var P=0,A=E.length,j,H=0,M=0,O=0,I=0,B=[],W,U,ee,se=0;se<A;se++){switch(j=E[se],U={x:H,y:M,command:j[0]},j[0]){case"M":U.length=0,O=H=j[1],I=M=j[2];break;case"L":U.length=g(H,M,j[1],j[2]),H=j[1],M=j[2];break;case"C":W=C(H,M,j[1],j[2],j[3],j[4],j[5],j[6]),ee=S(H,M,j[1],j[2],j[3],j[4],j[5],j[6]),U.iterator=W,U.angleFinder=ee,U.length=G(W,H,M),H=j[5],M=j[6];break;case"Q":W=F(H,M,j[1],j[2],j[3],j[4]),ee=$(H,M,j[1],j[2],j[3],j[4]),U.iterator=W,U.angleFinder=ee,U.length=G(W,H,M),H=j[3],M=j[4];break;case"Z":case"z":U.destX=O,U.destY=I,U.length=g(H,M,O,I),H=O,M=I;break}P+=U.length,B.push(U)}return B.push({length:P,x:H,y:M}),B}function J(E,P,A){A||(A=X(E));for(var j=0;P-A[j].length>0&&j<A.length-2;)P-=A[j].length,j++;var H=A[j],M=P/H.length,O=H.command,I=E[j],B;switch(O){case"M":return{x:H.x,y:H.y,angle:0};case"Z":case"z":return B=new t.Point(H.x,H.y).lerp(new t.Point(H.destX,H.destY),M),B.angle=Math.atan2(H.destY-H.y,H.destX-H.x),B;case"L":return B=new t.Point(H.x,H.y).lerp(new t.Point(I[1],I[2]),M),B.angle=Math.atan2(I[2]-H.y,I[1]-H.x),B;case"C":return ne(H,P);case"Q":return ne(H,P)}}function re(E){var P=[],A=[],j,H,M=t.rePathCommand,O="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",I="("+O+")"+t.commaWsp,B="([01])"+t.commaWsp+"?",W=I+"?"+I+"?"+I+B+B+I+"?("+O+")",U=new RegExp(W,"g"),ee,se,fe;if(!E||!E.match)return P;fe=E.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var Y=0,z,K=fe.length;Y<K;Y++){j=fe[Y],se=j.slice(1).trim(),A.length=0;var te=j.charAt(0);if(z=[te],te.toLowerCase()==="a")for(var N;N=U.exec(se);)for(var q=1;q<N.length;q++)A.push(N[q]);else for(;ee=M.exec(se);)A.push(ee[0]);for(var q=0,ue=A.length;q<ue;q++)H=parseFloat(A[q]),isNaN(H)||z.push(H);var we=o[te.toLowerCase()],ve=u[te]||te;if(z.length-1>we)for(var Z=1,me=z.length;Z<me;Z+=we)P.push([te].concat(z.slice(Z,Z+we))),te=ve;else P.push(z)}return P}function ie(E,P){var A=[],j,H=new t.Point(E[0].x,E[0].y),M=new t.Point(E[1].x,E[1].y),O=E.length,I=1,B=0,W=O>2;for(P=P||0,W&&(I=E[2].x<M.x?-1:E[2].x===M.x?0:1,B=E[2].y<M.y?-1:E[2].y===M.y?0:1),A.push(["M",H.x-I*P,H.y-B*P]),j=1;j<O;j++){if(!H.eq(M)){var U=H.midPointFrom(M);A.push(["Q",H.x,H.y,U.x,U.y])}H=E[j],j+1<E.length&&(M=E[j+1])}return W&&(I=H.x>E[j-2].x?1:H.x===E[j-2].x?0:-1,B=H.y>E[j-2].y?1:H.y===E[j-2].y?0:-1),A.push(["L",H.x+I*P,H.y+B*P]),A}function V(E,P,A){return A&&(P=t.util.multiplyTransformMatrices(P,[1,0,0,1,-A.x,-A.y])),E.map(function(j){for(var H=j.slice(0),M={},O=1;O<j.length-1;O+=2)M.x=j[O],M.y=j[O+1],M=t.util.transformPoint(M,P),H[O]=M.x,H[O+1]=M.y;return H})}t.util.joinPath=function(E){return E.map(function(P){return P.join(" ")}).join(" ")},t.util.parsePath=re,t.util.makePathSimpler=m,t.util.getSmoothPathFromPoints=ie,t.util.getPathSegmentsInfo=X,t.util.getBoundsOfCurve=f,t.util.getPointOnPath=J,t.util.transformPath=V}(),function(){var a=Array.prototype.slice;function o(f,p){for(var m=a.call(arguments,2),g=[],v=0,y=f.length;v<y;v++)g[v]=m.length?f[v][p].apply(f[v],m):f[v][p].call(f[v]);return g}function u(f,p){return c(f,p,function(m,g){return m>=g})}function d(f,p){return c(f,p,function(m,g){return m<g})}function l(f,p){for(var m=f.length;m--;)f[m]=p;return f}function c(f,p,m){if(!(!f||f.length===0)){var g=f.length-1,v=p?f[g][p]:f[g];if(p)for(;g--;)m(f[g][p],v)&&(v=f[g][p]);else for(;g--;)m(f[g],v)&&(v=f[g]);return v}}t.util.array={fill:l,invoke:o,min:d,max:u}}(),function(){function a(u,d,l){if(l)if(!t.isLikelyNode&&d instanceof Element)u=d;else if(d instanceof Array){u=[];for(var c=0,f=d.length;c<f;c++)u[c]=a({},d[c],l)}else if(d&&typeof d=="object")for(var p in d)p==="canvas"||p==="group"?u[p]=null:d.hasOwnProperty(p)&&(u[p]=a({},d[p],l));else u=d;else for(var p in d)u[p]=d[p];return u}function o(u,d){return a({},u,d)}t.util.object={extend:a,clone:o},t.util.object.extend(t.util,t.Observable)}(),function(){function a(c){return c.replace(/-+(.)?/g,function(f,p){return p?p.toUpperCase():""})}function o(c,f){return c.charAt(0).toUpperCase()+(f?c.slice(1):c.slice(1).toLowerCase())}function u(c){return c.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function d(c){var f=0,p,m=[];for(f=0,p;f<c.length;f++)(p=l(c,f))!==!1&&m.push(p);return m}function l(c,f){var p=c.charCodeAt(f);if(isNaN(p))return"";if(p<55296||p>57343)return c.charAt(f);if(55296<=p&&p<=56319){if(c.length<=f+1)throw"High surrogate without following low surrogate";var m=c.charCodeAt(f+1);if(56320>m||m>57343)throw"High surrogate without following low surrogate";return c.charAt(f)+c.charAt(f+1)}if(f===0)throw"Low surrogate without preceding high surrogate";var g=c.charCodeAt(f-1);if(55296>g||g>56319)throw"Low surrogate without preceding high surrogate";return!1}t.util.string={camelize:a,capitalize:o,escapeXml:u,graphemeSplit:d}}(),function(){var a=Array.prototype.slice,o=function(){},u=function(){for(var p in{toString:1})if(p==="toString")return!1;return!0}(),d=function(p,m,g){for(var v in m)v in p.prototype&&typeof p.prototype[v]=="function"&&(m[v]+"").indexOf("callSuper")>-1?p.prototype[v]=function(y){return function(){var b=this.constructor.superclass;this.constructor.superclass=g;var w=m[y].apply(this,arguments);if(this.constructor.superclass=b,y!=="initialize")return w}}(v):p.prototype[v]=m[v],u&&(m.toString!==Object.prototype.toString&&(p.prototype.toString=m.toString),m.valueOf!==Object.prototype.valueOf&&(p.prototype.valueOf=m.valueOf))};function l(){}function c(p){for(var m=null,g=this;g.constructor.superclass;){var v=g.constructor.superclass.prototype[p];if(g[p]!==v){m=v;break}g=g.constructor.superclass.prototype}return m?arguments.length>1?m.apply(this,a.call(arguments,1)):m.call(this):console.log("tried to callSuper "+p+", method not found in prototype chain",this)}function f(){var p=null,m=a.call(arguments,0);typeof m[0]=="function"&&(p=m.shift());function g(){this.initialize.apply(this,arguments)}g.superclass=p,g.subclasses=[],p&&(l.prototype=p.prototype,g.prototype=new l,p.subclasses.push(g));for(var v=0,y=m.length;v<y;v++)d(g,m[v],p);return g.prototype.initialize||(g.prototype.initialize=o),g.prototype.constructor=g,g.prototype.callSuper=c,g}t.util.createClass=f}(),function(){var a=!!t.document.createElement("div").attachEvent,o=["touchstart","touchmove","touchend"];t.util.addListener=function(d,l,c,f){d&&d.addEventListener(l,c,a?!1:f)},t.util.removeListener=function(d,l,c,f){d&&d.removeEventListener(l,c,a?!1:f)};function u(d){var l=d.changedTouches;return l&&l[0]?l[0]:d}t.util.getPointer=function(d){var l=d.target,c=t.util.getScrollLeftTop(l),f=u(d);return{x:f.clientX+c.left,y:f.clientY+c.top}},t.util.isTouchEvent=function(d){return o.indexOf(d.type)>-1||d.pointerType==="touch"}}(),function(){function a(f,p){var m=f.style;if(!m)return f;if(typeof p=="string")return f.style.cssText+=";"+p,p.indexOf("opacity")>-1?c(f,p.match(/opacity:\s*(\d?\.?\d*)/)[1]):f;for(var g in p)if(g==="opacity")c(f,p[g]);else{var v=g==="float"||g==="cssFloat"?typeof m.styleFloat>"u"?"cssFloat":"styleFloat":g;m.setProperty(v,p[g])}return f}var o=t.document.createElement("div"),u=typeof o.style.opacity=="string",d=typeof o.style.filter=="string",l=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,c=function(f){return f};u?c=function(f,p){return f.style.opacity=p,f}:d&&(c=function(f,p){var m=f.style;return f.currentStyle&&!f.currentStyle.hasLayout&&(m.zoom=1),l.test(m.filter)?(p=p>=.9999?"":"alpha(opacity="+p*100+")",m.filter=m.filter.replace(l,p)):m.filter+=" alpha(opacity="+p*100+")",f}),t.util.setStyle=a}(),function(){var a=Array.prototype.slice;function o(w){return typeof w=="string"?t.document.getElementById(w):w}var u,d=function(w){return a.call(w,0)};try{u=d(t.document.childNodes)instanceof Array}catch{}u||(d=function(w){for(var C=new Array(w.length),S=w.length;S--;)C[S]=w[S];return C});function l(w,C){var S=t.document.createElement(w);for(var _ in C)_==="class"?S.className=C[_]:_==="for"?S.htmlFor=C[_]:S.setAttribute(_,C[_]);return S}function c(w,C){w&&(" "+w.className+" ").indexOf(" "+C+" ")===-1&&(w.className+=(w.className?" ":"")+C)}function f(w,C,S){return typeof C=="string"&&(C=l(C,S)),w.parentNode&&w.parentNode.replaceChild(C,w),C.appendChild(w),C}function p(w){for(var C=0,S=0,_=t.document.documentElement,T=t.document.body||{scrollLeft:0,scrollTop:0};w&&(w.parentNode||w.host)&&(w=w.parentNode||w.host,w===t.document?(C=T.scrollLeft||_.scrollLeft||0,S=T.scrollTop||_.scrollTop||0):(C+=w.scrollLeft||0,S+=w.scrollTop||0),!(w.nodeType===1&&w.style.position==="fixed")););return{left:C,top:S}}function m(w){var C,S=w&&w.ownerDocument,_={left:0,top:0},T={left:0,top:0},R,F={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!S)return T;for(var $ in F)T[F[$]]+=parseInt(g(w,$),10)||0;return C=S.documentElement,typeof w.getBoundingClientRect<"u"&&(_=w.getBoundingClientRect()),R=p(w),{left:_.left+R.left-(C.clientLeft||0)+T.left,top:_.top+R.top-(C.clientTop||0)+T.top}}var g;t.document.defaultView&&t.document.defaultView.getComputedStyle?g=function(w,C){var S=t.document.defaultView.getComputedStyle(w,null);return S?S[C]:void 0}:g=function(w,C){var S=w.style[C];return!S&&w.currentStyle&&(S=w.currentStyle[C]),S},function(){var w=t.document.documentElement.style,C="userSelect"in w?"userSelect":"MozUserSelect"in w?"MozUserSelect":"WebkitUserSelect"in w?"WebkitUserSelect":"KhtmlUserSelect"in w?"KhtmlUserSelect":"";function S(T){return typeof T.onselectstart<"u"&&(T.onselectstart=t.util.falseFunction),C?T.style[C]="none":typeof T.unselectable=="string"&&(T.unselectable="on"),T}function _(T){return typeof T.onselectstart<"u"&&(T.onselectstart=null),C?T.style[C]="":typeof T.unselectable=="string"&&(T.unselectable=""),T}t.util.makeElementUnselectable=S,t.util.makeElementSelectable=_}();function v(w){var C=t.jsdomImplForWrapper(w);return C._canvas||C._image}function y(w){if(t.isLikelyNode){var C=t.jsdomImplForWrapper(w);C&&(C._image=null,C._canvas=null,C._currentSrc=null,C._attributes=null,C._classList=null)}}function b(w,C){w.imageSmoothingEnabled=w.imageSmoothingEnabled||w.webkitImageSmoothingEnabled||w.mozImageSmoothingEnabled||w.msImageSmoothingEnabled||w.oImageSmoothingEnabled,w.imageSmoothingEnabled=C}t.util.setImageSmoothing=b,t.util.getById=o,t.util.toArray=d,t.util.addClass=c,t.util.makeElement=l,t.util.wrapElement=f,t.util.getScrollLeftTop=p,t.util.getElementOffset=m,t.util.getNodeCanvas=v,t.util.cleanUpJsdomNode=y}(),function(){function a(d,l){return d+(/\?/.test(d)?"&":"?")+l}function o(){}function u(d,l){l||(l={});var c=l.method?l.method.toUpperCase():"GET",f=l.onComplete||function(){},p=new t.window.XMLHttpRequest,m=l.body||l.parameters;return p.onreadystatechange=function(){p.readyState===4&&(f(p),p.onreadystatechange=o)},c==="GET"&&(m=null,typeof l.parameters=="string"&&(d=a(d,l.parameters))),p.open(c,d,!0),(c==="POST"||c==="PUT")&&p.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),p.send(m),p}t.util.request=u}(),t.log=console.log,t.warn=console.warn,function(){var a=t.util.object.extend,o=t.util.object.clone,u=[];t.util.object.extend(u,{cancelAll:function(){var v=this.splice(0);return v.forEach(function(y){y.cancel()}),v},cancelByCanvas:function(v){if(!v)return[];var y=this.filter(function(b){return typeof b.target=="object"&&b.target.canvas===v});return y.forEach(function(b){b.cancel()}),y},cancelByTarget:function(v){var y=this.findAnimationsByTarget(v);return y.forEach(function(b){b.cancel()}),y},findAnimationIndex:function(v){return this.indexOf(this.findAnimation(v))},findAnimation:function(v){return this.find(function(y){return y.cancel===v})},findAnimationsByTarget:function(v){return v?this.filter(function(y){return y.target===v}):[]}});function d(){return!1}function l(v,y,b,w){return-b*Math.cos(v/w*(Math.PI/2))+b+y}function c(v){v||(v={});var y=!1,b,w=function(){var C=t.runningAnimations.indexOf(b);return C>-1&&t.runningAnimations.splice(C,1)[0]};return b=a(o(v),{cancel:function(){return y=!0,w()},currentValue:"startValue"in v?v.startValue:0,completionRate:0,durationRate:0}),t.runningAnimations.push(b),m(function(C){var S=C||+new Date,_=v.duration||500,T=S+_,R,F=v.onChange||d,$=v.abort||d,G=v.onComplete||d,ne=v.easing||l,X="startValue"in v?v.startValue.length>0:!1,J="startValue"in v?v.startValue:0,re="endValue"in v?v.endValue:100,ie=v.byValue||(X?J.map(function(V,E){return re[E]-J[E]}):re-J);v.onStart&&v.onStart(),function V(E){R=E||+new Date;var P=R>T?_:R-S,A=P/_,j=X?J.map(function(M,O){return ne(P,J[O],ie[O],_)}):ne(P,J,ie,_),H=Math.abs(X?(j[0]-J[0])/ie[0]:(j-J)/ie);if(b.currentValue=X?j.slice():j,b.completionRate=H,b.durationRate=A,!y){if($(j,H,A)){w();return}if(R>T){b.currentValue=X?re.slice():re,b.completionRate=1,b.durationRate=1,F(X?re.slice():re,1,1),G(re,1,1),w();return}else F(j,H,A),m(V)}}(S)}),b.cancel}var f=t.window.requestAnimationFrame||t.window.webkitRequestAnimationFrame||t.window.mozRequestAnimationFrame||t.window.oRequestAnimationFrame||t.window.msRequestAnimationFrame||function(v){return t.window.setTimeout(v,1e3/60)},p=t.window.cancelAnimationFrame||t.window.clearTimeout;function m(){return f.apply(t.window,arguments)}function g(){return p.apply(t.window,arguments)}t.util.animate=c,t.util.requestAnimFrame=m,t.util.cancelAnimFrame=g,t.runningAnimations=u}(),function(){function a(u,d,l){var c="rgba("+parseInt(u[0]+l*(d[0]-u[0]),10)+","+parseInt(u[1]+l*(d[1]-u[1]),10)+","+parseInt(u[2]+l*(d[2]-u[2]),10);return c+=","+(u&&d?parseFloat(u[3]+l*(d[3]-u[3])):1),c+=")",c}function o(u,d,l,c){var f=new t.Color(u).getSource(),p=new t.Color(d).getSource(),m=c.onComplete,g=c.onChange;return c=c||{},t.util.animate(t.util.object.extend(c,{duration:l||500,startValue:f,endValue:p,byValue:p,easing:function(v,y,b,w){var C=c.colorEasing?c.colorEasing(v,w):1-Math.cos(v/w*(Math.PI/2));return a(y,b,C)},onComplete:function(v,y,b){if(m)return m(a(p,p,0),y,b)},onChange:function(v,y,b){if(g){if(Array.isArray(v))return g(a(v,v,0),y,b);g(v,y,b)}}}))}t.util.animateColor=o}(),function(){function a(E,P,A,j){return E<Math.abs(P)?(E=P,j=A/4):P===0&&E===0?j=A/(2*Math.PI)*Math.asin(1):j=A/(2*Math.PI)*Math.asin(P/E),{a:E,c:P,p:A,s:j}}function o(E,P,A){return E.a*Math.pow(2,10*(P-=1))*Math.sin((P*A-E.s)*(2*Math.PI)/E.p)}function u(E,P,A,j){return A*((E=E/j-1)*E*E+1)+P}function d(E,P,A,j){return E/=j/2,E<1?A/2*E*E*E+P:A/2*((E-=2)*E*E+2)+P}function l(E,P,A,j){return A*(E/=j)*E*E*E+P}function c(E,P,A,j){return-A*((E=E/j-1)*E*E*E-1)+P}function f(E,P,A,j){return E/=j/2,E<1?A/2*E*E*E*E+P:-A/2*((E-=2)*E*E*E-2)+P}function p(E,P,A,j){return A*(E/=j)*E*E*E*E+P}function m(E,P,A,j){return A*((E=E/j-1)*E*E*E*E+1)+P}function g(E,P,A,j){return E/=j/2,E<1?A/2*E*E*E*E*E+P:A/2*((E-=2)*E*E*E*E+2)+P}function v(E,P,A,j){return-A*Math.cos(E/j*(Math.PI/2))+A+P}function y(E,P,A,j){return A*Math.sin(E/j*(Math.PI/2))+P}function b(E,P,A,j){return-A/2*(Math.cos(Math.PI*E/j)-1)+P}function w(E,P,A,j){return E===0?P:A*Math.pow(2,10*(E/j-1))+P}function C(E,P,A,j){return E===j?P+A:A*(-Math.pow(2,-10*E/j)+1)+P}function S(E,P,A,j){return E===0?P:E===j?P+A:(E/=j/2,E<1?A/2*Math.pow(2,10*(E-1))+P:A/2*(-Math.pow(2,-10*--E)+2)+P)}function _(E,P,A,j){return-A*(Math.sqrt(1-(E/=j)*E)-1)+P}function T(E,P,A,j){return A*Math.sqrt(1-(E=E/j-1)*E)+P}function R(E,P,A,j){return E/=j/2,E<1?-A/2*(Math.sqrt(1-E*E)-1)+P:A/2*(Math.sqrt(1-(E-=2)*E)+1)+P}function F(E,P,A,j){var H=1.70158,M=0,O=A;if(E===0)return P;if(E/=j,E===1)return P+A;M||(M=j*.3);var I=a(O,A,M,H);return-o(I,E,j)+P}function $(E,P,A,j){var H=1.70158,M=0,O=A;if(E===0)return P;if(E/=j,E===1)return P+A;M||(M=j*.3);var I=a(O,A,M,H);return I.a*Math.pow(2,-10*E)*Math.sin((E*j-I.s)*(2*Math.PI)/I.p)+I.c+P}function G(E,P,A,j){var H=1.70158,M=0,O=A;if(E===0)return P;if(E/=j/2,E===2)return P+A;M||(M=j*(.3*1.5));var I=a(O,A,M,H);return E<1?-.5*o(I,E,j)+P:I.a*Math.pow(2,-10*(E-=1))*Math.sin((E*j-I.s)*(2*Math.PI)/I.p)*.5+I.c+P}function ne(E,P,A,j,H){return H===void 0&&(H=1.70158),A*(E/=j)*E*((H+1)*E-H)+P}function X(E,P,A,j,H){return H===void 0&&(H=1.70158),A*((E=E/j-1)*E*((H+1)*E+H)+1)+P}function J(E,P,A,j,H){return H===void 0&&(H=1.70158),E/=j/2,E<1?A/2*(E*E*(((H*=1.525)+1)*E-H))+P:A/2*((E-=2)*E*(((H*=1.525)+1)*E+H)+2)+P}function re(E,P,A,j){return A-ie(j-E,0,A,j)+P}function ie(E,P,A,j){return(E/=j)<1/2.75?A*(7.5625*E*E)+P:E<2/2.75?A*(7.5625*(E-=1.5/2.75)*E+.75)+P:E<2.5/2.75?A*(7.5625*(E-=2.25/2.75)*E+.9375)+P:A*(7.5625*(E-=2.625/2.75)*E+.984375)+P}function V(E,P,A,j){return E<j/2?re(E*2,0,A,j)*.5+P:ie(E*2-j,0,A,j)*.5+A*.5+P}t.util.ease={easeInQuad:function(E,P,A,j){return A*(E/=j)*E+P},easeOutQuad:function(E,P,A,j){return-A*(E/=j)*(E-2)+P},easeInOutQuad:function(E,P,A,j){return E/=j/2,E<1?A/2*E*E+P:-A/2*(--E*(E-2)-1)+P},easeInCubic:function(E,P,A,j){return A*(E/=j)*E*E+P},easeOutCubic:u,easeInOutCubic:d,easeInQuart:l,easeOutQuart:c,easeInOutQuart:f,easeInQuint:p,easeOutQuint:m,easeInOutQuint:g,easeInSine:v,easeOutSine:y,easeInOutSine:b,easeInExpo:w,easeOutExpo:C,easeInOutExpo:S,easeInCirc:_,easeOutCirc:T,easeInOutCirc:R,easeInElastic:F,easeOutElastic:$,easeInOutElastic:G,easeInBack:ne,easeOutBack:X,easeInOutBack:J,easeInBounce:re,easeOutBounce:ie,easeInOutBounce:V}}(),function(a){var o=a.fabric||(a.fabric={}),u=o.util.object.extend,d=o.util.object.clone,l=o.util.toFixed,c=o.util.parseUnit,f=o.util.multiplyTransformMatrices,p=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],m=["symbol","image","marker","pattern","view","svg"],g=["pattern","defs","symbol","metadata","clipPath","mask","desc"],v=["symbol","g","a","svg","clipPath","defs"],y={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},b={stroke:"strokeOpacity",fill:"fillOpacity"},w="font-size",C="clip-path";o.svgValidTagNamesRegEx=T(p),o.svgViewBoxElementsRegEx=T(m),o.svgInvalidAncestorsRegEx=T(g),o.svgValidParentsRegEx=T(v),o.cssRules={},o.gradientDefs={},o.clipPaths={};function S(M){return M in y?y[M]:M}function _(M,O,I,B){var W=Array.isArray(O),U;if((M==="fill"||M==="stroke")&&O==="none")O="";else{if(M==="strokeUniform")return O==="non-scaling-stroke";if(M==="strokeDashArray")O==="none"?O=null:O=O.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(M==="transformMatrix")I&&I.transformMatrix?O=f(I.transformMatrix,o.parseTransformAttribute(O)):O=o.parseTransformAttribute(O);else if(M==="visible")O=O!=="none"&&O!=="hidden",I&&I.visible===!1&&(O=!1);else if(M==="opacity")O=parseFloat(O),I&&typeof I.opacity<"u"&&(O*=I.opacity);else if(M==="textAnchor")O=O==="start"?"left":O==="end"?"right":"center";else if(M==="charSpacing")U=c(O,B)/B*1e3;else if(M==="paintFirst"){var ee=O.indexOf("fill"),se=O.indexOf("stroke"),O="fill";(ee>-1&&se>-1&&se<ee||ee===-1&&se>-1)&&(O="stroke")}else{if(M==="href"||M==="xlink:href"||M==="font")return O;if(M==="imageSmoothing")return O==="optimizeQuality";U=W?O.map(c):c(O,B)}}return!W&&isNaN(U)?O:U}function T(M){return new RegExp("^("+M.join("|")+")\\b","i")}function R(M){for(var O in b)if(!(typeof M[b[O]]>"u"||M[O]==="")){if(typeof M[O]>"u"){if(!o.Object.prototype[O])continue;M[O]=o.Object.prototype[O]}if(M[O].indexOf("url(")!==0){var I=new o.Color(M[O]);M[O]=I.setAlpha(l(I.getAlpha()*M[b[O]],2)).toRgba()}}return M}function F(M,O){var I,B=[],W,U,ee;for(U=0,ee=O.length;U<ee;U++)I=O[U],W=M.getElementsByTagName(I),B=B.concat(Array.prototype.slice.call(W));return B}o.parseTransformAttribute=function(){function M(Z,me){var Se=o.util.cos(me[0]),Pe=o.util.sin(me[0]),Ue=0,Be=0;me.length===3&&(Ue=me[1],Be=me[2]),Z[0]=Se,Z[1]=Pe,Z[2]=-Pe,Z[3]=Se,Z[4]=Ue-(Se*Ue-Pe*Be),Z[5]=Be-(Pe*Ue+Se*Be)}function O(Z,me){var Se=me[0],Pe=me.length===2?me[1]:me[0];Z[0]=Se,Z[3]=Pe}function I(Z,me,Se){Z[Se]=Math.tan(o.util.degreesToRadians(me[0]))}function B(Z,me){Z[4]=me[0],me.length===2&&(Z[5]=me[1])}var W=o.iMatrix,U=o.reNum,ee=o.commaWsp,se="(?:(skewX)\\s*\\(\\s*("+U+")\\s*\\))",fe="(?:(skewY)\\s*\\(\\s*("+U+")\\s*\\))",Y="(?:(rotate)\\s*\\(\\s*("+U+")(?:"+ee+"("+U+")"+ee+"("+U+"))?\\s*\\))",z="(?:(scale)\\s*\\(\\s*("+U+")(?:"+ee+"("+U+"))?\\s*\\))",K="(?:(translate)\\s*\\(\\s*("+U+")(?:"+ee+"("+U+"))?\\s*\\))",te="(?:(matrix)\\s*\\(\\s*("+U+")"+ee+"("+U+")"+ee+"("+U+")"+ee+"("+U+")"+ee+"("+U+")"+ee+"("+U+")\\s*\\))",N="(?:"+te+"|"+K+"|"+z+"|"+Y+"|"+se+"|"+fe+")",q="(?:"+N+"(?:"+ee+"*"+N+")*)",ue="^\\s*(?:"+q+"?)\\s*$",we=new RegExp(ue),ve=new RegExp(N,"g");return function(Z){var me=W.concat(),Se=[];if(!Z||Z&&!we.test(Z))return me;Z.replace(ve,function(Ue){var Be=new RegExp(N).exec(Ue).filter(function(Es){return!!Es}),Ut=Be[1],ct=Be.slice(2).map(parseFloat);switch(Ut){case"translate":B(me,ct);break;case"rotate":ct[0]=o.util.degreesToRadians(ct[0]),M(me,ct);break;case"scale":O(me,ct);break;case"skewX":I(me,ct,2);break;case"skewY":I(me,ct,1);break;case"matrix":me=ct;break}Se.push(me.concat()),me=W.concat()});for(var Pe=Se[0];Se.length>1;)Se.shift(),Pe=o.util.multiplyTransformMatrices(Pe,Se[0]);return Pe}}();function $(M,O){var I,B;M.replace(/;\s*$/,"").split(";").forEach(function(W){var U=W.split(":");I=U[0].trim().toLowerCase(),B=U[1].trim(),O[I]=B})}function G(M,O){var I,B;for(var W in M)typeof M[W]>"u"||(I=W.toLowerCase(),B=M[W],O[I]=B)}function ne(M,O){var I={};for(var B in o.cssRules[O])if(X(M,B.split(" ")))for(var W in o.cssRules[O][B])I[W]=o.cssRules[O][B][W];return I}function X(M,O){var I,B=!0;return I=re(M,O.pop()),I&&O.length&&(B=J(M,O)),I&&B&&O.length===0}function J(M,O){for(var I,B=!0;M.parentNode&&M.parentNode.nodeType===1&&O.length;)B&&(I=O.pop()),M=M.parentNode,B=re(M,I);return O.length===0}function re(M,O){var I=M.nodeName,B=M.getAttribute("class"),W=M.getAttribute("id"),U,ee;if(U=new RegExp("^"+I,"i"),O=O.replace(U,""),W&&O.length&&(U=new RegExp("#"+W+"(?![a-zA-Z\\-]+)","i"),O=O.replace(U,"")),B&&O.length)for(B=B.split(" "),ee=B.length;ee--;)U=new RegExp("\\."+B[ee]+"(?![a-zA-Z\\-]+)","i"),O=O.replace(U,"");return O.length===0}function ie(M,O){var I;if(M.getElementById&&(I=M.getElementById(O)),I)return I;var B,W,U,ee=M.getElementsByTagName("*");for(W=0,U=ee.length;W<U;W++)if(B=ee[W],O===B.getAttribute("id"))return B}function V(M){for(var O=F(M,["use","svg:use"]),I=0;O.length&&I<O.length;){var B=O[I],W=B.getAttribute("xlink:href")||B.getAttribute("href");if(W===null)return;var U=W.slice(1),ee=B.getAttribute("x")||0,se=B.getAttribute("y")||0,fe=ie(M,U).cloneNode(!0),Y=(fe.getAttribute("transform")||"")+" translate("+ee+", "+se+")",z,K=O.length,te,N,q,ue,we=o.svgNS;if(P(fe),/^svg$/i.test(fe.nodeName)){var ve=fe.ownerDocument.createElementNS(we,"g");for(N=0,q=fe.attributes,ue=q.length;N<ue;N++)te=q.item(N),ve.setAttributeNS(we,te.nodeName,te.nodeValue);for(;fe.firstChild;)ve.appendChild(fe.firstChild);fe=ve}for(N=0,q=B.attributes,ue=q.length;N<ue;N++)te=q.item(N),!(te.nodeName==="x"||te.nodeName==="y"||te.nodeName==="xlink:href"||te.nodeName==="href")&&(te.nodeName==="transform"?Y=te.nodeValue+" "+Y:fe.setAttribute(te.nodeName,te.nodeValue));fe.setAttribute("transform",Y),fe.setAttribute("instantiated_by_use","1"),fe.removeAttribute("id"),z=B.parentNode,z.replaceChild(fe,B),O.length===K&&I++}}var E=new RegExp("^\\s*("+o.reNum+"+)\\s*,?\\s*("+o.reNum+"+)\\s*,?\\s*("+o.reNum+"+)\\s*,?\\s*("+o.reNum+"+)\\s*$");function P(M){if(!o.svgViewBoxElementsRegEx.test(M.nodeName))return{};var O=M.getAttribute("viewBox"),I=1,B=1,W=0,U=0,ee,se,fe,Y,z=M.getAttribute("width"),K=M.getAttribute("height"),te=M.getAttribute("x")||0,N=M.getAttribute("y")||0,q=M.getAttribute("preserveAspectRatio")||"",ue=!O||!(O=O.match(E)),we=!z||!K||z==="100%"||K==="100%",ve=ue&&we,Z={},me="",Se=0,Pe=0;if(Z.width=0,Z.height=0,Z.toBeParsed=ve,ue&&(te||N)&&M.parentNode&&M.parentNode.nodeName!=="#document"&&(me=" translate("+c(te)+" "+c(N)+") ",fe=(M.getAttribute("transform")||"")+me,M.setAttribute("transform",fe),M.removeAttribute("x"),M.removeAttribute("y")),ve)return Z;if(ue)return Z.width=c(z),Z.height=c(K),Z;if(W=-parseFloat(O[1]),U=-parseFloat(O[2]),ee=parseFloat(O[3]),se=parseFloat(O[4]),Z.minX=W,Z.minY=U,Z.viewBoxWidth=ee,Z.viewBoxHeight=se,we?(Z.width=ee,Z.height=se):(Z.width=c(z),Z.height=c(K),I=Z.width/ee,B=Z.height/se),q=o.util.parsePreserveAspectRatioAttribute(q),q.alignX!=="none"&&(q.meetOrSlice==="meet"&&(B=I=I>B?B:I),q.meetOrSlice==="slice"&&(B=I=I>B?I:B),Se=Z.width-ee*I,Pe=Z.height-se*I,q.alignX==="Mid"&&(Se/=2),q.alignY==="Mid"&&(Pe/=2),q.alignX==="Min"&&(Se=0),q.alignY==="Min"&&(Pe=0)),I===1&&B===1&&W===0&&U===0&&te===0&&N===0)return Z;if((te||N)&&M.parentNode.nodeName!=="#document"&&(me=" translate("+c(te)+" "+c(N)+") "),fe=me+" matrix("+I+" 0 0 "+B+" "+(W*I+Se)+" "+(U*B+Pe)+") ",M.nodeName==="svg"){for(Y=M.ownerDocument.createElementNS(o.svgNS,"g");M.firstChild;)Y.appendChild(M.firstChild);M.appendChild(Y)}else Y=M,Y.removeAttribute("x"),Y.removeAttribute("y"),fe=Y.getAttribute("transform")+fe;return Y.setAttribute("transform",fe),Z}function A(M,O){for(;M&&(M=M.parentNode);)if(M.nodeName&&O.test(M.nodeName.replace("svg:",""))&&!M.getAttribute("instantiated_by_use"))return!0;return!1}o.parseSVGDocument=function(M,O,I,B){if(M){V(M);var W=o.Object.__uid++,U,ee,se=P(M),fe=o.util.toArray(M.getElementsByTagName("*"));if(se.crossOrigin=B&&B.crossOrigin,se.svgUid=W,fe.length===0&&o.isLikelyNode){fe=M.selectNodes('//*[name(.)!="svg"]');var Y=[];for(U=0,ee=fe.length;U<ee;U++)Y[U]=fe[U];fe=Y}var z=fe.filter(function(te){return P(te),o.svgValidTagNamesRegEx.test(te.nodeName.replace("svg:",""))&&!A(te,o.svgInvalidAncestorsRegEx)});if(!z||z&&!z.length){O&&O([],{});return}var K={};fe.filter(function(te){return te.nodeName.replace("svg:","")==="clipPath"}).forEach(function(te){var N=te.getAttribute("id");K[N]=o.util.toArray(te.getElementsByTagName("*")).filter(function(q){return o.svgValidTagNamesRegEx.test(q.nodeName.replace("svg:",""))})}),o.gradientDefs[W]=o.getGradientDefs(M),o.cssRules[W]=o.getCSSRules(M),o.clipPaths[W]=K,o.parseElements(z,function(te,N){O&&(O(te,se,N,fe),delete o.gradientDefs[W],delete o.cssRules[W],delete o.clipPaths[W])},d(se),I,B)}};function j(M,O){var I=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],B="xlink:href",W=O.getAttribute(B).slice(1),U=ie(M,W);if(U&&U.getAttribute(B)&&j(M,U),I.forEach(function(se){U&&!O.hasAttribute(se)&&U.hasAttribute(se)&&O.setAttribute(se,U.getAttribute(se))}),!O.children.length)for(var ee=U.cloneNode(!0);ee.firstChild;)O.appendChild(ee.firstChild);O.removeAttribute(B)}var H=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+o.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+o.reNum+"))?\\s+(.*)");u(o,{parseFontDeclaration:function(M,O){var I=M.match(H);if(I){var B=I[1],W=I[3],U=I[4],ee=I[5],se=I[6];B&&(O.fontStyle=B),W&&(O.fontWeight=isNaN(parseFloat(W))?W:parseFloat(W)),U&&(O.fontSize=c(U)),se&&(O.fontFamily=se),ee&&(O.lineHeight=ee==="normal"?1:ee)}},getGradientDefs:function(M){var O=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],I=F(M,O),B,W=0,U={};for(W=I.length;W--;)B=I[W],B.getAttribute("xlink:href")&&j(M,B),U[B.getAttribute("id")]=B;return U},parseAttributes:function(M,O,I){if(M){var B,W={},U,ee;typeof I>"u"&&(I=M.getAttribute("svgUid")),M.parentNode&&o.svgValidParentsRegEx.test(M.parentNode.nodeName)&&(W=o.parseAttributes(M.parentNode,O,I));var se=O.reduce(function(q,ue){return B=M.getAttribute(ue),B&&(q[ue]=B),q},{}),fe=u(ne(M,I),o.parseStyleAttribute(M));se=u(se,fe),fe[C]&&M.setAttribute(C,fe[C]),U=ee=W.fontSize||o.Text.DEFAULT_SVG_FONT_SIZE,se[w]&&(se[w]=U=c(se[w],ee));var Y,z,K={};for(var te in se)Y=S(te),z=_(Y,se[te],W,U),K[Y]=z;K&&K.font&&o.parseFontDeclaration(K.font,K);var N=u(W,K);return o.svgValidParentsRegEx.test(M.nodeName)?N:R(N)}},parseElements:function(M,O,I,B,W){new o.ElementsParser(M,O,I,B,W).parse()},parseStyleAttribute:function(M){var O={},I=M.getAttribute("style");return I&&(typeof I=="string"?$(I,O):G(I,O)),O},parsePointsAttribute:function(M){if(!M)return null;M=M.replace(/,/g," ").trim(),M=M.split(/\s+/);var O=[],I,B;for(I=0,B=M.length;I<B;I+=2)O.push({x:parseFloat(M[I]),y:parseFloat(M[I+1])});return O},getCSSRules:function(M){var O=M.getElementsByTagName("style"),I,B,W={},U;for(I=0,B=O.length;I<B;I++){var ee=O[I].textContent;ee=ee.replace(/\/\*[\s\S]*?\*\//g,""),ee.trim()!==""&&(U=ee.split("}"),U=U.filter(function(se){return se.trim()}),U.forEach(function(se){var fe=se.split("{"),Y={},z=fe[1].trim(),K=z.split(";").filter(function(ue){return ue.trim()});for(I=0,B=K.length;I<B;I++){var te=K[I].split(":"),N=te[0].trim(),q=te[1].trim();Y[N]=q}se=fe[0].trim(),se.split(",").forEach(function(ue){ue=ue.replace(/^svg/i,"").trim(),ue!==""&&(W[ue]?o.util.object.extend(W[ue],Y):W[ue]=o.util.object.clone(Y))})}))}return W},loadSVGFromURL:function(M,O,I,B){M=M.replace(/^\n\s*/,"").trim(),new o.util.request(M,{method:"get",onComplete:W});function W(U){var ee=U.responseXML;if(!ee||!ee.documentElement)return O&&O(null),!1;o.parseSVGDocument(ee.documentElement,function(se,fe,Y,z){O&&O(se,fe,Y,z)},I,B)}},loadSVGFromString:function(M,O,I,B){var W=new o.window.DOMParser,U=W.parseFromString(M.trim(),"text/xml");o.parseSVGDocument(U.documentElement,function(ee,se,fe,Y){O(ee,se,fe,Y)},I,B)}})}(e),t.ElementsParser=function(a,o,u,d,l,c){this.elements=a,this.callback=o,this.options=u,this.reviver=d,this.svgUid=u&&u.svgUid||0,this.parsingOptions=l,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=c},function(a){a.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},a.createObjects=function(){var o=this;this.elements.forEach(function(u,d){u.setAttribute("svgUid",o.svgUid),o.createObject(u,d)})},a.findTag=function(o){return t[t.util.string.capitalize(o.tagName.replace("svg:",""))]},a.createObject=function(o,u){var d=this.findTag(o);if(d&&d.fromElement)try{d.fromElement(o,this.createCallback(u,o),this.options)}catch(l){t.log(l)}else this.checkIfDone()},a.createCallback=function(o,u){var d=this;return function(l){var c;d.resolveGradient(l,u,"fill"),d.resolveGradient(l,u,"stroke"),l instanceof t.Image&&l._originalElement&&(c=l.parsePreserveAspectRatioAttribute(u)),l._removeTransformMatrix(c),d.resolveClipPath(l,u),d.reviver&&d.reviver(u,l),d.instances[o]=l,d.checkIfDone()}},a.extractPropertyDefinition=function(o,u,d){var l=o[u],c=this.regexUrl;if(c.test(l)){c.lastIndex=0;var f=c.exec(l)[1];return c.lastIndex=0,t[d][this.svgUid][f]}},a.resolveGradient=function(o,u,d){var l=this.extractPropertyDefinition(o,d,"gradientDefs");if(l){var c=u.getAttribute(d+"-opacity"),f=t.Gradient.fromElement(l,o,c,this.options);o.set(d,f)}},a.createClipPathCallback=function(o,u){return function(d){d._removeTransformMatrix(),d.fillRule=d.clipRule,u.push(d)}},a.resolveClipPath=function(o,u){var d=this.extractPropertyDefinition(o,"clipPath","clipPaths"),l,c,f,p,m,g;if(d){p=[],f=t.util.invertTransform(o.calcTransformMatrix());for(var v=d[0].parentNode,y=u;y.parentNode&&y.getAttribute("clip-path")!==o.clipPath;)y=y.parentNode;y.parentNode.appendChild(v);for(var b=0;b<d.length;b++)l=d[b],c=this.findTag(l),c.fromElement(l,this.createClipPathCallback(o,p),this.options);p.length===1?d=p[0]:d=new t.Group(p),m=t.util.multiplyTransformMatrices(f,d.calcTransformMatrix()),d.clipPath&&this.resolveClipPath(d,y);var g=t.util.qrDecompose(m);d.flipX=!1,d.flipY=!1,d.set("scaleX",g.scaleX),d.set("scaleY",g.scaleY),d.angle=g.angle,d.skewX=g.skewX,d.skewY=0,d.setPositionByOrigin({x:g.translateX,y:g.translateY},"center","center"),o.clipPath=d}else delete o.clipPath},a.checkIfDone=function(){--this.numElements===0&&(this.instances=this.instances.filter(function(o){return o!=null}),this.callback(this.instances,this.elements))}}(t.ElementsParser.prototype),function(a){var o=a.fabric||(a.fabric={});if(o.Point){o.warn("fabric.Point is already defined");return}o.Point=u;function u(d,l){this.x=d,this.y=l}u.prototype={type:"point",constructor:u,add:function(d){return new u(this.x+d.x,this.y+d.y)},addEquals:function(d){return this.x+=d.x,this.y+=d.y,this},scalarAdd:function(d){return new u(this.x+d,this.y+d)},scalarAddEquals:function(d){return this.x+=d,this.y+=d,this},subtract:function(d){return new u(this.x-d.x,this.y-d.y)},subtractEquals:function(d){return this.x-=d.x,this.y-=d.y,this},scalarSubtract:function(d){return new u(this.x-d,this.y-d)},scalarSubtractEquals:function(d){return this.x-=d,this.y-=d,this},multiply:function(d){return new u(this.x*d,this.y*d)},multiplyEquals:function(d){return this.x*=d,this.y*=d,this},divide:function(d){return new u(this.x/d,this.y/d)},divideEquals:function(d){return this.x/=d,this.y/=d,this},eq:function(d){return this.x===d.x&&this.y===d.y},lt:function(d){return this.x<d.x&&this.y<d.y},lte:function(d){return this.x<=d.x&&this.y<=d.y},gt:function(d){return this.x>d.x&&this.y>d.y},gte:function(d){return this.x>=d.x&&this.y>=d.y},lerp:function(d,l){return typeof l>"u"&&(l=.5),l=Math.max(Math.min(1,l),0),new u(this.x+(d.x-this.x)*l,this.y+(d.y-this.y)*l)},distanceFrom:function(d){var l=this.x-d.x,c=this.y-d.y;return Math.sqrt(l*l+c*c)},midPointFrom:function(d){return this.lerp(d)},min:function(d){return new u(Math.min(this.x,d.x),Math.min(this.y,d.y))},max:function(d){return new u(Math.max(this.x,d.x),Math.max(this.y,d.y))},toString:function(){return this.x+","+this.y},setXY:function(d,l){return this.x=d,this.y=l,this},setX:function(d){return this.x=d,this},setY:function(d){return this.y=d,this},setFromPoint:function(d){return this.x=d.x,this.y=d.y,this},swap:function(d){var l=this.x,c=this.y;this.x=d.x,this.y=d.y,d.x=l,d.y=c},clone:function(){return new u(this.x,this.y)}}}(e),function(a){var o=a.fabric||(a.fabric={});if(o.Intersection){o.warn("fabric.Intersection is already defined");return}function u(d){this.status=d,this.points=[]}o.Intersection=u,o.Intersection.prototype={constructor:u,appendPoint:function(d){return this.points.push(d),this},appendPoints:function(d){return this.points=this.points.concat(d),this}},o.Intersection.intersectLineLine=function(d,l,c,f){var p,m=(f.x-c.x)*(d.y-c.y)-(f.y-c.y)*(d.x-c.x),g=(l.x-d.x)*(d.y-c.y)-(l.y-d.y)*(d.x-c.x),v=(f.y-c.y)*(l.x-d.x)-(f.x-c.x)*(l.y-d.y);if(v!==0){var y=m/v,b=g/v;0<=y&&y<=1&&0<=b&&b<=1?(p=new u("Intersection"),p.appendPoint(new o.Point(d.x+y*(l.x-d.x),d.y+y*(l.y-d.y)))):p=new u}else m===0||g===0?p=new u("Coincident"):p=new u("Parallel");return p},o.Intersection.intersectLinePolygon=function(d,l,c){var f=new u,p=c.length,m,g,v,y;for(y=0;y<p;y++)m=c[y],g=c[(y+1)%p],v=u.intersectLineLine(d,l,m,g),f.appendPoints(v.points);return f.points.length>0&&(f.status="Intersection"),f},o.Intersection.intersectPolygonPolygon=function(d,l){var c=new u,f=d.length,p;for(p=0;p<f;p++){var m=d[p],g=d[(p+1)%f],v=u.intersectLinePolygon(m,g,l);c.appendPoints(v.points)}return c.points.length>0&&(c.status="Intersection"),c},o.Intersection.intersectPolygonRectangle=function(d,l,c){var f=l.min(c),p=l.max(c),m=new o.Point(p.x,f.y),g=new o.Point(f.x,p.y),v=u.intersectLinePolygon(f,m,d),y=u.intersectLinePolygon(m,p,d),b=u.intersectLinePolygon(p,g,d),w=u.intersectLinePolygon(g,f,d),C=new u;return C.appendPoints(v.points),C.appendPoints(y.points),C.appendPoints(b.points),C.appendPoints(w.points),C.points.length>0&&(C.status="Intersection"),C}}(e),function(a){var o=a.fabric||(a.fabric={});if(o.Color){o.warn("fabric.Color is already defined.");return}function u(l){l?this._tryParsingColor(l):this.setSource([0,0,0,1])}o.Color=u,o.Color.prototype={_tryParsingColor:function(l){var c;l in u.colorNameMap&&(l=u.colorNameMap[l]),l==="transparent"&&(c=[255,255,255,0]),c||(c=u.sourceFromHex(l)),c||(c=u.sourceFromRgb(l)),c||(c=u.sourceFromHsl(l)),c||(c=[0,0,0,1]),c&&this.setSource(c)},_rgbToHsl:function(l,c,f){l/=255,c/=255,f/=255;var p,m,g,v=o.util.array.max([l,c,f]),y=o.util.array.min([l,c,f]);if(g=(v+y)/2,v===y)p=m=0;else{var b=v-y;switch(m=g>.5?b/(2-v-y):b/(v+y),v){case l:p=(c-f)/b+(c<f?6:0);break;case c:p=(f-l)/b+2;break;case f:p=(l-c)/b+4;break}p/=6}return[Math.round(p*360),Math.round(m*100),Math.round(g*100)]},getSource:function(){return this._source},setSource:function(l){this._source=l},toRgb:function(){var l=this.getSource();return"rgb("+l[0]+","+l[1]+","+l[2]+")"},toRgba:function(){var l=this.getSource();return"rgba("+l[0]+","+l[1]+","+l[2]+","+l[3]+")"},toHsl:function(){var l=this.getSource(),c=this._rgbToHsl(l[0],l[1],l[2]);return"hsl("+c[0]+","+c[1]+"%,"+c[2]+"%)"},toHsla:function(){var l=this.getSource(),c=this._rgbToHsl(l[0],l[1],l[2]);return"hsla("+c[0]+","+c[1]+"%,"+c[2]+"%,"+l[3]+")"},toHex:function(){var l=this.getSource(),c,f,p;return c=l[0].toString(16),c=c.length===1?"0"+c:c,f=l[1].toString(16),f=f.length===1?"0"+f:f,p=l[2].toString(16),p=p.length===1?"0"+p:p,c.toUpperCase()+f.toUpperCase()+p.toUpperCase()},toHexa:function(){var l=this.getSource(),c;return c=Math.round(l[3]*255),c=c.toString(16),c=c.length===1?"0"+c:c,this.toHex()+c.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(l){var c=this.getSource();return c[3]=l,this.setSource(c),this},toGrayscale:function(){var l=this.getSource(),c=parseInt((l[0]*.3+l[1]*.59+l[2]*.11).toFixed(0),10),f=l[3];return this.setSource([c,c,c,f]),this},toBlackWhite:function(l){var c=this.getSource(),f=(c[0]*.3+c[1]*.59+c[2]*.11).toFixed(0),p=c[3];return l=l||127,f=Number(f)<Number(l)?0:255,this.setSource([f,f,f,p]),this},overlayWith:function(l){l instanceof u||(l=new u(l));var c=[],f=this.getAlpha(),p=.5,m=this.getSource(),g=l.getSource(),v;for(v=0;v<3;v++)c.push(Math.round(m[v]*(1-p)+g[v]*p));return c[3]=f,this.setSource(c),this}},o.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,o.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,o.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,o.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function d(l,c,f){return f<0&&(f+=1),f>1&&(f-=1),f<1/6?l+(c-l)*6*f:f<1/2?c:f<2/3?l+(c-l)*(2/3-f)*6:l}o.Color.fromRgb=function(l){return u.fromSource(u.sourceFromRgb(l))},o.Color.sourceFromRgb=function(l){var c=l.match(u.reRGBa);if(c){var f=parseInt(c[1],10)/(/%$/.test(c[1])?100:1)*(/%$/.test(c[1])?255:1),p=parseInt(c[2],10)/(/%$/.test(c[2])?100:1)*(/%$/.test(c[2])?255:1),m=parseInt(c[3],10)/(/%$/.test(c[3])?100:1)*(/%$/.test(c[3])?255:1);return[parseInt(f,10),parseInt(p,10),parseInt(m,10),c[4]?parseFloat(c[4]):1]}},o.Color.fromRgba=u.fromRgb,o.Color.fromHsl=function(l){return u.fromSource(u.sourceFromHsl(l))},o.Color.sourceFromHsl=function(l){var c=l.match(u.reHSLa);if(c){var f=(parseFloat(c[1])%360+360)%360/360,p=parseFloat(c[2])/(/%$/.test(c[2])?100:1),m=parseFloat(c[3])/(/%$/.test(c[3])?100:1),g,v,y;if(p===0)g=v=y=m;else{var b=m<=.5?m*(p+1):m+p-m*p,w=m*2-b;g=d(w,b,f+1/3),v=d(w,b,f),y=d(w,b,f-1/3)}return[Math.round(g*255),Math.round(v*255),Math.round(y*255),c[4]?parseFloat(c[4]):1]}},o.Color.fromHsla=u.fromHsl,o.Color.fromHex=function(l){return u.fromSource(u.sourceFromHex(l))},o.Color.sourceFromHex=function(l){if(l.match(u.reHex)){var c=l.slice(l.indexOf("#")+1),f=c.length===3||c.length===4,p=c.length===8||c.length===4,m=f?c.charAt(0)+c.charAt(0):c.substring(0,2),g=f?c.charAt(1)+c.charAt(1):c.substring(2,4),v=f?c.charAt(2)+c.charAt(2):c.substring(4,6),y=p?f?c.charAt(3)+c.charAt(3):c.substring(6,8):"FF";return[parseInt(m,16),parseInt(g,16),parseInt(v,16),parseFloat((parseInt(y,16)/255).toFixed(2))]}},o.Color.fromSource=function(l){var c=new u;return c.setSource(l),c}}(e),function(a){var o=a.fabric||(a.fabric={}),u=["e","se","s","sw","w","nw","n","ne","e"],d=["ns","nesw","ew","nwse"],l={},c="left",f="top",p="right",m="bottom",g="center",v={top:m,bottom:f,left:p,right:c,center:g},y=o.util.radiansToDegrees,b=Math.sign||function(Y){return(Y>0)-(Y<0)||+Y};function w(Y,z){var K=Y.angle+y(Math.atan2(z.y,z.x))+360;return Math.round(K%360/45)}function C(Y,z){var K=z.transform.target,te=K.canvas,N=o.util.object.clone(z);N.target=K,te&&te.fire("object:"+Y,N),K.fire(Y,z)}function S(Y,z){var K=z.canvas,te=K.uniScaleKey,N=Y[te];return K.uniformScaling&&!N||!K.uniformScaling&&N}function _(Y){return Y.originX===g&&Y.originY===g}function T(Y,z,K){var te=Y.lockScalingX,N=Y.lockScalingY;return!!(te&&N||!z&&(te||N)&&K||te&&z==="x"||N&&z==="y")}function R(Y,z,K){var te="not-allowed",N=S(Y,K),q="";if(z.x!==0&&z.y===0?q="x":z.x===0&&z.y!==0&&(q="y"),T(K,q,N))return te;var ue=w(K,z);return u[ue]+"-resize"}function F(Y,z,K){var te="not-allowed";if(z.x!==0&&K.lockSkewingY||z.y!==0&&K.lockSkewingX)return te;var N=w(K,z)%4;return d[N]+"-resize"}function $(Y,z,K){return Y[K.canvas.altActionKey]?l.skewCursorStyleHandler(Y,z,K):l.scaleCursorStyleHandler(Y,z,K)}function G(Y,z,K){var te=Y[K.canvas.altActionKey];if(z.x===0)return te?"skewX":"scaleY";if(z.y===0)return te?"skewY":"scaleX"}function ne(Y,z,K){return K.lockRotation?"not-allowed":z.cursorStyle}function X(Y,z,K,te){return{e:Y,transform:z,pointer:{x:K,y:te}}}function J(Y){return function(z,K,te,N){var q=K.target,ue=q.getCenterPoint(),we=q.translateToOriginPoint(ue,K.originX,K.originY),ve=Y(z,K,te,N);return q.setPositionByOrigin(we,K.originX,K.originY),ve}}function re(Y,z){return function(K,te,N,q){var ue=z(K,te,N,q);return ue&&C(Y,X(K,te,N,q)),ue}}function ie(Y,z,K,te,N){var q=Y.target,ue=q.controls[Y.corner],we=q.canvas.getZoom(),ve=q.padding/we,Z=q.toLocalPoint(new o.Point(te,N),z,K);return Z.x>=ve&&(Z.x-=ve),Z.x<=-ve&&(Z.x+=ve),Z.y>=ve&&(Z.y-=ve),Z.y<=ve&&(Z.y+=ve),Z.x-=ue.offsetX,Z.y-=ue.offsetY,Z}function V(Y){return Y.flipX!==Y.flipY}function E(Y,z,K,te,N){if(Y[z]!==0){var q=Y._getTransformedDimensions()[te],ue=N/q*Y[K];Y.set(K,ue)}}function P(Y,z,K,te){var N=z.target,q=N._getTransformedDimensions(0,N.skewY),ue=ie(z,z.originX,z.originY,K,te),we=Math.abs(ue.x*2)-q.x,ve=N.skewX,Z;we<2?Z=0:(Z=y(Math.atan2(we/N.scaleX,q.y/N.scaleY)),z.originX===c&&z.originY===m&&(Z=-Z),z.originX===p&&z.originY===f&&(Z=-Z),V(N)&&(Z=-Z));var me=ve!==Z;if(me){var Se=N._getTransformedDimensions().y;N.set("skewX",Z),E(N,"skewY","scaleY","y",Se)}return me}function A(Y,z,K,te){var N=z.target,q=N._getTransformedDimensions(N.skewX,0),ue=ie(z,z.originX,z.originY,K,te),we=Math.abs(ue.y*2)-q.y,ve=N.skewY,Z;we<2?Z=0:(Z=y(Math.atan2(we/N.scaleY,q.x/N.scaleX)),z.originX===c&&z.originY===m&&(Z=-Z),z.originX===p&&z.originY===f&&(Z=-Z),V(N)&&(Z=-Z));var me=ve!==Z;if(me){var Se=N._getTransformedDimensions().x;N.set("skewY",Z),E(N,"skewX","scaleX","x",Se)}return me}function j(Y,z,K,te){var N=z.target,q=N.skewX,ue,we=z.originY;if(N.lockSkewingX)return!1;if(q===0){var ve=ie(z,g,g,K,te);ve.x>0?ue=c:ue=p}else q>0&&(ue=we===f?c:p),q<0&&(ue=we===f?p:c),V(N)&&(ue=ue===c?p:c);z.originX=ue;var Z=re("skewing",J(P));return Z(Y,z,K,te)}function H(Y,z,K,te){var N=z.target,q=N.skewY,ue,we=z.originX;if(N.lockSkewingY)return!1;if(q===0){var ve=ie(z,g,g,K,te);ve.y>0?ue=f:ue=m}else q>0&&(ue=we===c?f:m),q<0&&(ue=we===c?m:f),V(N)&&(ue=ue===f?m:f);z.originY=ue;var Z=re("skewing",J(A));return Z(Y,z,K,te)}function M(Y,z,K,te){var N=z,q=N.target,ue=q.translateToOriginPoint(q.getCenterPoint(),N.originX,N.originY);if(q.lockRotation)return!1;var we=Math.atan2(N.ey-ue.y,N.ex-ue.x),ve=Math.atan2(te-ue.y,K-ue.x),Z=y(ve-we+N.theta),me=!0;if(q.snapAngle>0){var Se=q.snapAngle,Pe=q.snapThreshold||Se,Ue=Math.ceil(Z/Se)*Se,Be=Math.floor(Z/Se)*Se;Math.abs(Z-Be)<Pe?Z=Be:Math.abs(Z-Ue)<Pe&&(Z=Ue)}return Z<0&&(Z=360+Z),Z%=360,me=q.angle!==Z,q.angle=Z,me}function O(Y,z,K,te,N){N=N||{};var q=z.target,ue=q.lockScalingX,we=q.lockScalingY,ve=N.by,Z,me,Se,Pe,Ue=S(Y,q),Be=T(q,ve,Ue),Ut,ct,Es=z.gestureScale;if(Be)return!1;if(Es)me=z.scaleX*Es,Se=z.scaleY*Es;else{if(Z=ie(z,z.originX,z.originY,K,te),Ut=ve!=="y"?b(Z.x):1,ct=ve!=="x"?b(Z.y):1,z.signX||(z.signX=Ut),z.signY||(z.signY=ct),q.lockScalingFlip&&(z.signX!==Ut||z.signY!==ct))return!1;if(Pe=q._getTransformedDimensions(),Ue&&!ve){var Ul=Math.abs(Z.x)+Math.abs(Z.y),or=z.original,nH=Math.abs(Pe.x*or.scaleX/q.scaleX)+Math.abs(Pe.y*or.scaleY/q.scaleY),g5=Ul/nH;me=or.scaleX*g5,Se=or.scaleY*g5}else me=Math.abs(Z.x*q.scaleX/Pe.x),Se=Math.abs(Z.y*q.scaleY/Pe.y);_(z)&&(me*=2,Se*=2),z.signX!==Ut&&ve!=="y"&&(z.originX=v[z.originX],me*=-1,z.signX=Ut),z.signY!==ct&&ve!=="x"&&(z.originY=v[z.originY],Se*=-1,z.signY=ct)}var rH=q.scaleX,iH=q.scaleY;return ve?(ve==="x"&&q.set("scaleX",me),ve==="y"&&q.set("scaleY",Se)):(!ue&&q.set("scaleX",me),!we&&q.set("scaleY",Se)),rH!==q.scaleX||iH!==q.scaleY}function I(Y,z,K,te){return O(Y,z,K,te)}function B(Y,z,K,te){return O(Y,z,K,te,{by:"x"})}function W(Y,z,K,te){return O(Y,z,K,te,{by:"y"})}function U(Y,z,K,te){return Y[z.target.canvas.altActionKey]?l.skewHandlerX(Y,z,K,te):l.scalingY(Y,z,K,te)}function ee(Y,z,K,te){return Y[z.target.canvas.altActionKey]?l.skewHandlerY(Y,z,K,te):l.scalingX(Y,z,K,te)}function se(Y,z,K,te){var N=z.target,q=ie(z,z.originX,z.originY,K,te),ue=N.strokeWidth/(N.strokeUniform?N.scaleX:1),we=_(z)?2:1,ve=N.width,Z=Math.abs(q.x*we/N.scaleX)-ue;return N.set("width",Math.max(Z,0)),ve!==Z}function fe(Y,z,K,te){var N=z.target,q=K-z.offsetX,ue=te-z.offsetY,we=!N.get("lockMovementX")&&N.left!==q,ve=!N.get("lockMovementY")&&N.top!==ue;return we&&N.set("left",q),ve&&N.set("top",ue),(we||ve)&&C("moving",X(Y,z,K,te)),we||ve}l.scaleCursorStyleHandler=R,l.skewCursorStyleHandler=F,l.scaleSkewCursorStyleHandler=$,l.rotationWithSnapping=re("rotating",J(M)),l.scalingEqually=re("scaling",J(I)),l.scalingX=re("scaling",J(B)),l.scalingY=re("scaling",J(W)),l.scalingYOrSkewingX=U,l.scalingXOrSkewingY=ee,l.changeWidth=re("resizing",J(se)),l.skewHandlerX=j,l.skewHandlerY=H,l.dragHandler=fe,l.scaleOrSkewActionName=G,l.rotationStyleHandler=ne,l.fireEvent=C,l.wrapWithFixedAnchor=J,l.wrapWithFireEvent=re,l.getLocalPoint=ie,o.controlsUtils=l}(e),function(a){var o=a.fabric||(a.fabric={}),u=o.util.degreesToRadians,d=o.controlsUtils;function l(f,p,m,g,v){g=g||{};var y=this.sizeX||g.cornerSize||v.cornerSize,b=this.sizeY||g.cornerSize||v.cornerSize,w=typeof g.transparentCorners<"u"?g.transparentCorners:v.transparentCorners,C=w?"stroke":"fill",S=!w&&(g.cornerStrokeColor||v.cornerStrokeColor),_=p,T=m,R;f.save(),f.fillStyle=g.cornerColor||v.cornerColor,f.strokeStyle=g.cornerStrokeColor||v.cornerStrokeColor,y>b?(R=y,f.scale(1,b/y),T=m*y/b):b>y?(R=b,f.scale(y/b,1),_=p*b/y):R=y,f.lineWidth=1,f.beginPath(),f.arc(_,T,R/2,0,2*Math.PI,!1),f[C](),S&&f.stroke(),f.restore()}function c(f,p,m,g,v){g=g||{};var y=this.sizeX||g.cornerSize||v.cornerSize,b=this.sizeY||g.cornerSize||v.cornerSize,w=typeof g.transparentCorners<"u"?g.transparentCorners:v.transparentCorners,C=w?"stroke":"fill",S=!w&&(g.cornerStrokeColor||v.cornerStrokeColor),_=y/2,T=b/2;f.save(),f.fillStyle=g.cornerColor||v.cornerColor,f.strokeStyle=g.cornerStrokeColor||v.cornerStrokeColor,f.lineWidth=1,f.translate(p,m),f.rotate(u(v.angle)),f[C+"Rect"](-_,-T,y,b),S&&f.strokeRect(-_,-T,y,b),f.restore()}d.renderCircleControl=l,d.renderSquareControl=c}(e),function(a){var o=a.fabric||(a.fabric={});function u(d){for(var l in d)this[l]=d[l]}o.Control=u,o.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(d,l){return l.cursorStyle},getActionName:function(d,l){return l.actionName},getVisibility:function(d,l){var c=d._controlsVisibility;return c&&typeof c[l]<"u"?c[l]:this.visible},setVisibility:function(d){this.visible=d},positionHandler:function(d,l){var c=o.util.transformPoint({x:this.x*d.x+this.offsetX,y:this.y*d.y+this.offsetY},l);return c},calcCornerCoords:function(d,l,c,f,p){var m,g,v,y,b=p?this.touchSizeX:this.sizeX,w=p?this.touchSizeY:this.sizeY;if(b&&w&&b!==w){var C=Math.atan2(w,b),S=Math.sqrt(b*b+w*w)/2,_=C-o.util.degreesToRadians(d),T=Math.PI/2-C-o.util.degreesToRadians(d);m=S*o.util.cos(_),g=S*o.util.sin(_),v=S*o.util.cos(T),y=S*o.util.sin(T)}else{var R=b&&w?b:l;S=R*.7071067812;var _=o.util.degreesToRadians(45-d);m=v=S*o.util.cos(_),g=y=S*o.util.sin(_)}return{tl:{x:c-y,y:f-v},tr:{x:c+m,y:f-g},bl:{x:c-m,y:f+g},br:{x:c+y,y:f+v}}},render:function(d,l,c,f,p){switch(f=f||{},f.cornerStyle||p.cornerStyle){case"circle":o.controlsUtils.renderCircleControl.call(this,d,l,c,f,p);break;default:o.controlsUtils.renderSquareControl.call(this,d,l,c,f,p)}}}}(e),function(){function a(c,f){var p=c.getAttribute("style"),m=c.getAttribute("offset")||0,g,v,y,b;if(m=parseFloat(m)/(/%$/.test(m)?100:1),m=m<0?0:m>1?1:m,p){var w=p.split(/\s*;\s*/);for(w[w.length-1]===""&&w.pop(),b=w.length;b--;){var C=w[b].split(/\s*:\s*/),S=C[0].trim(),_=C[1].trim();S==="stop-color"?g=_:S==="stop-opacity"&&(y=_)}}return g||(g=c.getAttribute("stop-color")||"rgb(0,0,0)"),y||(y=c.getAttribute("stop-opacity")),g=new t.Color(g),v=g.getAlpha(),y=isNaN(parseFloat(y))?1:parseFloat(y),y*=v*f,{offset:m,color:g.toRgb(),opacity:y}}function o(c){return{x1:c.getAttribute("x1")||0,y1:c.getAttribute("y1")||0,x2:c.getAttribute("x2")||"100%",y2:c.getAttribute("y2")||0}}function u(c){return{x1:c.getAttribute("fx")||c.getAttribute("cx")||"50%",y1:c.getAttribute("fy")||c.getAttribute("cy")||"50%",r1:0,x2:c.getAttribute("cx")||"50%",y2:c.getAttribute("cy")||"50%",r2:c.getAttribute("r")||"50%"}}var d=t.util.object.clone;t.Gradient=t.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(c){c||(c={}),c.coords||(c.coords={});var f,p=this;Object.keys(c).forEach(function(m){p[m]=c[m]}),this.id?this.id+="_"+t.Object.__uid++:this.id=t.Object.__uid++,f={x1:c.coords.x1||0,y1:c.coords.y1||0,x2:c.coords.x2||0,y2:c.coords.y2||0},this.type==="radial"&&(f.r1=c.coords.r1||0,f.r2=c.coords.r2||0),this.coords=f,this.colorStops=c.colorStops.slice()},addColorStop:function(c){for(var f in c){var p=new t.Color(c[f]);this.colorStops.push({offset:parseFloat(f),color:p.toRgb(),opacity:p.getAlpha()})}return this},toObject:function(c){var f={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return t.util.populateWithProperties(this,f,c),f},toSVG:function(c,v){var p=d(this.coords,!0),m,g,v=v||{},y,b,w=d(this.colorStops,!0),C=p.r1>p.r2,S=this.gradientTransform?this.gradientTransform.concat():t.iMatrix.concat(),_=-this.offsetX,T=-this.offsetY,R=!!v.additionalTransform,F=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(w.sort(function(J,re){return J.offset-re.offset}),F==="objectBoundingBox"?(_/=c.width,T/=c.height):(_+=c.width/2,T+=c.height/2),c.type==="path"&&this.gradientUnits!=="percentage"&&(_-=c.pathOffset.x,T-=c.pathOffset.y),S[4]-=_,S[5]-=T,b='id="SVGID_'+this.id+'" gradientUnits="'+F+'"',b+=' gradientTransform="'+(R?v.additionalTransform+" ":"")+t.util.matrixToSVG(S)+'" ',this.type==="linear"?y=["<linearGradient ",b,' x1="',p.x1,'" y1="',p.y1,'" x2="',p.x2,'" y2="',p.y2,`">
`]:this.type==="radial"&&(y=["<radialGradient ",b,' cx="',C?p.x1:p.x2,'" cy="',C?p.y1:p.y2,'" r="',C?p.r1:p.r2,'" fx="',C?p.x2:p.x1,'" fy="',C?p.y2:p.y1,`">
`]),this.type==="radial"){if(C)for(w=w.concat(),w.reverse(),m=0,g=w.length;m<g;m++)w[m].offset=1-w[m].offset;var $=Math.min(p.r1,p.r2);if($>0){var G=Math.max(p.r1,p.r2),ne=$/G;for(m=0,g=w.length;m<g;m++)w[m].offset+=ne*(1-w[m].offset)}}for(m=0,g=w.length;m<g;m++){var X=w[m];y.push("<stop ",'offset="',X.offset*100+"%",'" style="stop-color:',X.color,typeof X.opacity<"u"?";stop-opacity: "+X.opacity:";",`"/>
`)}return y.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),y.join("")},toLive:function(c){var f,p=t.util.object.clone(this.coords),m,g;if(this.type){for(this.type==="linear"?f=c.createLinearGradient(p.x1,p.y1,p.x2,p.y2):this.type==="radial"&&(f=c.createRadialGradient(p.x1,p.y1,p.r1,p.x2,p.y2,p.r2)),m=0,g=this.colorStops.length;m<g;m++){var v=this.colorStops[m].color,y=this.colorStops[m].opacity,b=this.colorStops[m].offset;typeof y<"u"&&(v=new t.Color(v).setAlpha(y).toRgba()),f.addColorStop(b,v)}return f}}}),t.util.object.extend(t.Gradient,{fromElement:function(c,f,p,m){var g=parseFloat(p)/(/%$/.test(p)?100:1);g=g<0?0:g>1?1:g,isNaN(g)&&(g=1);var v=c.getElementsByTagName("stop"),y,b=c.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",w=c.getAttribute("gradientTransform")||"",C=[],S,_,T=0,R=0,F;for(c.nodeName==="linearGradient"||c.nodeName==="LINEARGRADIENT"?(y="linear",S=o(c)):(y="radial",S=u(c)),_=v.length;_--;)C.push(a(v[_],g));F=t.parseTransformAttribute(w),l(f,S,m,b),b==="pixels"&&(T=-f.left,R=-f.top);var $=new t.Gradient({id:c.getAttribute("id"),type:y,coords:S,colorStops:C,gradientUnits:b,gradientTransform:F,offsetX:T,offsetY:R});return $}});function l(c,f,p,m){var g,v;Object.keys(f).forEach(function(y){g=f[y],g==="Infinity"?v=1:g==="-Infinity"?v=0:(v=parseFloat(f[y],10),typeof g=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(g)&&(v*=.01,m==="pixels"&&((y==="x1"||y==="x2"||y==="r2")&&(v*=p.viewBoxWidth||p.width),(y==="y1"||y==="y2")&&(v*=p.viewBoxHeight||p.height)))),f[y]=v})}}(),function(){var a=t.util.toFixed;t.Pattern=t.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(o,u){if(o||(o={}),this.id=t.Object.__uid++,this.setOptions(o),!o.source||o.source&&typeof o.source!="string"){u&&u(this);return}else{var d=this;this.source=t.util.createImage(),t.util.loadImage(o.source,function(l,c){d.source=l,u&&u(d,c)},null,this.crossOrigin)}},toObject:function(o){var u=t.Object.NUM_FRACTION_DIGITS,d,l;return typeof this.source.src=="string"?d=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(d=this.source.toDataURL()),l={type:"pattern",source:d,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:a(this.offsetX,u),offsetY:a(this.offsetY,u),patternTransform:this.patternTransform?this.patternTransform.concat():null},t.util.populateWithProperties(this,l,o),l},toSVG:function(o){var u=typeof this.source=="function"?this.source():this.source,d=u.width/o.width,l=u.height/o.height,c=this.offsetX/o.width,f=this.offsetY/o.height,p="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(l=1,f&&(l+=Math.abs(f))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(d=1,c&&(d+=Math.abs(c))),u.src?p=u.src:u.toDataURL&&(p=u.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+c+'" y="'+f+'" width="'+d+'" height="'+l+`">
<image x="0" y="0" width="`+u.width+'" height="'+u.height+'" xlink:href="'+p+`"></image>
</pattern>
`},setOptions:function(o){for(var u in o)this[u]=o[u]},toLive:function(o){var u=this.source;return!u||typeof u.src<"u"&&(!u.complete||u.naturalWidth===0||u.naturalHeight===0)?"":o.createPattern(u,this.repeat)}})}(),function(a){var o=a.fabric||(a.fabric={}),u=o.util.toFixed;if(o.Shadow){o.warn("fabric.Shadow is already defined.");return}o.Shadow=o.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(d){typeof d=="string"&&(d=this._parseShadow(d));for(var l in d)this[l]=d[l];this.id=o.Object.__uid++},_parseShadow:function(d){var l=d.trim(),c=o.Shadow.reOffsetsAndBlur.exec(l)||[],f=l.replace(o.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:f.trim(),offsetX:parseFloat(c[1],10)||0,offsetY:parseFloat(c[2],10)||0,blur:parseFloat(c[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(d){var l=40,c=40,f=o.Object.NUM_FRACTION_DIGITS,p=o.util.rotateVector({x:this.offsetX,y:this.offsetY},o.util.degreesToRadians(-d.angle)),m=20,g=new o.Color(this.color);return d.width&&d.height&&(l=u((Math.abs(p.x)+this.blur)/d.width,f)*100+m,c=u((Math.abs(p.y)+this.blur)/d.height,f)*100+m),d.flipX&&(p.x*=-1),d.flipY&&(p.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+c+'%" height="'+(100+2*c)+'%" x="-'+l+'%" width="'+(100+2*l)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+u(this.blur?this.blur/2:0,f)+`"></feGaussianBlur>
	<feOffset dx="`+u(p.x,f)+'" dy="'+u(p.y,f)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+g.toRgb()+'" flood-opacity="'+g.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var d={},l=o.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(c){this[c]!==l[c]&&(d[c]=this[c])},this),d}}),o.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(e),function(){if(t.StaticCanvas){t.warn("fabric.StaticCanvas is already defined.");return}var a=t.util.object.extend,o=t.util.getElementOffset,u=t.util.removeFromArray,d=t.util.toFixed,l=t.util.transformPoint,c=t.util.invertTransform,f=t.util.getNodeCanvas,p=t.util.createCanvasElement,m=new Error("Could not initialize `canvas` element");t.StaticCanvas=t.util.createClass(t.CommonMethods,{initialize:function(g,v){v||(v={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(g,v)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:t.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(g,v){var y=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(g),this._initOptions(v),this.interactive||this._initRetinaScaling(),v.overlayImage&&this.setOverlayImage(v.overlayImage,y),v.backgroundImage&&this.setBackgroundImage(v.backgroundImage,y),v.backgroundColor&&this.setBackgroundColor(v.backgroundColor,y),v.overlayColor&&this.setOverlayColor(v.overlayColor,y),this.calcOffset()},_isRetinaScaling:function(){return t.devicePixelRatio>1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?Math.max(1,t.devicePixelRatio):1},_initRetinaScaling:function(){if(this._isRetinaScaling()){var g=t.devicePixelRatio;this.__initRetinaScaling(g,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(g,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(g,v,y){v.setAttribute("width",this.width*g),v.setAttribute("height",this.height*g),y.scale(g,g)},calcOffset:function(){return this._offset=o(this.lowerCanvasEl),this},setOverlayImage:function(g,v,y){return this.__setBgOverlayImage("overlayImage",g,v,y)},setBackgroundImage:function(g,v,y){return this.__setBgOverlayImage("backgroundImage",g,v,y)},setOverlayColor:function(g,v){return this.__setBgOverlayColor("overlayColor",g,v)},setBackgroundColor:function(g,v){return this.__setBgOverlayColor("backgroundColor",g,v)},__setBgOverlayImage:function(g,v,y,b){return typeof v=="string"?t.util.loadImage(v,function(w,C){if(w){var S=new t.Image(w,b);this[g]=S,S.canvas=this}y&&y(w,C)},this,b&&b.crossOrigin):(b&&v.setOptions(b),this[g]=v,v&&(v.canvas=this),y&&y(v,!1)),this},__setBgOverlayColor:function(g,v,y){return this[g]=v,this._initGradient(v,g),this._initPattern(v,g,y),this},_createCanvasElement:function(){var g=p();if(!g||(g.style||(g.style={}),typeof g.getContext>"u"))throw m;return g},_initOptions:function(g){var v=this.lowerCanvasEl;this._setOptions(g),this.width=this.width||parseInt(v.width,10)||0,this.height=this.height||parseInt(v.height,10)||0,this.lowerCanvasEl.style&&(v.width=this.width,v.height=this.height,v.style.width=this.width+"px",v.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(g){g&&g.getContext?this.lowerCanvasEl=g:this.lowerCanvasEl=t.util.getById(g)||this._createCanvasElement(),t.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(g,v){return this.setDimensions({width:g},v)},setHeight:function(g,v){return this.setDimensions({height:g},v)},setDimensions:function(g,v){var y;v=v||{};for(var b in g)y=g[b],v.cssOnly||(this._setBackstoreDimension(b,g[b]),y+="px",this.hasLostContext=!0),v.backstoreOnly||this._setCssDimension(b,y);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(this.contextTop),this._initRetinaScaling(),this.calcOffset(),v.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(g,v){return this.lowerCanvasEl[g]=v,this.upperCanvasEl&&(this.upperCanvasEl[g]=v),this.cacheCanvasEl&&(this.cacheCanvasEl[g]=v),this[g]=v,this},_setCssDimension:function(g,v){return this.lowerCanvasEl.style[g]=v,this.upperCanvasEl&&(this.upperCanvasEl.style[g]=v),this.wrapperEl&&(this.wrapperEl.style[g]=v),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(g){var v=this._activeObject,y=this.backgroundImage,b=this.overlayImage,w,C,S;for(this.viewportTransform=g,C=0,S=this._objects.length;C<S;C++)w=this._objects[C],w.group||w.setCoords(!0);return v&&v.setCoords(),y&&y.setCoords(!0),b&&b.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(g,v){var y=g,b=this.viewportTransform.slice(0);g=l(g,c(this.viewportTransform)),b[0]=v,b[3]=v;var w=l(g,b);return b[4]+=y.x-w.x,b[5]+=y.y-w.y,this.setViewportTransform(b)},setZoom:function(g){return this.zoomToPoint(new t.Point(0,0),g),this},absolutePan:function(g){var v=this.viewportTransform.slice(0);return v[4]=-g.x,v[5]=-g.y,this.setViewportTransform(v)},relativePan:function(g){return this.absolutePan(new t.Point(-g.x-this.viewportTransform[4],-g.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(g){this.stateful&&g.setupState(),g._set("canvas",this),g.setCoords(),this.fire("object:added",{target:g}),g.fire("added")},_onObjectRemoved:function(g){this.fire("object:removed",{target:g}),g.fire("removed"),delete g.canvas},clearContext:function(g){return g.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var g=this.contextContainer;return this.renderCanvas(g,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=t.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var g={},v=this.width,y=this.height,b=c(this.viewportTransform);return g.tl=l({x:0,y:0},b),g.br=l({x:v,y},b),g.tr=new t.Point(g.br.x,g.tl.y),g.bl=new t.Point(g.tl.x,g.br.y),this.vptCoords=g,g},cancelRequestedRender:function(){this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(g,v){var y=this.viewportTransform,b=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(g),t.util.setImageSmoothing(g,this.imageSmoothingEnabled),this.fire("before:render",{ctx:g}),this._renderBackground(g),g.save(),g.transform(y[0],y[1],y[2],y[3],y[4],y[5]),this._renderObjects(g,v),g.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(g),b&&(b.canvas=this,b.shouldCache(),b._transformDone=!0,b.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(g)),this._renderOverlay(g),this.controlsAboveOverlay&&this.interactive&&this.drawControls(g),this.fire("after:render",{ctx:g})},drawClipPathOnCanvas:function(g){var v=this.viewportTransform,y=this.clipPath;g.save(),g.transform(v[0],v[1],v[2],v[3],v[4],v[5]),g.globalCompositeOperation="destination-in",y.transform(g),g.scale(1/y.zoomX,1/y.zoomY),g.drawImage(y._cacheCanvas,-y.cacheTranslationX,-y.cacheTranslationY),g.restore()},_renderObjects:function(g,v){var y,b;for(y=0,b=v.length;y<b;++y)v[y]&&v[y].render(g)},_renderBackgroundOrOverlay:function(g,v){var y=this[v+"Color"],b=this[v+"Image"],w=this.viewportTransform,C=this[v+"Vpt"];if(!(!y&&!b)){if(y){g.save(),g.beginPath(),g.moveTo(0,0),g.lineTo(this.width,0),g.lineTo(this.width,this.height),g.lineTo(0,this.height),g.closePath(),g.fillStyle=y.toLive?y.toLive(g,this):y,C&&g.transform(w[0],w[1],w[2],w[3],w[4],w[5]),g.transform(1,0,0,1,y.offsetX||0,y.offsetY||0);var S=y.gradientTransform||y.patternTransform;S&&g.transform(S[0],S[1],S[2],S[3],S[4],S[5]),g.fill(),g.restore()}b&&(g.save(),C&&g.transform(w[0],w[1],w[2],w[3],w[4],w[5]),b.render(g),g.restore())}},_renderBackground:function(g){this._renderBackgroundOrOverlay(g,"background")},_renderOverlay:function(g){this._renderBackgroundOrOverlay(g,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},getCenterPoint:function(){return new t.Point(this.width/2,this.height/2)},centerObjectH:function(g){return this._centerObject(g,new t.Point(this.getCenterPoint().x,g.getCenterPoint().y))},centerObjectV:function(g){return this._centerObject(g,new t.Point(g.getCenterPoint().x,this.getCenterPoint().y))},centerObject:function(g){var v=this.getCenterPoint();return this._centerObject(g,v)},viewportCenterObject:function(g){var v=this.getVpCenter();return this._centerObject(g,v)},viewportCenterObjectH:function(g){var v=this.getVpCenter();return this._centerObject(g,new t.Point(v.x,g.getCenterPoint().y)),this},viewportCenterObjectV:function(g){var v=this.getVpCenter();return this._centerObject(g,new t.Point(g.getCenterPoint().x,v.y))},getVpCenter:function(){var g=this.getCenterPoint(),v=c(this.viewportTransform);return l(g,v)},_centerObject:function(g,v){return g.setPositionByOrigin(v,"center","center"),g.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(g){return this.toDatalessObject(g)},toObject:function(g){return this._toObjectMethod("toObject",g)},toDatalessObject:function(g){return this._toObjectMethod("toDatalessObject",g)},_toObjectMethod:function(g,v){var y=this.clipPath,b={version:t.version,objects:this._toObjects(g,v)};return y&&!y.excludeFromExport&&(b.clipPath=this._toObject(this.clipPath,g,v)),a(b,this.__serializeBgOverlay(g,v)),t.util.populateWithProperties(this,b,v),b},_toObjects:function(g,v){return this._objects.filter(function(y){return!y.excludeFromExport}).map(function(y){return this._toObject(y,g,v)},this)},_toObject:function(g,v,y){var b;this.includeDefaultValues||(b=g.includeDefaultValues,g.includeDefaultValues=!1);var w=g[v](y);return this.includeDefaultValues||(g.includeDefaultValues=b),w},__serializeBgOverlay:function(g,v){var y={},b=this.backgroundImage,w=this.overlayImage,C=this.backgroundColor,S=this.overlayColor;return C&&C.toObject?C.excludeFromExport||(y.background=C.toObject(v)):C&&(y.background=C),S&&S.toObject?S.excludeFromExport||(y.overlay=S.toObject(v)):S&&(y.overlay=S),b&&!b.excludeFromExport&&(y.backgroundImage=this._toObject(b,g,v)),w&&!w.excludeFromExport&&(y.overlayImage=this._toObject(w,g,v)),y},svgViewportTransformation:!0,toSVG:function(g,v){g||(g={}),g.reviver=v;var y=[];return this._setSVGPreamble(y,g),this._setSVGHeader(y,g),this.clipPath&&y.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(y,"background"),this._setSVGBgOverlayImage(y,"backgroundImage",v),this._setSVGObjects(y,v),this.clipPath&&y.push(`</g>
`),this._setSVGBgOverlayColor(y,"overlay"),this._setSVGBgOverlayImage(y,"overlayImage",v),y.push("</svg>"),y.join("")},_setSVGPreamble:function(g,v){v.suppressPreamble||g.push('<?xml version="1.0" encoding="',v.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(g,v){var y=v.width||this.width,b=v.height||this.height,w,C='viewBox="0 0 '+this.width+" "+this.height+'" ',S=t.Object.NUM_FRACTION_DIGITS;v.viewBox?C='viewBox="'+v.viewBox.x+" "+v.viewBox.y+" "+v.viewBox.width+" "+v.viewBox.height+'" ':this.svgViewportTransformation&&(w=this.viewportTransform,C='viewBox="'+d(-w[4]/w[0],S)+" "+d(-w[5]/w[3],S)+" "+d(this.width/w[0],S)+" "+d(this.height/w[3],S)+'" '),g.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',y,'" ','height="',b,'" ',C,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",t.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(v),`</defs>
`)},createSVGClipPathMarkup:function(g){var v=this.clipPath;return v?(v.clipPathId="CLIPPATH_"+t.Object.__uid++,'<clipPath id="'+v.clipPathId+`" >
`+this.clipPath.toClipPathSVG(g.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var g=this,v=["background","overlay"].map(function(y){var b=g[y+"Color"];if(b&&b.toLive){var w=g[y+"Vpt"],C=g.viewportTransform,S={width:g.width/(w?C[0]:1),height:g.height/(w?C[3]:1)};return b.toSVG(S,{additionalTransform:w?t.util.matrixToSVG(C):""})}});return v.join("")},createSVGFontFacesMarkup:function(){var g="",v={},y,b,w,C,S,_,T,R,F,$=t.fontPaths,G=[];for(this._objects.forEach(function X(J){G.push(J),J._objects&&J._objects.forEach(X)}),R=0,F=G.length;R<F;R++)if(y=G[R],b=y.fontFamily,!(y.type.indexOf("text")===-1||v[b]||!$[b])&&(v[b]=!0,!!y.styles)){w=y.styles;for(S in w){C=w[S];for(T in C)_=C[T],b=_.fontFamily,!v[b]&&$[b]&&(v[b]=!0)}}for(var ne in v)g+=[`		@font-face {
`,"			font-family: '",ne,`';
`,"			src: url('",$[ne],`');
`,`		}
`].join("");return g&&(g=['	<style type="text/css">',`<![CDATA[
`,g,"]]>",`</style>
`].join("")),g},_setSVGObjects:function(g,v){var y,b,w,C=this._objects;for(b=0,w=C.length;b<w;b++)y=C[b],!y.excludeFromExport&&this._setSVGObject(g,y,v)},_setSVGObject:function(g,v,y){g.push(v.toSVG(y))},_setSVGBgOverlayImage:function(g,v,y){this[v]&&!this[v].excludeFromExport&&this[v].toSVG&&g.push(this[v].toSVG(y))},_setSVGBgOverlayColor:function(g,v){var y=this[v+"Color"],b=this.viewportTransform,w=this.width,C=this.height;if(y)if(y.toLive){var S=y.repeat,_=t.util.invertTransform(b),T=this[v+"Vpt"],R=T?t.util.matrixToSVG(_):"";g.push('<rect transform="'+R+" translate(",w/2,",",C/2,')"',' x="',y.offsetX-w/2,'" y="',y.offsetY-C/2,'" ','width="',S==="repeat-y"||S==="no-repeat"?y.source.width:w,'" height="',S==="repeat-x"||S==="no-repeat"?y.source.height:C,'" fill="url(#SVGID_'+y.id+')"',`></rect>
`)}else g.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',y,'"',`></rect>
`)},sendToBack:function(g){if(!g)return this;var v=this._activeObject,y,b,w;if(g===v&&g.type==="activeSelection")for(w=v._objects,y=w.length;y--;)b=w[y],u(this._objects,b),this._objects.unshift(b);else u(this._objects,g),this._objects.unshift(g);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(g){if(!g)return this;var v=this._activeObject,y,b,w;if(g===v&&g.type==="activeSelection")for(w=v._objects,y=0;y<w.length;y++)b=w[y],u(this._objects,b),this._objects.push(b);else u(this._objects,g),this._objects.push(g);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(g,v){if(!g)return this;var y=this._activeObject,b,w,C,S,_,T=0;if(g===y&&g.type==="activeSelection")for(_=y._objects,b=0;b<_.length;b++)w=_[b],C=this._objects.indexOf(w),C>0+T&&(S=C-1,u(this._objects,w),this._objects.splice(S,0,w)),T++;else C=this._objects.indexOf(g),C!==0&&(S=this._findNewLowerIndex(g,C,v),u(this._objects,g),this._objects.splice(S,0,g));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(g,v,y){var b,w;if(y)for(b=v,w=v-1;w>=0;--w){var C=g.intersectsWithObject(this._objects[w])||g.isContainedWithinObject(this._objects[w])||this._objects[w].isContainedWithinObject(g);if(C){b=w;break}}else b=v-1;return b},bringForward:function(g,v){if(!g)return this;var y=this._activeObject,b,w,C,S,_,T=0;if(g===y&&g.type==="activeSelection")for(_=y._objects,b=_.length;b--;)w=_[b],C=this._objects.indexOf(w),C<this._objects.length-1-T&&(S=C+1,u(this._objects,w),this._objects.splice(S,0,w)),T++;else C=this._objects.indexOf(g),C!==this._objects.length-1&&(S=this._findNewUpperIndex(g,C,v),u(this._objects,g),this._objects.splice(S,0,g));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(g,v,y){var b,w,C;if(y)for(b=v,w=v+1,C=this._objects.length;w<C;++w){var S=g.intersectsWithObject(this._objects[w])||g.isContainedWithinObject(this._objects[w])||this._objects[w].isContainedWithinObject(g);if(S){b=w;break}}else b=v+1;return b},moveTo:function(g,v){return u(this._objects,g),this._objects.splice(v,0,g),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(t.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(g){g.dispose&&g.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),t.util.setStyle(this.lowerCanvasEl,this._originalCanvasStyle),delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),t.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),a(t.StaticCanvas.prototype,t.Observable),a(t.StaticCanvas.prototype,t.Collection),a(t.StaticCanvas.prototype,t.DataURLExporter),a(t.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(g){var v=p();if(!v||!v.getContext)return null;var y=v.getContext("2d");if(!y)return null;switch(g){case"setLineDash":return typeof y.setLineDash<"u";default:return null}}}),t.StaticCanvas.prototype.toJSON=t.StaticCanvas.prototype.toObject,t.isLikelyNode&&(t.StaticCanvas.prototype.createPNGStream=function(){var g=f(this.lowerCanvasEl);return g&&g.createPNGStream()},t.StaticCanvas.prototype.createJPEGStream=function(g){var v=f(this.lowerCanvasEl);return v&&v.createJPEGStream(g)})}(),t.BaseBrush=t.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(a){a.strokeStyle=this.color,a.lineWidth=this.width,a.lineCap=this.strokeLineCap,a.miterLimit=this.strokeMiterLimit,a.lineJoin=this.strokeLineJoin,a.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(a){var o=this.canvas.viewportTransform;a.save(),a.transform(o[0],o[1],o[2],o[3],o[4],o[5])},_setShadow:function(){if(this.shadow){var a=this.canvas,o=this.shadow,u=a.contextTop,d=a.getZoom();a&&a._isRetinaScaling()&&(d*=t.devicePixelRatio),u.shadowColor=o.color,u.shadowBlur=o.blur*d,u.shadowOffsetX=o.offsetX*d,u.shadowOffsetY=o.offsetY*d}},needsFullRender:function(){var a=new t.Color(this.color);return a.getAlpha()<1||!!this.shadow},_resetShadow:function(){var a=this.canvas.contextTop;a.shadowColor="",a.shadowBlur=a.shadowOffsetX=a.shadowOffsetY=0},_isOutSideCanvas:function(a){return a.x<0||a.x>this.canvas.getWidth()||a.y<0||a.y>this.canvas.getHeight()}}),function(){t.PencilBrush=t.util.createClass(t.BaseBrush,{decimate:.4,drawStraightLine:!1,straightLineKey:"shiftKey",initialize:function(a){this.canvas=a,this._points=[]},needsFullRender:function(){return this.callSuper("needsFullRender")||this._hasStraightLine},_drawSegment:function(a,o,u){var d=o.midPointFrom(u);return a.quadraticCurveTo(o.x,o.y,d.x,d.y),d},onMouseDown:function(a,o){this.canvas._isMainEvent(o.e)&&(this.drawStraightLine=o.e[this.straightLineKey],this._prepareForDrawing(a),this._captureDrawingPath(a),this._render())},onMouseMove:function(a,o){if(this.canvas._isMainEvent(o.e)&&(this.drawStraightLine=o.e[this.straightLineKey],!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(a))&&this._captureDrawingPath(a)&&this._points.length>1))if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var u=this._points,d=u.length,l=this.canvas.contextTop;this._saveAndTransform(l),this.oldEnd&&(l.beginPath(),l.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(l,u[d-2],u[d-1],!0),l.stroke(),l.restore()}},onMouseUp:function(a){return this.canvas._isMainEvent(a.e)?(this.drawStraightLine=!1,this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(a){var o=new t.Point(a.x,a.y);this._reset(),this._addPoint(o),this.canvas.contextTop.moveTo(o.x,o.y)},_addPoint:function(a){return this._points.length>1&&a.eq(this._points[this._points.length-1])?!1:(this.drawStraightLine&&this._points.length>1&&(this._hasStraightLine=!0,this._points.pop()),this._points.push(a),!0)},_reset:function(){this._points=[],this._setBrushStyles(this.canvas.contextTop),this._setShadow(),this._hasStraightLine=!1},_captureDrawingPath:function(a){var o=new t.Point(a.x,a.y);return this._addPoint(o)},_render:function(a){var o,u,d=this._points[0],l=this._points[1];if(a=a||this.canvas.contextTop,this._saveAndTransform(a),a.beginPath(),this._points.length===2&&d.x===l.x&&d.y===l.y){var c=this.width/1e3;d=new t.Point(d.x,d.y),l=new t.Point(l.x,l.y),d.x-=c,l.x+=c}for(a.moveTo(d.x,d.y),o=1,u=this._points.length;o<u;o++)this._drawSegment(a,d,l),d=this._points[o],l=this._points[o+1];a.lineTo(d.x,d.y),a.stroke(),a.restore()},convertPointsToSVGPath:function(a){var o=this.width/1e3;return t.util.getSmoothPathFromPoints(a,o)},_isEmptySVGPath:function(a){var o=t.util.joinPath(a);return o==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(a){var o=new t.Path(a,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,o.shadow=new t.Shadow(this.shadow)),o},decimatePoints:function(a,o){if(a.length<=2)return a;var u=this.canvas.getZoom(),d=Math.pow(o/u,2),l,c=a.length-1,f=a[0],p=[f],m;for(l=1;l<c-1;l++)m=Math.pow(f.x-a[l].x,2)+Math.pow(f.y-a[l].y,2),m>=d&&(f=a[l],p.push(f));return p.push(a[c]),p},_finalizeAndAddPath:function(){var a=this.canvas.contextTop;a.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var o=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(o)){this.canvas.requestRenderAll();return}var u=this.createPath(o);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:u}),this.canvas.add(u),this.canvas.requestRenderAll(),u.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:u})}})}(),t.CircleBrush=t.util.createClass(t.BaseBrush,{width:10,initialize:function(a){this.canvas=a,this.points=[]},drawDot:function(a){var o=this.addPoint(a),u=this.canvas.contextTop;this._saveAndTransform(u),this.dot(u,o),u.restore()},dot:function(a,o){a.fillStyle=o.fill,a.beginPath(),a.arc(o.x,o.y,o.radius,0,Math.PI*2,!1),a.closePath(),a.fill()},onMouseDown:function(a){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(a)},_render:function(){var a=this.canvas.contextTop,o,u,d=this.points;for(this._saveAndTransform(a),o=0,u=d.length;o<u;o++)this.dot(a,d[o]);a.restore()},onMouseMove:function(a){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(a)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(a),this._render()):this.drawDot(a))},onMouseUp:function(){var a=this.canvas.renderOnAddRemove,o,u;this.canvas.renderOnAddRemove=!1;var d=[];for(o=0,u=this.points.length;o<u;o++){var l=this.points[o],c=new t.Circle({radius:l.radius,left:l.x,top:l.y,originX:"center",originY:"center",fill:l.fill});this.shadow&&(c.shadow=new t.Shadow(this.shadow)),d.push(c)}var f=new t.Group(d);f.canvas=this.canvas,this.canvas.fire("before:path:created",{path:f}),this.canvas.add(f),this.canvas.fire("path:created",{path:f}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=a,this.canvas.requestRenderAll()},addPoint:function(a){var o=new t.Point(a.x,a.y),u=t.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,d=new t.Color(this.color).setAlpha(t.util.getRandomInt(0,100)/100).toRgba();return o.radius=u,o.fill=d,this.points.push(o),o}}),t.SprayBrush=t.util.createClass(t.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(a){this.canvas=a,this.sprayChunks=[]},onMouseDown:function(a){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(a),this.render(this.sprayChunkPoints)},onMouseMove:function(a){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(a)||(this.addSprayChunk(a),this.render(this.sprayChunkPoints))},onMouseUp:function(){var a=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var o=[],u=0,d=this.sprayChunks.length;u<d;u++)for(var l=this.sprayChunks[u],c=0,f=l.length;c<f;c++){var p=new t.Rect({width:l[c].width,height:l[c].width,left:l[c].x+1,top:l[c].y+1,originX:"center",originY:"center",fill:this.color});o.push(p)}this.optimizeOverlapping&&(o=this._getOptimizedRects(o));var m=new t.Group(o);this.shadow&&m.set("shadow",new t.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:m}),this.canvas.add(m),this.canvas.fire("path:created",{path:m}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=a,this.canvas.requestRenderAll()},_getOptimizedRects:function(a){var o={},u,d,l;for(d=0,l=a.length;d<l;d++)u=a[d].left+""+a[d].top,o[u]||(o[u]=a[d]);var c=[];for(u in o)c.push(o[u]);return c},render:function(a){var o=this.canvas.contextTop,u,d;for(o.fillStyle=this.color,this._saveAndTransform(o),u=0,d=a.length;u<d;u++){var l=a[u];typeof l.opacity<"u"&&(o.globalAlpha=l.opacity),o.fillRect(l.x,l.y,l.width,l.width)}o.restore()},_render:function(){var a=this.canvas.contextTop,o,u;for(a.fillStyle=this.color,this._saveAndTransform(a),o=0,u=this.sprayChunks.length;o<u;o++)this.render(this.sprayChunks[o]);a.restore()},addSprayChunk:function(a){this.sprayChunkPoints=[];var o,u,d,l=this.width/2,c;for(c=0;c<this.density;c++){o=t.util.getRandomInt(a.x-l,a.x+l),u=t.util.getRandomInt(a.y-l,a.y+l),this.dotWidthVariance?d=t.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):d=this.dotWidth;var f=new t.Point(o,u);f.width=d,this.randomOpacity&&(f.opacity=t.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(f)}this.sprayChunks.push(this.sprayChunkPoints)}}),t.PatternBrush=t.util.createClass(t.PencilBrush,{getPatternSrc:function(){var a=20,o=5,u=t.util.createCanvasElement(),d=u.getContext("2d");return u.width=u.height=a+o,d.fillStyle=this.color,d.beginPath(),d.arc(a/2,a/2,a/2,0,Math.PI*2,!1),d.closePath(),d.fill(),u},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(a){return a.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(a){this.callSuper("_setBrushStyles",a),a.strokeStyle=this.getPattern(a)},createPath:function(a){var o=this.callSuper("createPath",a),u=o._getLeftTopCoords().scalarAdd(o.strokeWidth/2);return o.stroke=new t.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-u.x,offsetY:-u.y}),o}}),function(){var a=t.util.getPointer,o=t.util.degreesToRadians,u=t.util.isTouchEvent;t.Canvas=t.util.createClass(t.StaticCanvas,{initialize:function(l,c){c||(c={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(l,c),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],enablePointerEvents:!1,_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=t.PencilBrush&&new t.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var l=this.getActiveObjects(),c,f,p;if(l.length>0&&!this.preserveObjectStacking){f=[],p=[];for(var m=0,g=this._objects.length;m<g;m++)c=this._objects[m],l.indexOf(c)===-1?f.push(c):p.push(c);l.length>1&&(this._activeObject._objects=p),f.push.apply(f,p)}else f=this._objects;return f},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&(this.renderTopLayer(this.contextTop),this.hasLostContext=!1);var l=this.contextContainer;return this.renderCanvas(l,this._chooseObjectsToRender()),this},renderTopLayer:function(l){l.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(l),this.contextTopDirty=!0),l.restore()},renderTop:function(){var l=this.contextTop;return this.clearContext(l),this.renderTopLayer(l),this.fire("after:render"),this},_normalizePointer:function(l,c){var f=l.calcTransformMatrix(),p=t.util.invertTransform(f),m=this.restorePointerVpt(c);return t.util.transformPoint(m,p)},isTargetTransparent:function(l,c,f){if(l.shouldCache()&&l._cacheCanvas&&l!==this._activeObject){var p=this._normalizePointer(l,{x:c,y:f}),m=Math.max(l.cacheTranslationX+p.x*l.zoomX,0),g=Math.max(l.cacheTranslationY+p.y*l.zoomY,0),w=t.util.isTransparent(l._cacheContext,Math.round(m),Math.round(g),this.targetFindTolerance);return w}var v=this.contextCache,y=l.selectionBackgroundColor,b=this.viewportTransform;l.selectionBackgroundColor="",this.clearContext(v),v.save(),v.transform(b[0],b[1],b[2],b[3],b[4],b[5]),l.render(v),v.restore(),l.selectionBackgroundColor=y;var w=t.util.isTransparent(v,c,f,this.targetFindTolerance);return w},_isSelectionKeyPressed:function(l){var c=!1;return Array.isArray(this.selectionKey)?c=!!this.selectionKey.find(function(f){return l[f]===!0}):c=l[this.selectionKey],c},_shouldClearSelection:function(l,c){var f=this.getActiveObjects(),p=this._activeObject;return!c||c&&p&&f.length>1&&f.indexOf(c)===-1&&p!==c&&!this._isSelectionKeyPressed(l)||c&&!c.evented||c&&!c.selectable&&p&&p!==c},_shouldCenterTransform:function(l,c,f){if(l){var p;return c==="scale"||c==="scaleX"||c==="scaleY"||c==="resizing"?p=this.centeredScaling||l.centeredScaling:c==="rotate"&&(p=this.centeredRotation||l.centeredRotation),p?!f:f}},_getOriginFromCorner:function(l,c){var f={x:l.originX,y:l.originY};return c==="ml"||c==="tl"||c==="bl"?f.x="right":(c==="mr"||c==="tr"||c==="br")&&(f.x="left"),c==="tl"||c==="mt"||c==="tr"?f.y="bottom":(c==="bl"||c==="mb"||c==="br")&&(f.y="top"),f},_getActionFromCorner:function(l,c,f,p){if(!c||!l)return"drag";var m=p.controls[c];return m.getActionName(f,m,p)},_setupCurrentTransform:function(l,c,f){if(c){var p=this.getPointer(l),m=c.__corner,g=c.controls[m],v=f&&m?g.getActionHandler(l,c,g):t.controlsUtils.dragHandler,y=this._getActionFromCorner(f,m,l,c),b=this._getOriginFromCorner(c,m),w=l[this.centeredKey],C={target:c,action:y,actionHandler:v,corner:m,scaleX:c.scaleX,scaleY:c.scaleY,skewX:c.skewX,skewY:c.skewY,offsetX:p.x-c.left,offsetY:p.y-c.top,originX:b.x,originY:b.y,ex:p.x,ey:p.y,lastX:p.x,lastY:p.y,theta:o(c.angle),width:c.width*c.scaleX,shiftKey:l.shiftKey,altKey:w,original:t.util.saveObjectTransform(c)};this._shouldCenterTransform(c,y,w)&&(C.originX="center",C.originY="center"),C.original.originX=b.x,C.original.originY=b.y,this._currentTransform=C,this._beforeTransform(l)}},setCursor:function(l){this.upperCanvasEl.style.cursor=l},_drawSelection:function(l){var c=this._groupSelector,f=new t.Point(c.ex,c.ey),p=t.util.transformPoint(f,this.viewportTransform),m=new t.Point(c.ex+c.left,c.ey+c.top),g=t.util.transformPoint(m,this.viewportTransform),v=Math.min(p.x,g.x),y=Math.min(p.y,g.y),b=Math.max(p.x,g.x),w=Math.max(p.y,g.y),C=this.selectionLineWidth/2;this.selectionColor&&(l.fillStyle=this.selectionColor,l.fillRect(v,y,b-v,w-y)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(l.lineWidth=this.selectionLineWidth,l.strokeStyle=this.selectionBorderColor,v+=C,y+=C,b-=C,w-=C,t.Object.prototype._setLineDash.call(this,l,this.selectionDashArray),l.strokeRect(v,y,b-v,w-y))},findTarget:function(l,c){if(!this.skipTargetFind){var f=!0,p=this.getPointer(l,f),m=this._activeObject,g=this.getActiveObjects(),v,y,b=u(l),w=g.length>1&&!c||g.length===1;if(this.targets=[],w&&m._findTargetCorner(p,b)||g.length>1&&!c&&m===this._searchPossibleTargets([m],p))return m;if(g.length===1&&m===this._searchPossibleTargets([m],p))if(this.preserveObjectStacking)v=m,y=this.targets,this.targets=[];else return m;var C=this._searchPossibleTargets(this._objects,p);return l[this.altSelectionKey]&&C&&v&&C!==v&&(C=v,this.targets=y),C}},_checkTarget:function(l,c,f){if(c&&c.visible&&c.evented&&c.containsPoint(l))if((this.perPixelTargetFind||c.perPixelTargetFind)&&!c.isEditing){var p=this.isTargetTransparent(c,f.x,f.y);if(!p)return!0}else return!0},_searchPossibleTargets:function(l,c){for(var f,p=l.length,m;p--;){var g=l[p],v=g.group?this._normalizePointer(g.group,c):c;if(this._checkTarget(v,g,c)){f=l[p],f.subTargetCheck&&f instanceof t.Group&&(m=this._searchPossibleTargets(f._objects,c),m&&this.targets.push(m));break}}return f},restorePointerVpt:function(l){return t.util.transformPoint(l,t.util.invertTransform(this.viewportTransform))},getPointer:function(l,c){if(this._absolutePointer&&!c)return this._absolutePointer;if(this._pointer&&c)return this._pointer;var f=a(l),p=this.upperCanvasEl,m=p.getBoundingClientRect(),g=m.width||0,v=m.height||0,y;(!g||!v)&&("top"in m&&"bottom"in m&&(v=Math.abs(m.top-m.bottom)),"right"in m&&"left"in m&&(g=Math.abs(m.right-m.left))),this.calcOffset(),f.x=f.x-this._offset.left,f.y=f.y-this._offset.top,c||(f=this.restorePointerVpt(f));var b=this.getRetinaScaling();return b!==1&&(f.x/=b,f.y/=b),g===0||v===0?y={width:1,height:1}:y={width:p.width/g,height:p.height/v},{x:f.x*y.width,y:f.y*y.height}},_createUpperCanvas:function(){var l=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),c=this.lowerCanvasEl,f=this.upperCanvasEl;f?f.className="":(f=this._createCanvasElement(),this.upperCanvasEl=f),t.util.addClass(f,"upper-canvas "+l),this.wrapperEl.appendChild(f),this._copyCanvasStyle(c,f),this._applyCanvasStyle(f),this.contextTop=f.getContext("2d")},getTopContext:function(){return this.contextTop},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=t.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),t.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),t.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(l){var c=this.width||l.width,f=this.height||l.height;t.util.setStyle(l,{position:"absolute",width:c+"px",height:f+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),l.width=c,l.height=f,t.util.makeElementUnselectable(l)},_copyCanvasStyle:function(l,c){c.style.cssText=l.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var l=this._activeObject;return l?l.type==="activeSelection"&&l._objects?l._objects.slice(0):[l]:[]},_onObjectRemoved:function(l){l===this._activeObject&&(this.fire("before:selection:cleared",{target:l}),this._discardActiveObject(),this.fire("selection:cleared",{target:l}),l.fire("deselected")),l===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",l)},_fireSelectionEvents:function(l,c){var f=!1,p=this.getActiveObjects(),m=[],g=[];l.forEach(function(v){p.indexOf(v)===-1&&(f=!0,v.fire("deselected",{e:c,target:v}),g.push(v))}),p.forEach(function(v){l.indexOf(v)===-1&&(f=!0,v.fire("selected",{e:c,target:v}),m.push(v))}),l.length>0&&p.length>0?f&&this.fire("selection:updated",{e:c,selected:m,deselected:g}):p.length>0?this.fire("selection:created",{e:c,selected:m}):l.length>0&&this.fire("selection:cleared",{e:c,deselected:g})},setActiveObject:function(l,c){var f=this.getActiveObjects();return this._setActiveObject(l,c),this._fireSelectionEvents(f,c),this},_setActiveObject:function(l,c){return this._activeObject===l||!this._discardActiveObject(c,l)||l.onSelect({e:c})?!1:(this._activeObject=l,!0)},_discardActiveObject:function(l,c){var f=this._activeObject;if(f){if(f.onDeselect({e:l,object:c}))return!1;this._activeObject=null}return!0},discardActiveObject:function(l){var c=this.getActiveObjects(),f=this.getActiveObject();return c.length&&this.fire("before:selection:cleared",{target:f,e:l}),this._discardActiveObject(l),this._fireSelectionEvents(c,l),this},dispose:function(){var l=this.wrapperEl;return this.removeListeners(),l.removeChild(this.upperCanvasEl),l.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach((function(c){t.util.cleanUpJsdomNode(this[c]),this[c]=void 0}).bind(this)),l.parentNode&&l.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,t.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(l){var c=this._activeObject;c&&c._renderControls(l)},_toObject:function(l,c,f){var p=this._realizeGroupTransformOnObject(l),m=this.callSuper("_toObject",l,c,f);return this._unwindGroupTransformOnObject(l,p),m},_realizeGroupTransformOnObject:function(l){if(l.group&&l.group.type==="activeSelection"&&this._activeObject===l.group){var c=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],f={};return c.forEach(function(p){f[p]=l[p]}),t.util.addTransformToObject(l,this._activeObject.calcOwnMatrix()),f}else return null},_unwindGroupTransformOnObject:function(l,c){c&&l.set(c)},_setSVGObject:function(l,c,f){var p=this._realizeGroupTransformOnObject(c);this.callSuper("_setSVGObject",l,c,f),this._unwindGroupTransformOnObject(c,p)},setViewportTransform:function(l){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),t.StaticCanvas.prototype.setViewportTransform.call(this,l)}});for(var d in t.StaticCanvas)d!=="prototype"&&(t.Canvas[d]=t.StaticCanvas[d])}(),function(){var a=t.util.addListener,o=t.util.removeListener,u=3,d=2,l=1,c={passive:!1};function f(p,m){return p.button&&p.button===m-1}t.util.object.extend(t.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(a,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(p,m){var g=this.upperCanvasEl,v=this._getEventPrefix();p(t.window,"resize",this._onResize),p(g,v+"down",this._onMouseDown),p(g,v+"move",this._onMouseMove,c),p(g,v+"out",this._onMouseOut),p(g,v+"enter",this._onMouseEnter),p(g,"wheel",this._onMouseWheel),p(g,"contextmenu",this._onContextMenu),p(g,"dblclick",this._onDoubleClick),p(g,"dragover",this._onDragOver),p(g,"dragenter",this._onDragEnter),p(g,"dragleave",this._onDragLeave),p(g,"drop",this._onDrop),this.enablePointerEvents||p(g,"touchstart",this._onTouchStart,c),typeof eventjs<"u"&&m in eventjs&&(eventjs[m](g,"gesture",this._onGesture),eventjs[m](g,"drag",this._onDrag),eventjs[m](g,"orientation",this._onOrientationChange),eventjs[m](g,"shake",this._onShake),eventjs[m](g,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(o,"remove");var p=this._getEventPrefix();o(t.document,p+"up",this._onMouseUp),o(t.document,"touchend",this._onTouchEnd,c),o(t.document,p+"move",this._onMouseMove,c),o(t.document,"touchmove",this._onMouseMove,c)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._onDrop.bind(this),this.eventsBound=!0)},_onGesture:function(p,m){this.__onTransformGesture&&this.__onTransformGesture(p,m)},_onDrag:function(p,m){this.__onDrag&&this.__onDrag(p,m)},_onMouseWheel:function(p){this.__onMouseWheel(p)},_onMouseOut:function(p){var m=this._hoveredTarget;this.fire("mouse:out",{target:m,e:p}),this._hoveredTarget=null,m&&m.fire("mouseout",{e:p});var g=this;this._hoveredTargets.forEach(function(v){g.fire("mouse:out",{target:m,e:p}),v&&m.fire("mouseout",{e:p})}),this._hoveredTargets=[]},_onMouseEnter:function(p){!this._currentTransform&&!this.findTarget(p)&&(this.fire("mouse:over",{target:null,e:p}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(p,m){this.__onOrientationChange&&this.__onOrientationChange(p,m)},_onShake:function(p,m){this.__onShake&&this.__onShake(p,m)},_onLongPress:function(p,m){this.__onLongPress&&this.__onLongPress(p,m)},_onDragOver:function(p){p.preventDefault();var m=this._simpleEventHandler("dragover",p);this._fireEnterLeaveEvents(m,p)},_onDrop:function(p){return this._simpleEventHandler("drop:before",p),this._simpleEventHandler("drop",p)},_onContextMenu:function(p){return this.stopContextMenu&&(p.stopPropagation(),p.preventDefault()),!1},_onDoubleClick:function(p){this._cacheTransformEventData(p),this._handleEvent(p,"dblclick"),this._resetTransformEventData(p)},getPointerId:function(p){var m=p.changedTouches;return m?m[0]&&m[0].identifier:this.enablePointerEvents?p.pointerId:-1},_isMainEvent:function(p){return p.isPrimary===!0?!0:p.isPrimary===!1?!1:p.type==="touchend"&&p.touches.length===0?!0:p.changedTouches?p.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(p){p.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(p)),this.__onMouseDown(p),this._resetTransformEventData();var m=this.upperCanvasEl,g=this._getEventPrefix();a(t.document,"touchend",this._onTouchEnd,c),a(t.document,"touchmove",this._onMouseMove,c),o(m,g+"down",this._onMouseDown)},_onMouseDown:function(p){this.__onMouseDown(p),this._resetTransformEventData();var m=this.upperCanvasEl,g=this._getEventPrefix();o(m,g+"move",this._onMouseMove,c),a(t.document,g+"up",this._onMouseUp),a(t.document,g+"move",this._onMouseMove,c)},_onTouchEnd:function(p){if(!(p.touches.length>0)){this.__onMouseUp(p),this._resetTransformEventData(),this.mainTouchId=null;var m=this._getEventPrefix();o(t.document,"touchend",this._onTouchEnd,c),o(t.document,"touchmove",this._onMouseMove,c);var g=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){a(g.upperCanvasEl,m+"down",g._onMouseDown),g._willAddMouseDown=0},400)}},_onMouseUp:function(p){this.__onMouseUp(p),this._resetTransformEventData();var m=this.upperCanvasEl,g=this._getEventPrefix();this._isMainEvent(p)&&(o(t.document,g+"up",this._onMouseUp),o(t.document,g+"move",this._onMouseMove,c),a(m,g+"move",this._onMouseMove,c))},_onMouseMove:function(p){!this.allowTouchScrolling&&p.preventDefault&&p.preventDefault(),this.__onMouseMove(p)},_onResize:function(){this.calcOffset()},_shouldRender:function(p){var m=this._activeObject;return!!m!=!!p||m&&p&&m!==p?!0:(m&&m.isEditing,!1)},__onMouseUp:function(p){var m,g=this._currentTransform,v=this._groupSelector,y=!1,b=!v||v.left===0&&v.top===0;if(this._cacheTransformEventData(p),m=this._target,this._handleEvent(p,"up:before"),f(p,u)){this.fireRightClick&&this._handleEvent(p,"up",u,b);return}if(f(p,d)){this.fireMiddleClick&&this._handleEvent(p,"up",d,b),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(p);return}if(this._isMainEvent(p)){if(g&&(this._finalizeCurrentTransform(p),y=g.actionPerformed),!b){var w=m===this._activeObject;this._maybeGroupObjects(p),y||(y=this._shouldRender(m)||!w&&m===this._activeObject)}var C,S;if(m){if(C=m._findTargetCorner(this.getPointer(p,!0),t.util.isTouchEvent(p)),m.selectable&&m!==this._activeObject&&m.activeOn==="up")this.setActiveObject(m,p),y=!0;else{var _=m.controls[C],T=_&&_.getMouseUpHandler(p,m,_);T&&(S=this.getPointer(p),T(p,g,S.x,S.y))}m.isMoving=!1}if(g&&(g.target!==m||g.corner!==C)){var R=g.target&&g.target.controls[g.corner],F=R&&R.getMouseUpHandler(p,m,_);S=S||this.getPointer(p),F&&F(p,g,S.x,S.y)}this._setCursorFromEvent(p,m),this._handleEvent(p,"up",l,b),this._groupSelector=null,this._currentTransform=null,m&&(m.__corner=0),y?this.requestRenderAll():b||this.renderTop()}},_simpleEventHandler:function(p,m){var g=this.findTarget(m),v=this.targets,y={e:m,target:g,subTargets:v};if(this.fire(p,y),g&&g.fire(p,y),!v)return g;for(var b=0;b<v.length;b++)v[b].fire(p,y);return g},_handleEvent:function(p,m,g,v){var y=this._target,b=this.targets||[],w={e:p,target:y,subTargets:b,button:g||l,isClick:v||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};m==="up"&&(w.currentTarget=this.findTarget(p),w.currentSubTargets=this.targets),this.fire("mouse:"+m,w),y&&y.fire("mouse"+m,w);for(var C=0;C<b.length;C++)b[C].fire("mouse"+m,w)},_finalizeCurrentTransform:function(p){var m=this._currentTransform,g=m.target,v={e:p,target:g,transform:m,action:m.action};g._scaling&&(g._scaling=!1),g.setCoords(),(m.actionPerformed||this.stateful&&g.hasStateChanged())&&this._fire("modified",v)},_onMouseDownInDrawingMode:function(p){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(p).requestRenderAll();var m=this.getPointer(p);this.freeDrawingBrush.onMouseDown(m,{e:p,pointer:m}),this._handleEvent(p,"down")},_onMouseMoveInDrawingMode:function(p){if(this._isCurrentlyDrawing){var m=this.getPointer(p);this.freeDrawingBrush.onMouseMove(m,{e:p,pointer:m})}this.setCursor(this.freeDrawingCursor),this._handleEvent(p,"move")},_onMouseUpInDrawingMode:function(p){var m=this.getPointer(p);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:p,pointer:m}),this._handleEvent(p,"up")},__onMouseDown:function(p){this._cacheTransformEventData(p),this._handleEvent(p,"down:before");var m=this._target;if(f(p,u)){this.fireRightClick&&this._handleEvent(p,"down",u);return}if(f(p,d)){this.fireMiddleClick&&this._handleEvent(p,"down",d);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(p);return}if(this._isMainEvent(p)&&!this._currentTransform){var g=this._pointer;this._previousPointer=g;var v=this._shouldRender(m),y=this._shouldGroup(p,m);if(this._shouldClearSelection(p,m)?this.discardActiveObject(p):y&&(this._handleGrouping(p,m),m=this._activeObject),this.selection&&(!m||!m.selectable&&!m.isEditing&&m!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),m){var b=m===this._activeObject;m.selectable&&m.activeOn==="down"&&this.setActiveObject(m,p);var w=m._findTargetCorner(this.getPointer(p,!0),t.util.isTouchEvent(p));if(m.__corner=w,m===this._activeObject&&(w||!y)){this._setupCurrentTransform(p,m,b);var C=m.controls[w],g=this.getPointer(p),S=C&&C.getMouseDownHandler(p,m,C);S&&S(p,this._currentTransform,g.x,g.y)}}this._handleEvent(p,"down"),(v||y)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(p){this._resetTransformEventData(),this._pointer=this.getPointer(p,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(p)||null},_beforeTransform:function(p){var m=this._currentTransform;this.stateful&&m.target.saveState(),this.fire("before:transform",{e:p,transform:m})},__onMouseMove:function(p){this._handleEvent(p,"move:before"),this._cacheTransformEventData(p);var m,g;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(p);return}if(this._isMainEvent(p)){var v=this._groupSelector;v?(g=this._absolutePointer,v.left=g.x-v.ex,v.top=g.y-v.ey,this.renderTop()):this._currentTransform?this._transformObject(p):(m=this.findTarget(p)||null,this._setCursorFromEvent(p,m),this._fireOverOutEvents(m,p)),this._handleEvent(p,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(p,m){var g=this._hoveredTarget,v=this._hoveredTargets,y=this.targets,b=Math.max(v.length,y.length);this.fireSyntheticInOutEvents(p,m,{oldTarget:g,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var w=0;w<b;w++)this.fireSyntheticInOutEvents(y[w],m,{oldTarget:v[w],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=p,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(p,m){var g=this._draggedoverTarget,v=this._hoveredTargets,y=this.targets,b=Math.max(v.length,y.length);this.fireSyntheticInOutEvents(p,m,{oldTarget:g,evtOut:"dragleave",evtIn:"dragenter"});for(var w=0;w<b;w++)this.fireSyntheticInOutEvents(y[w],m,{oldTarget:v[w],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=p},fireSyntheticInOutEvents:function(p,m,g){var v,y,b=g.oldTarget,w,C,S=b!==p,_=g.canvasEvtIn,T=g.canvasEvtOut;S&&(v={e:m,target:p,previousTarget:b},y={e:m,target:b,nextTarget:p}),C=p&&S,w=b&&S,w&&(T&&this.fire(T,y),b.fire(g.evtOut,y)),C&&(_&&this.fire(_,v),p.fire(g.evtIn,v))},__onMouseWheel:function(p){this._cacheTransformEventData(p),this._handleEvent(p,"wheel"),this._resetTransformEventData()},_transformObject:function(p){var m=this.getPointer(p),g=this._currentTransform;g.reset=!1,g.shiftKey=p.shiftKey,g.altKey=p[this.centeredKey],this._performTransformAction(p,g,m),g.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(p,m,g){var v=g.x,y=g.y,b=m.action,w=!1,C=m.actionHandler;C&&(w=C(p,m,v,y)),b==="drag"&&w&&(m.target.isMoving=!0,this.setCursor(m.target.moveCursor||this.moveCursor)),m.actionPerformed=m.actionPerformed||w},_fire:t.controlsUtils.fireEvent,_setCursorFromEvent:function(p,m){if(!m)return this.setCursor(this.defaultCursor),!1;var g=m.hoverCursor||this.hoverCursor,v=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,y=(!v||!v.contains(m))&&m._findTargetCorner(this.getPointer(p,!0));y?this.setCursor(this.getCornerCursor(y,m,p)):(m.subTargetCheck&&this.targets.concat().reverse().map(function(b){g=b.hoverCursor||g}),this.setCursor(g))},getCornerCursor:function(p,m,g){var v=m.controls[p];return v.cursorStyleHandler(g,v,m)}})}(),function(){var a=Math.min,o=Math.max;t.util.object.extend(t.Canvas.prototype,{_shouldGroup:function(u,d){var l=this._activeObject;return l&&this._isSelectionKeyPressed(u)&&d&&d.selectable&&this.selection&&(l!==d||l.type==="activeSelection")&&!d.onSelect({e:u})},_handleGrouping:function(u,d){var l=this._activeObject;l.__corner||d===l&&(d=this.findTarget(u,!0),!d||!d.selectable)||(l&&l.type==="activeSelection"?this._updateActiveSelection(d,u):this._createActiveSelection(d,u))},_updateActiveSelection:function(u,d){var l=this._activeObject,c=l._objects.slice(0);l.contains(u)?(l.removeWithUpdate(u),this._hoveredTarget=u,this._hoveredTargets=this.targets.concat(),l.size()===1&&this._setActiveObject(l.item(0),d)):(l.addWithUpdate(u),this._hoveredTarget=l,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(c,d)},_createActiveSelection:function(u,d){var l=this.getActiveObjects(),c=this._createGroup(u);this._hoveredTarget=c,this._setActiveObject(c,d),this._fireSelectionEvents(l,d)},_createGroup:function(u){var d=this._objects,l=d.indexOf(this._activeObject)<d.indexOf(u),c=l?[this._activeObject,u]:[u,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new t.ActiveSelection(c,{canvas:this})},_groupSelectedObjects:function(u){var d=this._collectObjects(u),l;d.length===1?this.setActiveObject(d[0],u):d.length>1&&(l=new t.ActiveSelection(d.reverse(),{canvas:this}),this.setActiveObject(l,u))},_collectObjects:function(u){for(var d=[],l,c=this._groupSelector.ex,f=this._groupSelector.ey,p=c+this._groupSelector.left,m=f+this._groupSelector.top,g=new t.Point(a(c,p),a(f,m)),v=new t.Point(o(c,p),o(f,m)),y=!this.selectionFullyContained,b=c===p&&f===m,w=this._objects.length;w--&&(l=this._objects[w],!(!(!l||!l.selectable||!l.visible)&&(y&&l.intersectsWithRect(g,v,!0)||l.isContainedWithinRect(g,v,!0)||y&&l.containsPoint(g,null,!0)||y&&l.containsPoint(v,null,!0))&&(d.push(l),b))););return d.length>1&&(d=d.filter(function(C){return!C.onSelect({e:u})})),d},_maybeGroupObjects:function(u){this.selection&&this._groupSelector&&this._groupSelectedObjects(u),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){t.util.object.extend(t.StaticCanvas.prototype,{toDataURL:function(a){a||(a={});var o=a.format||"png",u=a.quality||1,d=(a.multiplier||1)*(a.enableRetinaScaling?this.getRetinaScaling():1),l=this.toCanvasElement(d,a);return t.util.toDataURL(l,o,u)},toCanvasElement:function(a,o){a=a||1,o=o||{};var u=(o.width||this.width)*a,d=(o.height||this.height)*a,l=this.getZoom(),c=this.width,f=this.height,p=l*a,m=this.viewportTransform,g=(m[4]-(o.left||0))*a,v=(m[5]-(o.top||0))*a,y=this.interactive,b=[p,0,0,p,g,v],w=this.enableRetinaScaling,C=t.util.createCanvasElement(),S=this.contextTop;return C.width=u,C.height=d,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=b,this.width=u,this.height=d,this.calcViewportBoundaries(),this.renderCanvas(C.getContext("2d"),this._objects),this.viewportTransform=m,this.width=c,this.height=f,this.calcViewportBoundaries(),this.interactive=y,this.enableRetinaScaling=w,this.contextTop=S,C}})}(),t.util.object.extend(t.StaticCanvas.prototype,{loadFromJSON:function(a,o,u){if(a){var d=typeof a=="string"?JSON.parse(a):t.util.object.clone(a),l=this,c=d.clipPath,f=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete d.clipPath,this._enlivenObjects(d.objects,function(p){l.clear(),l._setBgOverlay(d,function(){c?l._enlivenObjects([c],function(m){l.clipPath=m[0],l.__setupCanvas.call(l,d,p,f,o)}):l.__setupCanvas.call(l,d,p,f,o)})},u),this}},__setupCanvas:function(a,o,u,d){var l=this;o.forEach(function(c,f){l.insertAt(c,f)}),this.renderOnAddRemove=u,delete a.objects,delete a.backgroundImage,delete a.overlayImage,delete a.background,delete a.overlay,this._setOptions(a),this.renderAll(),d&&d()},_setBgOverlay:function(a,o){var u={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!a.backgroundImage&&!a.overlayImage&&!a.background&&!a.overlay){o&&o();return}var d=function(){u.backgroundImage&&u.overlayImage&&u.backgroundColor&&u.overlayColor&&o&&o()};this.__setBgOverlay("backgroundImage",a.backgroundImage,u,d),this.__setBgOverlay("overlayImage",a.overlayImage,u,d),this.__setBgOverlay("backgroundColor",a.background,u,d),this.__setBgOverlay("overlayColor",a.overlay,u,d)},__setBgOverlay:function(a,o,u,d){var l=this;if(!o){u[a]=!0,d&&d();return}a==="backgroundImage"||a==="overlayImage"?t.util.enlivenObjects([o],function(c){l[a]=c[0],u[a]=!0,d&&d()}):this["set"+t.util.string.capitalize(a,!0)](o,function(){u[a]=!0,d&&d()})},_enlivenObjects:function(a,o,u){if(!a||a.length===0){o&&o([]);return}t.util.enlivenObjects(a,function(d){o&&o(d)},null,u)},_toDataURL:function(a,o){this.clone(function(u){o(u.toDataURL(a))})},_toDataURLWithMultiplier:function(a,o,u){this.clone(function(d){u(d.toDataURLWithMultiplier(a,o))})},clone:function(a,o){var u=JSON.stringify(this.toJSON(o));this.cloneWithoutData(function(d){d.loadFromJSON(u,function(){a&&a(d)})})},cloneWithoutData:function(a){var o=t.util.createCanvasElement();o.width=this.width,o.height=this.height;var u=new t.Canvas(o);this.backgroundImage?(u.setBackgroundImage(this.backgroundImage.src,function(){u.renderAll(),a&&a(u)}),u.backgroundImageOpacity=this.backgroundImageOpacity,u.backgroundImageStretch=this.backgroundImageStretch):a&&a(u)}}),function(a){var o=a.fabric||(a.fabric={}),u=o.util.object.extend,d=o.util.object.clone,l=o.util.toFixed,c=o.util.string.capitalize,f=o.util.degreesToRadians,p=!o.isLikelyNode,m=2;o.Object||(o.Object=o.util.createClass(o.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:p,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(g){g&&this.setOptions(g)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=o.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(g){var v=o.perfLimitSizeTotal,y=g.width,b=g.height,w=o.maxCacheSideLimit,C=o.minCacheSideLimit;if(y<=w&&b<=w&&y*b<=v)return y<C&&(g.width=C),b<C&&(g.height=C),g;var S=y/b,_=o.util.limitDimsByArea(S,v),T=o.util.capValue,R=T(C,_.x,w),F=T(C,_.y,w);return y>R&&(g.zoomX/=y/R,g.width=R,g.capped=!0),b>F&&(g.zoomY/=b/F,g.height=F,g.capped=!0),g},_getCacheCanvasDimensions:function(){var g=this.getTotalObjectScaling(),v=this._getTransformedDimensions(0,0),y=v.x*g.scaleX/this.scaleX,b=v.y*g.scaleY/this.scaleY;return{width:y+m,height:b+m,zoomX:g.scaleX,zoomY:g.scaleY,x:y,y:b}},_updateCacheCanvas:function(){var g=this.canvas;if(this.noScaleCache&&g&&g._currentTransform){var v=g._currentTransform.target,y=g._currentTransform.action;if(this===v&&y.slice&&y.slice(0,5)==="scale")return!1}var b=this._cacheCanvas,w=this._limitCacheSize(this._getCacheCanvasDimensions()),C=o.minCacheSideLimit,S=w.width,_=w.height,T,R,F=w.zoomX,$=w.zoomY,G=S!==this.cacheWidth||_!==this.cacheHeight,ne=this.zoomX!==F||this.zoomY!==$,X=G||ne,J=0,re=0,ie=!1;if(G){var V=this._cacheCanvas.width,E=this._cacheCanvas.height,P=S>V||_>E,A=(S<V*.9||_<E*.9)&&V>C&&E>C;ie=P||A,P&&!w.capped&&(S>C||_>C)&&(J=S*.1,re=_*.1)}return this instanceof o.Text&&this.path&&(X=!0,ie=!0,J+=this.getHeightOfLine(0)*this.zoomX,re+=this.getHeightOfLine(0)*this.zoomY),X?(ie?(b.width=Math.ceil(S+J),b.height=Math.ceil(_+re)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,b.width,b.height)),T=w.x/2,R=w.y/2,this.cacheTranslationX=Math.round(b.width/2-T)+T,this.cacheTranslationY=Math.round(b.height/2-R)+R,this.cacheWidth=S,this.cacheHeight=_,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(F,$),this.zoomX=F,this.zoomY=$,!0):!1},setOptions:function(g){this._setOptions(g),this._initGradient(g.fill,"fill"),this._initGradient(g.stroke,"stroke"),this._initPattern(g.fill,"fill"),this._initPattern(g.stroke,"stroke")},transform:function(g){var v=this.group&&!this.group._transformDone||this.group&&this.canvas&&g===this.canvas.contextTop,y=this.calcTransformMatrix(!v);g.transform(y[0],y[1],y[2],y[3],y[4],y[5])},toObject:function(g){var v=o.Object.NUM_FRACTION_DIGITS,y={type:this.type,version:o.version,originX:this.originX,originY:this.originY,left:l(this.left,v),top:l(this.top,v),width:l(this.width,v),height:l(this.height,v),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:l(this.strokeWidth,v),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:l(this.strokeMiterLimit,v),scaleX:l(this.scaleX,v),scaleY:l(this.scaleY,v),angle:l(this.angle,v),flipX:this.flipX,flipY:this.flipY,opacity:l(this.opacity,v),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:l(this.skewX,v),skewY:l(this.skewY,v)};return this.clipPath&&!this.clipPath.excludeFromExport&&(y.clipPath=this.clipPath.toObject(g),y.clipPath.inverted=this.clipPath.inverted,y.clipPath.absolutePositioned=this.clipPath.absolutePositioned),o.util.populateWithProperties(this,y,g),this.includeDefaultValues||(y=this._removeDefaultValues(y)),y},toDatalessObject:function(g){return this.toObject(g)},_removeDefaultValues:function(g){var v=o.util.getKlass(g.type).prototype,y=v.stateProperties;return y.forEach(function(b){b==="left"||b==="top"||(g[b]===v[b]&&delete g[b],Array.isArray(g[b])&&Array.isArray(v[b])&&g[b].length===0&&v[b].length===0&&delete g[b])}),g},toString:function(){return"#<fabric."+c(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var g=o.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(g.scaleX),scaleY:Math.abs(g.scaleY)}},getTotalObjectScaling:function(){var g=this.getObjectScaling(),v=g.scaleX,y=g.scaleY;if(this.canvas){var b=this.canvas.getZoom(),w=this.canvas.getRetinaScaling();v*=b*w,y*=b*w}return{scaleX:v,scaleY:y}},getObjectOpacity:function(){var g=this.opacity;return this.group&&(g*=this.group.getObjectOpacity()),g},_set:function(g,v){var y=g==="scaleX"||g==="scaleY",b=this[g]!==v,w=!1;return y&&(v=this._constrainScale(v)),g==="scaleX"&&v<0?(this.flipX=!this.flipX,v*=-1):g==="scaleY"&&v<0?(this.flipY=!this.flipY,v*=-1):g==="shadow"&&v&&!(v instanceof o.Shadow)?v=new o.Shadow(v):g==="dirty"&&this.group&&this.group.set("dirty",v),this[g]=v,b&&(w=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(g)>-1?(this.dirty=!0,w&&this.group.set("dirty",!0)):w&&this.stateProperties.indexOf(g)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:o.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(g){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(g.save(),this._setupCompositeOperation(g),this.drawSelectionBackground(g),this.transform(g),this._setOpacity(g),this._setShadow(g,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(g)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(g),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),g.restore())},renderCache:function(g){g=g||{},(!this._cacheCanvas||!this._cacheContext)&&this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,g.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this._cacheContext=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(g,v){if(g.save(),v.inverted?g.globalCompositeOperation="destination-out":g.globalCompositeOperation="destination-in",v.absolutePositioned){var y=o.util.invertTransform(this.calcTransformMatrix());g.transform(y[0],y[1],y[2],y[3],y[4],y[5])}v.transform(g),g.scale(1/v.zoomX,1/v.zoomY),g.drawImage(v._cacheCanvas,-v.cacheTranslationX,-v.cacheTranslationY),g.restore()},drawObject:function(g,v){var y=this.fill,b=this.stroke;v?(this.fill="black",this.stroke="",this._setClippingProperties(g)):this._renderBackground(g),this._render(g),this._drawClipPath(g,this.clipPath),this.fill=y,this.stroke=b},_drawClipPath:function(g,v){v&&(v.canvas=this.canvas,v.shouldCache(),v._transformDone=!0,v.renderCache({forClipping:!0}),this.drawClipPathOnCache(g,v))},drawCacheOnCanvas:function(g){g.scale(1/this.zoomX,1/this.zoomY),g.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(g){if(this.isNotVisible())return!1;if(this._cacheCanvas&&this._cacheContext&&!g&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&this._cacheContext&&!g){var v=this.cacheWidth/this.zoomX,y=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-v/2,-y/2,v,y)}return!0}return!1},_renderBackground:function(g){if(this.backgroundColor){var v=this._getNonTransformedDimensions();g.fillStyle=this.backgroundColor,g.fillRect(-v.x/2,-v.y/2,v.x,v.y),this._removeShadow(g)}},_setOpacity:function(g){this.group&&!this.group._transformDone?g.globalAlpha=this.getObjectOpacity():g.globalAlpha*=this.opacity},_setStrokeStyles:function(g,v){var y=v.stroke;y&&(g.lineWidth=v.strokeWidth,g.lineCap=v.strokeLineCap,g.lineDashOffset=v.strokeDashOffset,g.lineJoin=v.strokeLineJoin,g.miterLimit=v.strokeMiterLimit,y.toLive?y.gradientUnits==="percentage"||y.gradientTransform||y.patternTransform?this._applyPatternForTransformedGradient(g,y):(g.strokeStyle=y.toLive(g,this),this._applyPatternGradientTransform(g,y)):g.strokeStyle=v.stroke)},_setFillStyles:function(g,v){var y=v.fill;y&&(y.toLive?(g.fillStyle=y.toLive(g,this),this._applyPatternGradientTransform(g,v.fill)):g.fillStyle=y)},_setClippingProperties:function(g){g.globalAlpha=1,g.strokeStyle="transparent",g.fillStyle="#000000"},_setLineDash:function(g,v){!v||v.length===0||(1&v.length&&v.push.apply(v,v),g.setLineDash(v))},_renderControls:function(g,v){var y=this.getViewportTransform(),b=this.calcTransformMatrix(),w,C,S;v=v||{},C=typeof v.hasBorders<"u"?v.hasBorders:this.hasBorders,S=typeof v.hasControls<"u"?v.hasControls:this.hasControls,b=o.util.multiplyTransformMatrices(y,b),w=o.util.qrDecompose(b),g.save(),g.translate(w.translateX,w.translateY),g.lineWidth=1*this.borderScaleFactor,this.group||(g.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),this.flipX&&(w.angle-=180),g.rotate(f(this.group?w.angle:this.angle)),v.forActiveSelection||this.group?C&&this.drawBordersInGroup(g,w,v):C&&this.drawBorders(g,v),S&&this.drawControls(g,v),g.restore()},_setShadow:function(g){if(this.shadow){var v=this.shadow,y=this.canvas,b,w=y&&y.viewportTransform[0]||1,C=y&&y.viewportTransform[3]||1;v.nonScaling?b={scaleX:1,scaleY:1}:b=this.getObjectScaling(),y&&y._isRetinaScaling()&&(w*=o.devicePixelRatio,C*=o.devicePixelRatio),g.shadowColor=v.color,g.shadowBlur=v.blur*o.browserShadowBlurConstant*(w+C)*(b.scaleX+b.scaleY)/4,g.shadowOffsetX=v.offsetX*w*b.scaleX,g.shadowOffsetY=v.offsetY*C*b.scaleY}},_removeShadow:function(g){this.shadow&&(g.shadowColor="",g.shadowBlur=g.shadowOffsetX=g.shadowOffsetY=0)},_applyPatternGradientTransform:function(g,v){if(!v||!v.toLive)return{offsetX:0,offsetY:0};var y=v.gradientTransform||v.patternTransform,b=-this.width/2+v.offsetX||0,w=-this.height/2+v.offsetY||0;return v.gradientUnits==="percentage"?g.transform(this.width,0,0,this.height,b,w):g.transform(1,0,0,1,b,w),y&&g.transform(y[0],y[1],y[2],y[3],y[4],y[5]),{offsetX:b,offsetY:w}},_renderPaintInOrder:function(g){this.paintFirst==="stroke"?(this._renderStroke(g),this._renderFill(g)):(this._renderFill(g),this._renderStroke(g))},_render:function(){},_renderFill:function(g){this.fill&&(g.save(),this._setFillStyles(g,this),this.fillRule==="evenodd"?g.fill("evenodd"):g.fill(),g.restore())},_renderStroke:function(g){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(g),g.save(),this.strokeUniform&&this.group){var v=this.getObjectScaling();g.scale(1/v.scaleX,1/v.scaleY)}else this.strokeUniform&&g.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(g,this.strokeDashArray),this._setStrokeStyles(g,this),g.stroke(),g.restore()}},_applyPatternForTransformedGradient:function(g,v){var y=this._limitCacheSize(this._getCacheCanvasDimensions()),b=o.util.createCanvasElement(),w,C=this.canvas.getRetinaScaling(),S=y.x/this.scaleX/C,_=y.y/this.scaleY/C;b.width=S,b.height=_,w=b.getContext("2d"),w.beginPath(),w.moveTo(0,0),w.lineTo(S,0),w.lineTo(S,_),w.lineTo(0,_),w.closePath(),w.translate(S/2,_/2),w.scale(y.zoomX/this.scaleX/C,y.zoomY/this.scaleY/C),this._applyPatternGradientTransform(w,v),w.fillStyle=v.toLive(g),w.fill(),g.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),g.scale(C*this.scaleX/y.zoomX,C*this.scaleY/y.zoomY),g.strokeStyle=w.createPattern(b,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var g=o.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",g.scaleX),this.set("scaleY",g.scaleY),this.angle=g.angle,this.skewX=g.skewX,this.skewY=0}},_removeTransformMatrix:function(g){var v=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),v=o.util.transformPoint(v,this.transformMatrix)),this.transformMatrix=null,g&&(this.scaleX*=g.scaleX,this.scaleY*=g.scaleY,this.cropX=g.cropX,this.cropY=g.cropY,v.x+=g.offsetLeft,v.y+=g.offsetTop,this.width=g.width,this.height=g.height),this.setPositionByOrigin(v,"center","center")},clone:function(g,v){var y=this.toObject(v);this.constructor.fromObject?this.constructor.fromObject(y,g):o.Object._fromObject("Object",y,g)},cloneAsImage:function(g,v){var y=this.toCanvasElement(v);return g&&g(new o.Image(y)),this},toCanvasElement:function(g){g||(g={});var v=o.util,y=v.saveObjectTransform(this),b=this.group,w=this.shadow,C=Math.abs,S=(g.multiplier||1)*(g.enableRetinaScaling?o.devicePixelRatio:1);delete this.group,g.withoutTransform&&v.resetObjectTransform(this),g.withoutShadow&&(this.shadow=null);var _=o.util.createCanvasElement(),T=this.getBoundingRect(!0,!0),R=this.shadow,F,$={x:0,y:0},G,ne,X;R&&(G=R.blur,R.nonScaling?F={scaleX:1,scaleY:1}:F=this.getObjectScaling(),$.x=2*Math.round(C(R.offsetX)+G)*C(F.scaleX),$.y=2*Math.round(C(R.offsetY)+G)*C(F.scaleY)),ne=T.width+$.x,X=T.height+$.y,_.width=Math.ceil(ne),_.height=Math.ceil(X);var J=new o.StaticCanvas(_,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});g.format==="jpeg"&&(J.backgroundColor="#fff"),this.setPositionByOrigin(new o.Point(J.width/2,J.height/2),"center","center");var re=this.canvas;J.add(this);var ie=J.toCanvasElement(S||1,g);return this.shadow=w,this.set("canvas",re),b&&(this.group=b),this.set(y).setCoords(),J._objects=[],J.dispose(),J=null,ie},toDataURL:function(g){return g||(g={}),o.util.toDataURL(this.toCanvasElement(g),g.format||"png",g.quality||1)},isType:function(g){return arguments.length>1?Array.from(arguments).includes(this.type):this.type===g},complexity:function(){return 1},toJSON:function(g){return this.toObject(g)},rotate:function(g){var v=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return v&&this._setOriginToCenter(),this.set("angle",g),v&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(g,v){v=v||this.canvas.getPointer(g);var y=new o.Point(v.x,v.y),b=this._getLeftTopCoords();return this.angle&&(y=o.util.rotatePoint(y,b,f(-this.angle))),{x:y.x-b.x,y:y.y-b.y}},_setupCompositeOperation:function(g){this.globalCompositeOperation&&(g.globalCompositeOperation=this.globalCompositeOperation)},dispose:function(){o.runningAnimations&&o.runningAnimations.cancelByTarget(this)}}),o.util.createAccessors&&o.util.createAccessors(o.Object),u(o.Object.prototype,o.Observable),o.Object.NUM_FRACTION_DIGITS=2,o.Object.ENLIVEN_PROPS=["clipPath"],o.Object._fromObject=function(g,v,y,b){var w=o[g];v=d(v,!0),o.util.enlivenPatterns([v.fill,v.stroke],function(C){typeof C[0]<"u"&&(v.fill=C[0]),typeof C[1]<"u"&&(v.stroke=C[1]),o.util.enlivenObjectEnlivables(v,v,function(){var S=b?new w(v[b],v):new w(v);y&&y(S)})})},o.Object.__uid=0)}(e),function(){var a=t.util.degreesToRadians,o={left:-.5,center:0,right:.5},u={top:-.5,center:0,bottom:.5};t.util.object.extend(t.Object.prototype,{translateToGivenOrigin:function(d,l,c,f,p){var m=d.x,g=d.y,v,y,b;return typeof l=="string"?l=o[l]:l-=.5,typeof f=="string"?f=o[f]:f-=.5,v=f-l,typeof c=="string"?c=u[c]:c-=.5,typeof p=="string"?p=u[p]:p-=.5,y=p-c,(v||y)&&(b=this._getTransformedDimensions(),m=d.x+v*b.x,g=d.y+y*b.y),new t.Point(m,g)},translateToCenterPoint:function(d,l,c){var f=this.translateToGivenOrigin(d,l,c,"center","center");return this.angle?t.util.rotatePoint(f,d,a(this.angle)):f},translateToOriginPoint:function(d,l,c){var f=this.translateToGivenOrigin(d,"center","center",l,c);return this.angle?t.util.rotatePoint(f,d,a(this.angle)):f},getCenterPoint:function(){var d=new t.Point(this.left,this.top);return this.translateToCenterPoint(d,this.originX,this.originY)},getPointByOrigin:function(d,l){var c=this.getCenterPoint();return this.translateToOriginPoint(c,d,l)},toLocalPoint:function(d,l,c){var f=this.getCenterPoint(),p,m;return typeof l<"u"&&typeof c<"u"?p=this.translateToGivenOrigin(f,"center","center",l,c):p=new t.Point(this.left,this.top),m=new t.Point(d.x,d.y),this.angle&&(m=t.util.rotatePoint(m,f,-a(this.angle))),m.subtractEquals(p)},setPositionByOrigin:function(d,l,c){var f=this.translateToCenterPoint(d,l,c),p=this.translateToOriginPoint(f,this.originX,this.originY);this.set("left",p.x),this.set("top",p.y)},adjustPosition:function(d){var l=a(this.angle),c=this.getScaledWidth(),f=t.util.cos(l)*c,p=t.util.sin(l)*c,m,g;typeof this.originX=="string"?m=o[this.originX]:m=this.originX-.5,typeof d=="string"?g=o[d]:g=d-.5,this.left+=f*(g-m),this.top+=p*(g-m),this.setCoords(),this.originX=d},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var d=this.getCenterPoint();this.originX="center",this.originY="center",this.left=d.x,this.top=d.y},_resetOrigin:function(){var d=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=d.x,this.top=d.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function a(c){return[new t.Point(c.tl.x,c.tl.y),new t.Point(c.tr.x,c.tr.y),new t.Point(c.br.x,c.br.y),new t.Point(c.bl.x,c.bl.y)]}var o=t.util,u=o.degreesToRadians,d=o.multiplyTransformMatrices,l=o.transformPoint;o.object.extend(t.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(c,f){return f?c?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),c?this.aCoords:this.lineCoords)},getCoords:function(c,f){return a(this._getCoords(c,f))},intersectsWithRect:function(c,f,p,m){var g=this.getCoords(p,m),v=t.Intersection.intersectPolygonRectangle(g,c,f);return v.status==="Intersection"},intersectsWithObject:function(c,f,p){var m=t.Intersection.intersectPolygonPolygon(this.getCoords(f,p),c.getCoords(f,p));return m.status==="Intersection"||c.isContainedWithinObject(this,f,p)||this.isContainedWithinObject(c,f,p)},isContainedWithinObject:function(c,f,p){for(var m=this.getCoords(f,p),g=f?c.aCoords:c.lineCoords,v=0,y=c._getImageLines(g);v<4;v++)if(!c.containsPoint(m[v],y))return!1;return!0},isContainedWithinRect:function(c,f,p,m){var g=this.getBoundingRect(p,m);return g.left>=c.x&&g.left+g.width<=f.x&&g.top>=c.y&&g.top+g.height<=f.y},containsPoint:function(c,v,p,m){var g=this._getCoords(p,m),v=v||this._getImageLines(g),y=this._findCrossPoints(c,v);return y!==0&&y%2===1},isOnScreen:function(c){if(!this.canvas)return!1;var f=this.canvas.vptCoords.tl,p=this.canvas.vptCoords.br,m=this.getCoords(!0,c);return m.some(function(g){return g.x<=p.x&&g.x>=f.x&&g.y<=p.y&&g.y>=f.y})||this.intersectsWithRect(f,p,!0,c)?!0:this._containsCenterOfCanvas(f,p,c)},_containsCenterOfCanvas:function(c,f,p){var m={x:(c.x+f.x)/2,y:(c.y+f.y)/2};return!!this.containsPoint(m,null,!0,p)},isPartiallyOnScreen:function(c){if(!this.canvas)return!1;var f=this.canvas.vptCoords.tl,p=this.canvas.vptCoords.br;if(this.intersectsWithRect(f,p,!0,c))return!0;var m=this.getCoords(!0,c).every(function(g){return(g.x>=p.x||g.x<=f.x)&&(g.y>=p.y||g.y<=f.y)});return m&&this._containsCenterOfCanvas(f,p,c)},_getImageLines:function(c){var f={topline:{o:c.tl,d:c.tr},rightline:{o:c.tr,d:c.br},bottomline:{o:c.br,d:c.bl},leftline:{o:c.bl,d:c.tl}};return f},_findCrossPoints:function(c,f){var p,m,g,v,y,b=0,w;for(var C in f)if(w=f[C],!(w.o.y<c.y&&w.d.y<c.y)&&!(w.o.y>=c.y&&w.d.y>=c.y)&&(w.o.x===w.d.x&&w.o.x>=c.x?y=w.o.x:(p=0,m=(w.d.y-w.o.y)/(w.d.x-w.o.x),g=c.y-p*c.x,v=w.o.y-m*w.o.x,y=-(g-v)/(p-m)),y>=c.x&&(b+=1),b===2))break;return b},getBoundingRect:function(c,f){var p=this.getCoords(c,f);return o.makeBoundingBoxFromPoints(p)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(c){return Math.abs(c)<this.minScaleLimit?c<0?-this.minScaleLimit:this.minScaleLimit:c===0?1e-4:c},scale:function(c){return this._set("scaleX",c),this._set("scaleY",c),this.setCoords()},scaleToWidth:function(c,f){var p=this.getBoundingRect(f).width/this.getScaledWidth();return this.scale(c/this.width/p)},scaleToHeight:function(c,f){var p=this.getBoundingRect(f).height/this.getScaledHeight();return this.scale(c/this.height/p)},calcLineCoords:function(){var c=this.getViewportTransform(),f=this.padding,p=u(this.angle),m=o.cos(p),g=o.sin(p),v=m*f,y=g*f,b=v+y,w=v-y,C=this.calcACoords(),S={tl:l(C.tl,c),tr:l(C.tr,c),bl:l(C.bl,c),br:l(C.br,c)};return f&&(S.tl.x-=w,S.tl.y-=b,S.tr.x+=b,S.tr.y-=w,S.bl.x-=b,S.bl.y+=w,S.br.x+=w,S.br.y+=b),S},calcOCoords:function(){var c=this._calcRotateMatrix(),f=this._calcTranslateMatrix(),p=this.getViewportTransform(),m=d(p,f),g=d(m,c),g=d(g,[1/p[0],0,0,1/p[3],0,0]),v=this._calculateCurrentDimensions(),y={};return this.forEachControl(function(b,w,C){y[w]=b.positionHandler(v,g,C)}),y},calcACoords:function(){var c=this._calcRotateMatrix(),f=this._calcTranslateMatrix(),p=d(f,c),m=this._getTransformedDimensions(),g=m.x/2,v=m.y/2;return{tl:l({x:-g,y:-v},p),tr:l({x:g,y:-v},p),bl:l({x:-g,y:v},p),br:l({x:g,y:v},p)}},setCoords:function(c){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),c?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return o.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var c=this.getCenterPoint();return[1,0,0,1,c.x,c.y]},transformMatrixKey:function(c){var f="_",p="";return!c&&this.group&&(p=this.group.transformMatrixKey(c)+f),p+this.top+f+this.left+f+this.scaleX+f+this.scaleY+f+this.skewX+f+this.skewY+f+this.angle+f+this.originX+f+this.originY+f+this.width+f+this.height+f+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(c){var f=this.calcOwnMatrix();if(c||!this.group)return f;var p=this.transformMatrixKey(c),m=this.matrixCache||(this.matrixCache={});return m.key===p?m.value:(this.group&&(f=d(this.group.calcTransformMatrix(!1),f)),m.key=p,m.value=f,f)},calcOwnMatrix:function(){var c=this.transformMatrixKey(!0),f=this.ownMatrixCache||(this.ownMatrixCache={});if(f.key===c)return f.value;var p=this._calcTranslateMatrix(),m={angle:this.angle,translateX:p[4],translateY:p[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return f.key=c,f.value=o.composeMatrix(m),f.value},_getNonTransformedDimensions:function(){var c=this.strokeWidth,f=this.width+c,p=this.height+c;return{x:f,y:p}},_getTransformedDimensions:function(c,f){typeof c>"u"&&(c=this.skewX),typeof f>"u"&&(f=this.skewY);var p,m,g,v=c===0&&f===0;if(this.strokeUniform?(m=this.width,g=this.height):(p=this._getNonTransformedDimensions(),m=p.x,g=p.y),v)return this._finalizeDimensions(m*this.scaleX,g*this.scaleY);var y=o.sizeAfterTransform(m,g,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:c,skewY:f});return this._finalizeDimensions(y.x,y.y)},_finalizeDimensions:function(c,f){return this.strokeUniform?{x:c+this.strokeWidth,y:f+this.strokeWidth}:{x:c,y:f}},_calculateCurrentDimensions:function(){var c=this.getViewportTransform(),f=this._getTransformedDimensions(),p=l(f,c,!0);return p.scalarAdd(2*this.padding)}})}(),t.util.object.extend(t.Object.prototype,{sendToBack:function(){return this.group?t.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?t.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(a){return this.group?t.StaticCanvas.prototype.sendBackwards.call(this.group,this,a):this.canvas&&this.canvas.sendBackwards(this,a),this},bringForward:function(a){return this.group?t.StaticCanvas.prototype.bringForward.call(this.group,this,a):this.canvas&&this.canvas.bringForward(this,a),this},moveTo:function(a){return this.group&&this.group.type!=="activeSelection"?t.StaticCanvas.prototype.moveTo.call(this.group,this,a):this.canvas&&this.canvas.moveTo(this,a),this}}),function(){function a(u,d){if(d){if(d.toLive)return u+": url(#SVGID_"+d.id+"); ";var l=new t.Color(d),c=u+": "+l.toRgb()+"; ",f=l.getAlpha();return f!==1&&(c+=u+"-opacity: "+f.toString()+"; "),c}else return u+": none; "}var o=t.util.toFixed;t.util.object.extend(t.Object.prototype,{getSvgStyles:function(u){var d=this.fillRule?this.fillRule:"nonzero",l=this.strokeWidth?this.strokeWidth:"0",c=this.strokeDashArray?this.strokeDashArray.join(" "):"none",f=this.strokeDashOffset?this.strokeDashOffset:"0",p=this.strokeLineCap?this.strokeLineCap:"butt",m=this.strokeLineJoin?this.strokeLineJoin:"miter",g=this.strokeMiterLimit?this.strokeMiterLimit:"4",v=typeof this.opacity<"u"?this.opacity:"1",y=this.visible?"":" visibility: hidden;",b=u?"":this.getSvgFilter(),w=a("fill",this.fill),C=a("stroke",this.stroke);return[C,"stroke-width: ",l,"; ","stroke-dasharray: ",c,"; ","stroke-linecap: ",p,"; ","stroke-dashoffset: ",f,"; ","stroke-linejoin: ",m,"; ","stroke-miterlimit: ",g,"; ",w,"fill-rule: ",d,"; ","opacity: ",v,";",b,y].join("")},getSvgSpanStyles:function(u,d){var l="; ",f=u.fontFamily?"font-family: "+(u.fontFamily.indexOf("'")===-1&&u.fontFamily.indexOf('"')===-1?"'"+u.fontFamily+"'":u.fontFamily)+l:"",c=u.strokeWidth?"stroke-width: "+u.strokeWidth+l:"",f=f,p=u.fontSize?"font-size: "+u.fontSize+"px"+l:"",m=u.fontStyle?"font-style: "+u.fontStyle+l:"",g=u.fontWeight?"font-weight: "+u.fontWeight+l:"",v=u.fill?a("fill",u.fill):"",y=u.stroke?a("stroke",u.stroke):"",b=this.getSvgTextDecoration(u),w=u.deltaY?"baseline-shift: "+-u.deltaY+"; ":"";return b&&(b="text-decoration: "+b+l),[y,c,f,p,m,g,b,v,w,d?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(u){return["overline","underline","line-through"].filter(function(d){return u[d.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(u,d){var l=u?this.calcTransformMatrix():this.calcOwnMatrix(),c='transform="'+t.util.matrixToSVG(l);return c+(d||"")+'" '},_setSVGBg:function(u){if(this.backgroundColor){var d=t.Object.NUM_FRACTION_DIGITS;u.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',o(-this.width/2,d),'" y="',o(-this.height/2,d),'" width="',o(this.width,d),'" height="',o(this.height,d),`"></rect>
`)}},toSVG:function(u){return this._createBaseSVGMarkup(this._toSVG(u),{reviver:u})},toClipPathSVG:function(u){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(u),{reviver:u})},_createBaseClipPathSVGMarkup:function(u,d){d=d||{};var l=d.reviver,c=d.additionalTransform||"",f=[this.getSvgTransform(!0,c),this.getSvgCommons()].join(""),p=u.indexOf("COMMON_PARTS");return u[p]=f,l?l(u.join("")):u.join("")},_createBaseSVGMarkup:function(u,d){d=d||{};var l=d.noStyle,c=d.reviver,f=l?"":'style="'+this.getSvgStyles()+'" ',p=d.withShadow?'style="'+this.getSvgFilter()+'" ':"",m=this.clipPath,g=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",v=m&&m.absolutePositioned,y=this.stroke,b=this.fill,w=this.shadow,C,S=[],_,T=u.indexOf("COMMON_PARTS"),R=d.additionalTransform;return m&&(m.clipPathId="CLIPPATH_"+t.Object.__uid++,_='<clipPath id="'+m.clipPathId+`" >
`+m.toClipPathSVG(c)+`</clipPath>
`),v&&S.push("<g ",p,this.getSvgCommons(),` >
`),S.push("<g ",this.getSvgTransform(!1),v?"":p+this.getSvgCommons(),` >
`),C=[f,g,l?"":this.addPaintOrder()," ",R?'transform="'+R+'" ':""].join(""),u[T]=C,b&&b.toLive&&S.push(b.toSVG(this)),y&&y.toLive&&S.push(y.toSVG(this)),w&&S.push(w.toSVG(this)),m&&S.push(_),S.push(u.join("")),S.push(`</g>
`),v&&S.push(`</g>
`),c?c(S.join("")):S.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var a=t.util.object.extend,o="stateProperties";function u(l,c,f){var p={},m=!0;f.forEach(function(g){p[g]=l[g]}),a(l[c],p,m)}function d(l,c,f){if(l===c)return!0;if(Array.isArray(l)){if(!Array.isArray(c)||l.length!==c.length)return!1;for(var p=0,m=l.length;p<m;p++)if(!d(l[p],c[p]))return!1;return!0}else if(l&&typeof l=="object"){var g=Object.keys(l),v;if(!c||typeof c!="object"||!f&&g.length!==Object.keys(c).length)return!1;for(var p=0,m=g.length;p<m;p++)if(v=g[p],!(v==="canvas"||v==="group")&&!d(l[v],c[v]))return!1;return!0}}t.util.object.extend(t.Object.prototype,{hasStateChanged:function(l){l=l||o;var c="_"+l;return Object.keys(this[c]).length<this[l].length?!0:!d(this[c],this,!0)},saveState:function(l){var c=l&&l.propertySet||o,f="_"+c;return this[f]?(u(this,f,this[c]),l&&l.stateProperties&&u(this,f,l.stateProperties),this):this.setupState(l)},setupState:function(l){l=l||{};var c=l.propertySet||o;return l.propertySet=c,this["_"+c]={},this.saveState(l),this}})}(),function(){var a=t.util.degreesToRadians;t.util.object.extend(t.Object.prototype,{_findTargetCorner:function(o,u){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var d=o.x,l=o.y,c,f,p=Object.keys(this.oCoords),m=p.length-1,g;for(this.__corner=0;m>=0;m--)if(g=p[m],!!this.isControlVisible(g)&&(f=this._getImageLines(u?this.oCoords[g].touchCorner:this.oCoords[g].corner),c=this._findCrossPoints({x:d,y:l},f),c!==0&&c%2===1))return this.__corner=g,g;return!1},forEachControl:function(o){for(var u in this.controls)o(this.controls[u],u,this)},_setCornerCoords:function(){var o=this.oCoords;for(var u in o){var d=this.controls[u];o[u].corner=d.calcCornerCoords(this.angle,this.cornerSize,o[u].x,o[u].y,!1),o[u].touchCorner=d.calcCornerCoords(this.angle,this.touchCornerSize,o[u].x,o[u].y,!0)}},drawSelectionBackground:function(o){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;o.save();var u=this.getCenterPoint(),d=this._calculateCurrentDimensions(),l=this.canvas.viewportTransform;return o.translate(u.x,u.y),o.scale(1/l[0],1/l[3]),o.rotate(a(this.angle)),o.fillStyle=this.selectionBackgroundColor,o.fillRect(-d.x/2,-d.y/2,d.x,d.y),o.restore(),this},drawBorders:function(o,u){u=u||{};var d=this._calculateCurrentDimensions(),l=this.borderScaleFactor,c=d.x+l,f=d.y+l,p=typeof u.hasControls<"u"?u.hasControls:this.hasControls,m=!1;return o.save(),o.strokeStyle=u.borderColor||this.borderColor,this._setLineDash(o,u.borderDashArray||this.borderDashArray),o.strokeRect(-c/2,-f/2,c,f),p&&(o.beginPath(),this.forEachControl(function(g,v,y){g.withConnection&&g.getVisibility(y,v)&&(m=!0,o.moveTo(g.x*c,g.y*f),o.lineTo(g.x*c+g.offsetX,g.y*f+g.offsetY))}),m&&o.stroke()),o.restore(),this},drawBordersInGroup:function(o,u,d){d=d||{};var l=t.util.sizeAfterTransform(this.width,this.height,u),c=this.strokeWidth,f=this.strokeUniform,p=this.borderScaleFactor,m=l.x+c*(f?this.canvas.getZoom():u.scaleX)+p,g=l.y+c*(f?this.canvas.getZoom():u.scaleY)+p;return o.save(),this._setLineDash(o,d.borderDashArray||this.borderDashArray),o.strokeStyle=d.borderColor||this.borderColor,o.strokeRect(-m/2,-g/2,m,g),o.restore(),this},drawControls:function(o,u){u=u||{},o.save();var d=this.canvas.getRetinaScaling(),l,c;return o.setTransform(d,0,0,d,0,0),o.strokeStyle=o.fillStyle=u.cornerColor||this.cornerColor,this.transparentCorners||(o.strokeStyle=u.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(o,u.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(l=this.group.calcTransformMatrix()),this.forEachControl(function(f,p,m){c=m.oCoords[p],f.getVisibility(m,p)&&(l&&(c=t.util.transformPoint(c,l)),f.render(o,c.x,c.y,u,m))}),o.restore(),this},isControlVisible:function(o){return this.controls[o]&&this.controls[o].getVisibility(this,o)},setControlVisible:function(o,u){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[o]=u,this},setControlsVisibility:function(o){o||(o={});for(var u in o)this.setControlVisible(u,o[u]);return this},onDeselect:function(){},onSelect:function(){}})}(),t.util.object.extend(t.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(a,o){o=o||{};var u=function(){},d=o.onComplete||u,l=o.onChange||u,c=this;return t.util.animate({target:this,startValue:a.left,endValue:this.getCenterPoint().x,duration:this.FX_DURATION,onChange:function(f){a.set("left",f),c.requestRenderAll(),l()},onComplete:function(){a.setCoords(),d()}})},fxCenterObjectV:function(a,o){o=o||{};var u=function(){},d=o.onComplete||u,l=o.onChange||u,c=this;return t.util.animate({target:this,startValue:a.top,endValue:this.getCenterPoint().y,duration:this.FX_DURATION,onChange:function(f){a.set("top",f),c.requestRenderAll(),l()},onComplete:function(){a.setCoords(),d()}})},fxRemove:function(a,o){o=o||{};var u=function(){},d=o.onComplete||u,l=o.onChange||u,c=this;return t.util.animate({target:this,startValue:a.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(f){a.set("opacity",f),c.requestRenderAll(),l()},onComplete:function(){c.remove(a),d()}})}}),t.util.object.extend(t.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var a=[],o,u,d=[];for(o in arguments[0])a.push(o);for(var l=0,c=a.length;l<c;l++)o=a[l],u=l!==c-1,d.push(this._animate(o,arguments[0][o],arguments[1],u));return d}else return this._animate.apply(this,arguments)},_animate:function(a,o,u,d){var l=this,c;o=o.toString(),u?u=t.util.object.clone(u):u={},~a.indexOf(".")&&(c=a.split("."));var f=l.colorProperties.indexOf(a)>-1||c&&l.colorProperties.indexOf(c[1])>-1,p=c?this.get(c[0])[c[1]]:this.get(a);"from"in u||(u.from=p),f||(~o.indexOf("=")?o=p+parseFloat(o.replace("=","")):o=parseFloat(o));var m={target:this,startValue:u.from,endValue:o,byValue:u.by,easing:u.easing,duration:u.duration,abort:u.abort&&function(g,v,y){return u.abort.call(l,g,v,y)},onChange:function(g,v,y){c?l[c[0]][c[1]]=g:l.set(a,g),!d&&u.onChange&&u.onChange(g,v,y)},onComplete:function(g,v,y){d||(l.setCoords(),u.onComplete&&u.onComplete(g,v,y))}};return f?t.util.animateColor(m.startValue,m.endValue,m.duration,m):t.util.animate(m)}}),function(a){var o=a.fabric||(a.fabric={}),u=o.util.object.extend,d=o.util.object.clone,l={x1:1,x2:1,y1:1,y2:1};if(o.Line){o.warn("fabric.Line is already defined");return}o.Line=o.util.createClass(o.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:o.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(f,p){f||(f=[0,0,0,0]),this.callSuper("initialize",p),this.set("x1",f[0]),this.set("y1",f[1]),this.set("x2",f[2]),this.set("y2",f[3]),this._setWidthHeight(p)},_setWidthHeight:function(f){f||(f={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in f?f.left:this._getLeftToOriginX(),this.top="top"in f?f.top:this._getTopToOriginY()},_set:function(f,p){return this.callSuper("_set",f,p),typeof l[f]<"u"&&this._setWidthHeight(),this},_getLeftToOriginX:c({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:c({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(f){f.beginPath();var p=this.calcLinePoints();f.moveTo(p.x1,p.y1),f.lineTo(p.x2,p.y2),f.lineWidth=this.strokeWidth;var m=f.strokeStyle;f.strokeStyle=this.stroke||f.fillStyle,this.stroke&&this._renderStroke(f),f.strokeStyle=m},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(f){return u(this.callSuper("toObject",f),this.calcLinePoints())},_getNonTransformedDimensions:function(){var f=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(f.y-=this.strokeWidth),this.height===0&&(f.x-=this.strokeWidth)),f},calcLinePoints:function(){var f=this.x1<=this.x2?-1:1,p=this.y1<=this.y2?-1:1,m=f*this.width*.5,g=p*this.height*.5,v=f*this.width*-.5,y=p*this.height*-.5;return{x1:m,x2:v,y1:g,y2:y}},_toSVG:function(){var f=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',f.x1,'" y1="',f.y1,'" x2="',f.x2,'" y2="',f.y2,`" />
`]}}),o.Line.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),o.Line.fromElement=function(f,p,m){m=m||{};var g=o.parseAttributes(f,o.Line.ATTRIBUTE_NAMES),v=[g.x1||0,g.y1||0,g.x2||0,g.y2||0];p(new o.Line(v,u(g,m)))},o.Line.fromObject=function(f,p){function m(v){delete v.points,p&&p(v)}var g=d(f,!0);g.points=[f.x1,f.y1,f.x2,f.y2],o.Object._fromObject("Line",g,m,"points")};function c(f,p){var m=f.origin,g=f.axis1,v=f.axis2,y=f.dimension,b=p.nearest,w=p.center,C=p.farthest;return function(){switch(this.get(m)){case b:return Math.min(this.get(g),this.get(v));case w:return Math.min(this.get(g),this.get(v))+.5*this.get(y);case C:return Math.max(this.get(g),this.get(v))}}}}(e),function(a){var o=a.fabric||(a.fabric={}),u=o.util.degreesToRadians;if(o.Circle){o.warn("fabric.Circle is already defined.");return}o.Circle=o.util.createClass(o.Object,{type:"circle",radius:0,startAngle:0,endAngle:360,cacheProperties:o.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(l,c){return this.callSuper("_set",l,c),l==="radius"&&this.setRadius(c),this},toObject:function(l){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(l))},_toSVG:function(){var l,c=0,f=0,p=(this.endAngle-this.startAngle)%360;if(p===0)l=["<circle ","COMMON_PARTS",'cx="'+c+'" cy="'+f+'" ','r="',this.radius,`" />
`];else{var m=u(this.startAngle),g=u(this.endAngle),v=this.radius,y=o.util.cos(m)*v,b=o.util.sin(m)*v,w=o.util.cos(g)*v,C=o.util.sin(g)*v,S=p>180?"1":"0";l=['<path d="M '+y+" "+b," A "+v+" "+v," 0 ",+S+" 1"," "+w+" "+C,'" ',"COMMON_PARTS",` />
`]}return l},_render:function(l){l.beginPath(),l.arc(0,0,this.radius,u(this.startAngle),u(this.endAngle),!1),this._renderPaintInOrder(l)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(l){return this.radius=l,this.set("width",l*2).set("height",l*2)}}),o.Circle.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),o.Circle.fromElement=function(l,c){var f=o.parseAttributes(l,o.Circle.ATTRIBUTE_NAMES);if(!d(f))throw new Error("value of `r` attribute is required and can not be negative");f.left=(f.left||0)-f.radius,f.top=(f.top||0)-f.radius,c(new o.Circle(f))};function d(l){return"radius"in l&&l.radius>=0}o.Circle.fromObject=function(l,c){o.Object._fromObject("Circle",l,c)}}(e),function(a){var o=a.fabric||(a.fabric={});if(o.Triangle){o.warn("fabric.Triangle is already defined");return}o.Triangle=o.util.createClass(o.Object,{type:"triangle",width:100,height:100,_render:function(u){var d=this.width/2,l=this.height/2;u.beginPath(),u.moveTo(-d,l),u.lineTo(0,-l),u.lineTo(d,l),u.closePath(),this._renderPaintInOrder(u)},_toSVG:function(){var u=this.width/2,d=this.height/2,l=[-u+" "+d,"0 "+-d,u+" "+d].join(",");return["<polygon ","COMMON_PARTS",'points="',l,'" />']}}),o.Triangle.fromObject=function(u,d){return o.Object._fromObject("Triangle",u,d)}}(e),function(a){var o=a.fabric||(a.fabric={}),u=Math.PI*2;if(o.Ellipse){o.warn("fabric.Ellipse is already defined.");return}o.Ellipse=o.util.createClass(o.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:o.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(d){this.callSuper("initialize",d),this.set("rx",d&&d.rx||0),this.set("ry",d&&d.ry||0)},_set:function(d,l){switch(this.callSuper("_set",d,l),d){case"rx":this.rx=l,this.set("width",l*2);break;case"ry":this.ry=l,this.set("height",l*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(d){return this.callSuper("toObject",["rx","ry"].concat(d))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(d){d.beginPath(),d.save(),d.transform(1,0,0,this.ry/this.rx,0,0),d.arc(0,0,this.rx,0,u,!1),d.restore(),this._renderPaintInOrder(d)}}),o.Ellipse.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),o.Ellipse.fromElement=function(d,l){var c=o.parseAttributes(d,o.Ellipse.ATTRIBUTE_NAMES);c.left=(c.left||0)-c.rx,c.top=(c.top||0)-c.ry,l(new o.Ellipse(c))},o.Ellipse.fromObject=function(d,l){o.Object._fromObject("Ellipse",d,l)}}(e),function(a){var o=a.fabric||(a.fabric={}),u=o.util.object.extend;if(o.Rect){o.warn("fabric.Rect is already defined");return}o.Rect=o.util.createClass(o.Object,{stateProperties:o.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:o.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(d){this.callSuper("initialize",d),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(d){var l=this.rx?Math.min(this.rx,this.width/2):0,c=this.ry?Math.min(this.ry,this.height/2):0,f=this.width,p=this.height,m=-this.width/2,g=-this.height/2,v=l!==0||c!==0,y=1-.5522847498;d.beginPath(),d.moveTo(m+l,g),d.lineTo(m+f-l,g),v&&d.bezierCurveTo(m+f-y*l,g,m+f,g+y*c,m+f,g+c),d.lineTo(m+f,g+p-c),v&&d.bezierCurveTo(m+f,g+p-y*c,m+f-y*l,g+p,m+f-l,g+p),d.lineTo(m+l,g+p),v&&d.bezierCurveTo(m+y*l,g+p,m,g+p-y*c,m,g+p-c),d.lineTo(m,g+c),v&&d.bezierCurveTo(m,g+y*c,m+y*l,g,m+l,g),d.closePath(),this._renderPaintInOrder(d)},toObject:function(d){return this.callSuper("toObject",["rx","ry"].concat(d))},_toSVG:function(){var d=-this.width/2,l=-this.height/2;return["<rect ","COMMON_PARTS",'x="',d,'" y="',l,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),o.Rect.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),o.Rect.fromElement=function(d,l,c){if(!d)return l(null);c=c||{};var f=o.parseAttributes(d,o.Rect.ATTRIBUTE_NAMES);f.left=f.left||0,f.top=f.top||0,f.height=f.height||0,f.width=f.width||0;var p=new o.Rect(u(c?o.util.object.clone(c):{},f));p.visible=p.visible&&p.width>0&&p.height>0,l(p)},o.Rect.fromObject=function(d,l){return o.Object._fromObject("Rect",d,l)}}(e),function(a){var o=a.fabric||(a.fabric={}),u=o.util.object.extend,d=o.util.array.min,l=o.util.array.max,c=o.util.toFixed,f=o.util.projectStrokeOnPoints;if(o.Polyline){o.warn("fabric.Polyline is already defined");return}o.Polyline=o.util.createClass(o.Object,{type:"polyline",points:null,exactBoundingBox:!1,cacheProperties:o.Object.prototype.cacheProperties.concat("points"),initialize:function(p,m){m=m||{},this.points=p||[],this.callSuper("initialize",m),this._setPositionDimensions(m)},_projectStrokeOnPoints:function(){return f(this.points,this,!0)},_setPositionDimensions:function(p){var m=this._calcDimensions(p),g,v=this.exactBoundingBox?this.strokeWidth:0;this.width=m.width-v,this.height=m.height-v,p.fromSVG||(g=this.translateToGivenOrigin({x:m.left-this.strokeWidth/2+v/2,y:m.top-this.strokeWidth/2+v/2},"left","top",this.originX,this.originY)),typeof p.left>"u"&&(this.left=p.fromSVG?m.left:g.x),typeof p.top>"u"&&(this.top=p.fromSVG?m.top:g.y),this.pathOffset={x:m.left+this.width/2+v/2,y:m.top+this.height/2+v/2}},_calcDimensions:function(){var p=this.exactBoundingBox?this._projectStrokeOnPoints():this.points,m=d(p,"x")||0,g=d(p,"y")||0,v=l(p,"x")||0,y=l(p,"y")||0,b=v-m,w=y-g;return{left:m,top:g,width:b,height:w}},toObject:function(p){return u(this.callSuper("toObject",p),{points:this.points.concat()})},_toSVG:function(){for(var p=[],m=this.pathOffset.x,g=this.pathOffset.y,v=o.Object.NUM_FRACTION_DIGITS,y=0,b=this.points.length;y<b;y++)p.push(c(this.points[y].x-m,v),",",c(this.points[y].y-g,v)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',p.join(""),`" />
`]},commonRender:function(p){var m,g=this.points.length,v=this.pathOffset.x,y=this.pathOffset.y;if(!g||isNaN(this.points[g-1].y))return!1;p.beginPath(),p.moveTo(this.points[0].x-v,this.points[0].y-y);for(var b=0;b<g;b++)m=this.points[b],p.lineTo(m.x-v,m.y-y);return!0},_render:function(p){this.commonRender(p)&&this._renderPaintInOrder(p)},complexity:function(){return this.get("points").length}}),o.Polyline.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat(),o.Polyline.fromElementGenerator=function(p){return function(m,g,v){if(!m)return g(null);v||(v={});var y=o.parsePointsAttribute(m.getAttribute("points")),b=o.parseAttributes(m,o[p].ATTRIBUTE_NAMES);b.fromSVG=!0,g(new o[p](y,u(b,v)))}},o.Polyline.fromElement=o.Polyline.fromElementGenerator("Polyline"),o.Polyline.fromObject=function(p,m){return o.Object._fromObject("Polyline",p,m,"points")}}(e),function(a){var o=a.fabric||(a.fabric={}),u=o.util.projectStrokeOnPoints;if(o.Polygon){o.warn("fabric.Polygon is already defined");return}o.Polygon=o.util.createClass(o.Polyline,{type:"polygon",_projectStrokeOnPoints:function(){return u(this.points,this)},_render:function(d){this.commonRender(d)&&(d.closePath(),this._renderPaintInOrder(d))}}),o.Polygon.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat(),o.Polygon.fromElement=o.Polyline.fromElementGenerator("Polygon"),o.Polygon.fromObject=function(d,l){o.Object._fromObject("Polygon",d,l,"points")}}(e),function(a){var o=a.fabric||(a.fabric={}),u=o.util.array.min,d=o.util.array.max,l=o.util.object.extend,c=o.util.object.clone,f=o.util.toFixed;if(o.Path){o.warn("fabric.Path is already defined");return}o.Path=o.util.createClass(o.Object,{type:"path",path:null,cacheProperties:o.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:o.Object.prototype.stateProperties.concat("path"),initialize:function(p,m){m=c(m||{}),delete m.path,this.callSuper("initialize",m),this._setPath(p||[],m)},_setPath:function(p,m){this.path=o.util.makePathSimpler(Array.isArray(p)?p:o.util.parsePath(p)),o.Polyline.prototype._setPositionDimensions.call(this,m||{})},_renderPathCommands:function(p){var m,g=0,v=0,y=0,b=0,w=0,C=0,S=-this.pathOffset.x,_=-this.pathOffset.y;p.beginPath();for(var T=0,R=this.path.length;T<R;++T)switch(m=this.path[T],m[0]){case"L":y=m[1],b=m[2],p.lineTo(y+S,b+_);break;case"M":y=m[1],b=m[2],g=y,v=b,p.moveTo(y+S,b+_);break;case"C":y=m[5],b=m[6],w=m[3],C=m[4],p.bezierCurveTo(m[1]+S,m[2]+_,w+S,C+_,y+S,b+_);break;case"Q":p.quadraticCurveTo(m[1]+S,m[2]+_,m[3]+S,m[4]+_),y=m[3],b=m[4],w=m[1],C=m[2];break;case"z":case"Z":y=g,b=v,p.closePath();break}},_render:function(p){this._renderPathCommands(p),this._renderPaintInOrder(p)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(p){return l(this.callSuper("toObject",p),{path:this.path.map(function(m){return m.slice()})})},toDatalessObject:function(p){var m=this.toObject(["sourcePath"].concat(p));return m.sourcePath&&delete m.path,m},_toSVG:function(){var p=o.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',p,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var p=o.Object.NUM_FRACTION_DIGITS;return" translate("+f(-this.pathOffset.x,p)+", "+f(-this.pathOffset.y,p)+")"},toClipPathSVG:function(p){var m=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:p,additionalTransform:m})},toSVG:function(p){var m=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:p,additionalTransform:m})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var p=[],m=[],g,v=0,y=0,b=0,w=0,C,S=0,_=this.path.length;S<_;++S){switch(g=this.path[S],g[0]){case"L":b=g[1],w=g[2],C=[];break;case"M":b=g[1],w=g[2],v=b,y=w,C=[];break;case"C":C=o.util.getBoundsOfCurve(b,w,g[1],g[2],g[3],g[4],g[5],g[6]),b=g[5],w=g[6];break;case"Q":C=o.util.getBoundsOfCurve(b,w,g[1],g[2],g[1],g[2],g[3],g[4]),b=g[3],w=g[4];break;case"z":case"Z":b=v,w=y;break}C.forEach(function(X){p.push(X.x),m.push(X.y)}),p.push(b),m.push(w)}var T=u(p)||0,R=u(m)||0,F=d(p)||0,$=d(m)||0,G=F-T,ne=$-R;return{left:T,top:R,width:G,height:ne}}}),o.Path.fromObject=function(p,m){if(typeof p.sourcePath=="string"){var g=p.sourcePath;o.loadSVGFromURL(g,function(v){var y=v[0];y.setOptions(p),p.clipPath?o.util.enlivenObjects([p.clipPath],function(b){y.clipPath=b[0],m&&m(y)}):m&&m(y)})}else o.Object._fromObject("Path",p,m,"path")},o.Path.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat(["d"]),o.Path.fromElement=function(p,m,g){var v=o.parseAttributes(p,o.Path.ATTRIBUTE_NAMES);v.fromSVG=!0,m(new o.Path(v.d,l(v,g)))}}(e),function(a){var o=a.fabric||(a.fabric={}),u=o.util.array.min,d=o.util.array.max;o.Group||(o.Group=o.util.createClass(o.Object,o.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(l,c,f){c=c||{},this._objects=[],f&&this.callSuper("initialize",c),this._objects=l||[];for(var p=this._objects.length;p--;)this._objects[p].group=this;if(f)this._updateObjectsACoords();else{var m=c&&c.centerPoint;c.originX!==void 0&&(this.originX=c.originX),c.originY!==void 0&&(this.originY=c.originY),m||this._calcBounds(),this._updateObjectsCoords(m),delete c.centerPoint,this.callSuper("initialize",c)}this.setCoords()},_updateObjectsACoords:function(){for(var l=!0,c=this._objects.length;c--;)this._objects[c].setCoords(l)},_updateObjectsCoords:function(c){for(var c=c||this.getCenterPoint(),f=this._objects.length;f--;)this._updateObjectCoords(this._objects[f],c)},_updateObjectCoords:function(l,c){var f=l.left,p=l.top,m=!0;l.set({left:f-c.x,top:p-c.y}),l.group=this,l.setCoords(m)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(l){var c=!!this.group;return this._restoreObjectsState(),o.util.resetObjectTransform(this),l&&(c&&o.util.removeTransformFromObject(l,this.group.calcTransformMatrix()),this._objects.push(l),l.group=this,l._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,c?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(l){return this._restoreObjectsState(),o.util.resetObjectTransform(this),this.remove(l),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(l){this.dirty=!0,l.group=this,l._set("canvas",this.canvas)},_onObjectRemoved:function(l){this.dirty=!0,delete l.group},_set:function(l,c){var f=this._objects.length;if(this.useSetOnGroup)for(;f--;)this._objects[f].setOnGroup(l,c);if(l==="canvas")for(;f--;)this._objects[f]._set(l,c);o.Object.prototype._set.call(this,l,c)},toObject:function(l){var c=this.includeDefaultValues,f=this._objects.filter(function(m){return!m.excludeFromExport}).map(function(m){var g=m.includeDefaultValues;m.includeDefaultValues=c;var v=m.toObject(l);return m.includeDefaultValues=g,v}),p=o.Object.prototype.toObject.call(this,l);return p.objects=f,p},toDatalessObject:function(l){var c,f=this.sourcePath;if(f)c=f;else{var p=this.includeDefaultValues;c=this._objects.map(function(g){var v=g.includeDefaultValues;g.includeDefaultValues=p;var y=g.toDatalessObject(l);return g.includeDefaultValues=v,y})}var m=o.Object.prototype.toDatalessObject.call(this,l);return m.objects=c,m},render:function(l){this._transformDone=!0,this.callSuper("render",l),this._transformDone=!1},shouldCache:function(){var l=o.Object.prototype.shouldCache.call(this);if(l){for(var c=0,f=this._objects.length;c<f;c++)if(this._objects[c].willDrawShadow())return this.ownCaching=!1,!1}return l},willDrawShadow:function(){if(o.Object.prototype.willDrawShadow.call(this))return!0;for(var l=0,c=this._objects.length;l<c;l++)if(this._objects[l].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(l){for(var c=0,f=this._objects.length;c<f;c++)this._objects[c].render(l);this._drawClipPath(l,this.clipPath)},isCacheDirty:function(l){if(this.callSuper("isCacheDirty",l))return!0;if(!this.statefullCache)return!1;for(var c=0,f=this._objects.length;c<f;c++)if(this._objects[c].isCacheDirty(!0)){if(this._cacheCanvas){var p=this.cacheWidth/this.zoomX,m=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-p/2,-m/2,p,m)}return!0}return!1},_restoreObjectsState:function(){var l=this.calcOwnMatrix();return this._objects.forEach(function(c){o.util.addTransformToObject(c,l),delete c.group,c.setCoords()}),this},destroy:function(){return this._objects.forEach(function(l){l.set("dirty",!0)}),this._restoreObjectsState()},dispose:function(){this.callSuper("dispose"),this.forEachObject(function(l){l.dispose&&l.dispose()}),this._objects=[]},toActiveSelection:function(){if(this.canvas){var l=this._objects,c=this.canvas;this._objects=[];var f=this.toObject();delete f.objects;var p=new o.ActiveSelection([]);return p.set(f),p.type="activeSelection",c.remove(this),l.forEach(function(m){m.group=p,m.dirty=!0,c.add(m)}),p.canvas=c,p._objects=l,c._activeObject=p,p.setCoords(),p}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var l=!0;return this.forEachObject(function(c){c.setCoords(l)}),this},_calcBounds:function(l){for(var c=[],f=[],p,m,g,v=["tr","br","bl","tl"],y=0,b=this._objects.length,w,C=v.length;y<b;++y){for(p=this._objects[y],g=p.calcACoords(),w=0;w<C;w++)m=v[w],c.push(g[m].x),f.push(g[m].y);p.aCoords=g}this._getBounds(c,f,l)},_getBounds:function(l,c,f){var p=new o.Point(u(l),u(c)),m=new o.Point(d(l),d(c)),g=p.y||0,v=p.x||0,y=m.x-p.x||0,b=m.y-p.y||0;this.width=y,this.height=b,f||this.setPositionByOrigin({x:v,y:g},"left","top")},_toSVG:function(l){for(var c=["<g ","COMMON_PARTS",` >
`],f=0,p=this._objects.length;f<p;f++)c.push("		",this._objects[f].toSVG(l));return c.push(`</g>
`),c},getSvgStyles:function(){var l=typeof this.opacity<"u"&&this.opacity!==1?"opacity: "+this.opacity+";":"",c=this.visible?"":" visibility: hidden;";return[l,this.getSvgFilter(),c].join("")},toClipPathSVG:function(l){for(var c=[],f=0,p=this._objects.length;f<p;f++)c.push("	",this._objects[f].toClipPathSVG(l));return this._createBaseClipPathSVGMarkup(c,{reviver:l})}}),o.Group.fromObject=function(l,c){var f=l.objects,p=o.util.object.clone(l,!0);if(delete p.objects,typeof f=="string"){o.loadSVGFromURL(f,function(m){var g=o.util.groupSVGElements(m,l,f),v=p.clipPath;delete p.clipPath,g.set(p),v?o.util.enlivenObjects([v],function(y){g.clipPath=y[0],c&&c(g)}):c&&c(g)});return}o.util.enlivenObjects(f,function(m){o.util.enlivenObjectEnlivables(l,p,function(){c&&c(new o.Group(m,p,!0))})})})}(e),function(a){var o=a.fabric||(a.fabric={});o.ActiveSelection||(o.ActiveSelection=o.util.createClass(o.Group,{type:"activeSelection",initialize:function(u,d){d=d||{},this._objects=u||[];for(var l=this._objects.length;l--;)this._objects[l].group=this;d.originX&&(this.originX=d.originX),d.originY&&(this.originY=d.originY),this._calcBounds(),this._updateObjectsCoords(),o.Object.prototype.initialize.call(this,d),this.setCoords()},toGroup:function(){var u=this._objects.concat();this._objects=[];var d=o.Object.prototype.toObject.call(this),l=new o.Group([]);if(delete d.type,l.set(d),u.forEach(function(f){f.canvas.remove(f),f.group=l}),l._objects=u,!this.canvas)return l;var c=this.canvas;return c.add(l),c._activeObject=l,l.setCoords(),l},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(u,d,l){u.save(),u.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",u,d),l=l||{},typeof l.hasControls>"u"&&(l.hasControls=!1),l.forActiveSelection=!0;for(var c=0,f=this._objects.length;c<f;c++)this._objects[c]._renderControls(u,l);u.restore()}}),o.ActiveSelection.fromObject=function(u,d){o.util.enlivenObjects(u.objects,function(l){delete u.objects,d&&d(new o.ActiveSelection(l,u,!0))})})}(e),function(a){var o=t.util.object.extend;if(a.fabric||(a.fabric={}),a.fabric.Image){t.warn("fabric.Image is already defined.");return}t.Image=t.util.createClass(t.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:t.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:t.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(u,d){d||(d={}),this.filters=[],this.cacheKey="texture"+t.Object.__uid++,this.callSuper("initialize",d),this._initElement(u,d)},getElement:function(){return this._element||{}},setElement:function(u,d){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=u,this._originalElement=u,this._initConfig(d),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(u){var d=t.filterBackend;d&&d.evictCachesForKey&&d.evictCachesForKey(u)},dispose:function(){this.callSuper("dispose"),this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach((function(u){t.util.cleanUpJsdomNode(this[u]),this[u]=void 0}).bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var u=this.getElement();return{width:u.naturalWidth||u.width,height:u.naturalHeight||u.height}},_stroke:function(u){if(!(!this.stroke||this.strokeWidth===0)){var d=this.width/2,l=this.height/2;u.beginPath(),u.moveTo(-d,-l),u.lineTo(d,-l),u.lineTo(d,l),u.lineTo(-d,l),u.lineTo(-d,-l),u.closePath()}},toObject:function(u){var d=[];this.filters.forEach(function(c){c&&d.push(c.toObject())});var l=o(this.callSuper("toObject",["cropX","cropY"].concat(u)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:d});return this.resizeFilter&&(l.resizeFilter=this.resizeFilter.toObject()),l},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var u=[],d=[],l,c=this._element,f=-this.width/2,p=-this.height/2,m="",g="";if(!c)return[];if(this.hasCrop()){var v=t.Object.__uid++;u.push('<clipPath id="imageCrop_'+v+`">
`,'	<rect x="'+f+'" y="'+p+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),m=' clip-path="url(#imageCrop_'+v+')" '}if(this.imageSmoothing||(g='" image-rendering="optimizeSpeed'),d.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',f-this.cropX,'" y="',p-this.cropY,'" width="',c.width||c.naturalWidth,'" height="',c.height||c.height,g,'"',m,`></image>
`),this.stroke||this.strokeDashArray){var y=this.fill;this.fill=null,l=["	<rect ",'x="',f,'" y="',p,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=y}return this.paintFirst!=="fill"?u=u.concat(l,d):u=u.concat(d,l),u},getSrc:function(u){var d=u?this._element:this._originalElement;return d?d.toDataURL?d.toDataURL():this.srcFromAttribute?d.getAttribute("src"):d.src:this.src||""},setSrc:function(u,d,l){return t.util.loadImage(u,function(c,f){this.setElement(c,l),this._setWidthHeight(),d&&d(this,f)},this,l&&l.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var u=this.resizeFilter,d=this.minimumScaleTrigger,l=this.getTotalObjectScaling(),c=l.scaleX,f=l.scaleY,p=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!u||c>d&&f>d){this._element=p,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=c,this._lastScaleY=f;return}t.filterBackend||(t.filterBackend=t.initFilterBackend());var m=t.util.createCanvasElement(),g=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,v=p.width,y=p.height;m.width=v,m.height=y,this._element=m,this._lastScaleX=u.scaleX=c,this._lastScaleY=u.scaleY=f,t.filterBackend.applyFilters([u],p,v,y,this._element,g),this._filterScalingX=m.width/this._originalElement.width,this._filterScalingY=m.height/this._originalElement.height},applyFilters:function(u){if(u=u||this.filters||[],u=u.filter(function(p){return p&&!p.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),u.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var d=this._originalElement,l=d.naturalWidth||d.width,c=d.naturalHeight||d.height;if(this._element===this._originalElement){var f=t.util.createCanvasElement();f.width=l,f.height=c,this._element=f,this._filteredEl=f}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,l,c),this._lastScaleX=1,this._lastScaleY=1;return t.filterBackend||(t.filterBackend=t.initFilterBackend()),t.filterBackend.applyFilters(u,this._originalElement,l,c,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(u){t.util.setImageSmoothing(u,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(u),this._renderPaintInOrder(u)},drawCacheOnCanvas:function(u){t.util.setImageSmoothing(u,this.imageSmoothing),t.Object.prototype.drawCacheOnCanvas.call(this,u)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(u){var d=this._element;if(d){var l=this._filterScalingX,c=this._filterScalingY,f=this.width,p=this.height,m=Math.min,g=Math.max,v=g(this.cropX,0),y=g(this.cropY,0),b=d.naturalWidth||d.width,w=d.naturalHeight||d.height,C=v*l,S=y*c,_=m(f*l,b-C),T=m(p*c,w-S),R=-f/2,F=-p/2,$=m(f,b/l-v),G=m(p,w/c-y);d&&u.drawImage(d,C,S,_,T,R,F,$,G)}},_needsResize:function(){var u=this.getTotalObjectScaling();return u.scaleX!==this._lastScaleX||u.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(u,d){this.setElement(t.util.getById(u),d),t.util.addClass(this.getElement(),t.Image.CSS_CANVAS)},_initConfig:function(u){u||(u={}),this.setOptions(u),this._setWidthHeight(u)},_initFilters:function(u,d){u&&u.length?t.util.enlivenObjects(u,function(l){d&&d(l)},"fabric.Image.filters"):d&&d()},_setWidthHeight:function(u){u||(u={});var d=this.getElement();this.width=u.width||d.naturalWidth||d.width||0,this.height=u.height||d.naturalHeight||d.height||0},parsePreserveAspectRatioAttribute:function(){var u=t.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),d=this._element.width,l=this._element.height,c=1,f=1,p=0,m=0,g=0,v=0,y,b=this.width,w=this.height,C={width:b,height:w};return u&&(u.alignX!=="none"||u.alignY!=="none")?(u.meetOrSlice==="meet"&&(c=f=t.util.findScaleToFit(this._element,C),y=(b-d*c)/2,u.alignX==="Min"&&(p=-y),u.alignX==="Max"&&(p=y),y=(w-l*f)/2,u.alignY==="Min"&&(m=-y),u.alignY==="Max"&&(m=y)),u.meetOrSlice==="slice"&&(c=f=t.util.findScaleToCover(this._element,C),y=d-b/c,u.alignX==="Mid"&&(g=y/2),u.alignX==="Max"&&(g=y),y=l-w/f,u.alignY==="Mid"&&(v=y/2),u.alignY==="Max"&&(v=y),d=b/c,l=w/f)):(c=b/d,f=w/l),{width:d,height:l,scaleX:c,scaleY:f,offsetLeft:p,offsetTop:m,cropX:g,cropY:v}}}),t.Image.CSS_CANVAS="canvas-img",t.Image.prototype.getSvgSrc=t.Image.prototype.getSrc,t.Image.fromObject=function(u,d){var l=t.util.object.clone(u);t.util.loadImage(l.src,function(c,f){if(f){d&&d(null,!0);return}t.Image.prototype._initFilters.call(l,l.filters,function(p){l.filters=p||[],t.Image.prototype._initFilters.call(l,[l.resizeFilter],function(m){l.resizeFilter=m[0],t.util.enlivenObjectEnlivables(l,l,function(){var g=new t.Image(c,l);d(g,!1)})})})},null,l.crossOrigin)},t.Image.fromURL=function(u,d,l){t.util.loadImage(u,function(c,f){d&&d(new t.Image(c,l),f)},null,l&&l.crossOrigin)},t.Image.ATTRIBUTE_NAMES=t.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),t.Image.fromElement=function(u,d,l){var c=t.parseAttributes(u,t.Image.ATTRIBUTE_NAMES);t.Image.fromURL(c["xlink:href"],d,o(l?t.util.object.clone(l):{},c))}}(e),t.util.object.extend(t.Object.prototype,{_getAngleValueForStraighten:function(){var a=this.angle%360;return a>0?Math.round((a-1)/90)*90:Math.round(a/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten())},fxStraighten:function(a){a=a||{};var o=function(){},u=a.onComplete||o,d=a.onChange||o,l=this;return t.util.animate({target:this,startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(c){l.rotate(c),d()},onComplete:function(){l.setCoords(),u()}})}}),t.util.object.extend(t.StaticCanvas.prototype,{straightenObject:function(a){return a.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(a){return a.fxStraighten({onChange:this.requestRenderAllBound})}}),function(){function a(u,d){var l="precision "+d+` float;
void main(){}`,c=u.createShader(u.FRAGMENT_SHADER);return u.shaderSource(c,l),u.compileShader(c),!!u.getShaderParameter(c,u.COMPILE_STATUS)}t.isWebglSupported=function(u){if(t.isLikelyNode)return!1;u=u||t.WebglFilterBackend.prototype.tileSize;var d=document.createElement("canvas"),l=d.getContext("webgl")||d.getContext("experimental-webgl"),c=!1;if(l){t.maxTextureSize=l.getParameter(l.MAX_TEXTURE_SIZE),c=t.maxTextureSize>=u;for(var f=["highp","mediump","lowp"],p=0;p<3;p++)if(a(l,f[p])){t.webGlPrecision=f[p];break}}return this.isSupported=c,c},t.WebglFilterBackend=o;function o(u){u&&u.tileSize&&(this.tileSize=u.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}o.prototype={tileSize:2048,resources:{},setupGLContext:function(u,d){this.dispose(),this.createWebGLCanvas(u,d),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(u,d)},chooseFastestCopyGLTo2DMethod:function(u,d){var l=typeof window.performance<"u",c;try{new ImageData(1,1),c=!0}catch{c=!1}var f=typeof ArrayBuffer<"u",p=typeof Uint8ClampedArray<"u";if(l&&c&&f&&p){var m=t.util.createCanvasElement(),g=new ArrayBuffer(u*d*4);if(t.forceGLPutImageData){this.imageBuffer=g,this.copyGLTo2D=h;return}var v={imageBuffer:g,destinationWidth:u,destinationHeight:d,targetCanvas:m},y,b,w;m.width=u,m.height=d,y=window.performance.now(),s.call(v,this.gl,v),b=window.performance.now()-y,y=window.performance.now(),h.call(v,this.gl,v),w=window.performance.now()-y,b>w?(this.imageBuffer=g,this.copyGLTo2D=h):this.copyGLTo2D=s}},createWebGLCanvas:function(u,d){var l=t.util.createCanvasElement();l.width=u,l.height=d;var c={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},f=l.getContext("webgl",c);f||(f=l.getContext("experimental-webgl",c)),f&&(f.clearColor(0,0,0,0),this.canvas=l,this.gl=f)},applyFilters:function(u,d,l,c,f,p){var m=this.gl,g;p&&(g=this.getCachedTexture(p,d));var v={originalWidth:d.width||d.originalWidth,originalHeight:d.height||d.originalHeight,sourceWidth:l,sourceHeight:c,destinationWidth:l,destinationHeight:c,context:m,sourceTexture:this.createTexture(m,l,c,!g&&d),targetTexture:this.createTexture(m,l,c),originalTexture:g||this.createTexture(m,l,c,!g&&d),passes:u.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:f},y=m.createFramebuffer();return m.bindFramebuffer(m.FRAMEBUFFER,y),u.forEach(function(b){b&&b.applyTo(v)}),i(v),this.copyGLTo2D(m,v),m.bindTexture(m.TEXTURE_2D,null),m.deleteTexture(v.sourceTexture),m.deleteTexture(v.targetTexture),m.deleteFramebuffer(y),f.getContext("2d").setTransform(1,0,0,1,0,0),v},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(u,d,l,c,f){var p=u.createTexture();return u.bindTexture(u.TEXTURE_2D,p),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,f||u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,f||u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),c?u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,c):u.texImage2D(u.TEXTURE_2D,0,u.RGBA,d,l,0,u.RGBA,u.UNSIGNED_BYTE,null),p},getCachedTexture:function(u,d){if(this.textureCache[u])return this.textureCache[u];var l=this.createTexture(this.gl,d.width,d.height,d);return this.textureCache[u]=l,l},evictCachesForKey:function(u){this.textureCache[u]&&(this.gl.deleteTexture(this.textureCache[u]),delete this.textureCache[u])},copyGLTo2D:s,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var u=this.gl,d={renderer:"",vendor:""};if(!u)return d;var l=u.getExtension("WEBGL_debug_renderer_info");if(l){var c=u.getParameter(l.UNMASKED_RENDERER_WEBGL),f=u.getParameter(l.UNMASKED_VENDOR_WEBGL);c&&(d.renderer=c.toLowerCase()),f&&(d.vendor=f.toLowerCase())}return this.gpuInfo=d,d}}}();function i(a){var o=a.targetCanvas,u=o.width,d=o.height,l=a.destinationWidth,c=a.destinationHeight;(u!==l||d!==c)&&(o.width=l,o.height=c)}function s(a,o){var u=a.canvas,d=o.targetCanvas,l=d.getContext("2d");l.translate(0,d.height),l.scale(1,-1);var c=u.height-d.height;l.drawImage(u,0,c,d.width,d.height,0,0,d.width,d.height)}function h(a,o){var u=o.targetCanvas,d=u.getContext("2d"),l=o.destinationWidth,c=o.destinationHeight,f=l*c*4,p=new Uint8Array(this.imageBuffer,0,f),m=new Uint8ClampedArray(this.imageBuffer,0,f);a.readPixels(0,0,l,c,a.RGBA,a.UNSIGNED_BYTE,p);var g=new ImageData(m,l,c);d.putImageData(g,0,0)}(function(){var a=function(){};t.Canvas2dFilterBackend=o;function o(){}o.prototype={evictCachesForKey:a,dispose:a,clearWebGLCaches:a,resources:{},applyFilters:function(u,d,l,c,f){var p=f.getContext("2d");p.drawImage(d,0,0,l,c);var m=p.getImageData(0,0,l,c),g=p.getImageData(0,0,l,c),v={sourceWidth:l,sourceHeight:c,imageData:m,originalEl:d,originalImageData:g,canvasEl:f,ctx:p,filterBackend:this};return u.forEach(function(y){y.applyTo(v)}),(v.imageData.width!==l||v.imageData.height!==c)&&(f.width=v.imageData.width,f.height=v.imageData.height),p.putImageData(v.imageData,0,0),v}}})(),t.Image=t.Image||{},t.Image.filters=t.Image.filters||{},t.Image.filters.BaseFilter=t.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(a){a&&this.setOptions(a)},setOptions:function(a){for(var o in a)this[o]=a[o]},createProgram:function(a,o,u){o=o||this.fragmentSource,u=u||this.vertexSource,t.webGlPrecision!=="highp"&&(o=o.replace(/precision highp float/g,"precision "+t.webGlPrecision+" float"));var d=a.createShader(a.VERTEX_SHADER);if(a.shaderSource(d,u),a.compileShader(d),!a.getShaderParameter(d,a.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+a.getShaderInfoLog(d));var l=a.createShader(a.FRAGMENT_SHADER);if(a.shaderSource(l,o),a.compileShader(l),!a.getShaderParameter(l,a.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+a.getShaderInfoLog(l));var c=a.createProgram();if(a.attachShader(c,d),a.attachShader(c,l),a.linkProgram(c),!a.getProgramParameter(c,a.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+a.getProgramInfoLog(c));var f=this.getAttributeLocations(a,c),p=this.getUniformLocations(a,c)||{};return p.uStepW=a.getUniformLocation(c,"uStepW"),p.uStepH=a.getUniformLocation(c,"uStepH"),{program:c,attributeLocations:f,uniformLocations:p}},getAttributeLocations:function(a,o){return{aPosition:a.getAttribLocation(o,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(a,o,u){var d=o.aPosition,l=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,l),a.enableVertexAttribArray(d),a.vertexAttribPointer(d,2,a.FLOAT,!1,0,0),a.bufferData(a.ARRAY_BUFFER,u,a.STATIC_DRAW)},_setupFrameBuffer:function(a){var o=a.context,u,d;a.passes>1?(u=a.destinationWidth,d=a.destinationHeight,(a.sourceWidth!==u||a.sourceHeight!==d)&&(o.deleteTexture(a.targetTexture),a.targetTexture=a.filterBackend.createTexture(o,u,d)),o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,a.targetTexture,0)):(o.bindFramebuffer(o.FRAMEBUFFER,null),o.finish())},_swapTextures:function(a){a.passes--,a.pass++;var o=a.targetTexture;a.targetTexture=a.sourceTexture,a.sourceTexture=o},isNeutralState:function(){var a=this.mainParameter,o=t.Image.filters[this.type].prototype;if(a)if(Array.isArray(o[a])){for(var u=o[a].length;u--;)if(this[a][u]!==o[a][u])return!1;return!0}else return o[a]===this[a];else return!1},applyTo:function(a){a.webgl?(this._setupFrameBuffer(a),this.applyToWebGL(a),this._swapTextures(a)):this.applyTo2d(a)},retrieveShader:function(a){return a.programCache.hasOwnProperty(this.type)||(a.programCache[this.type]=this.createProgram(a.context)),a.programCache[this.type]},applyToWebGL:function(a){var o=a.context,u=this.retrieveShader(a);a.pass===0&&a.originalTexture?o.bindTexture(o.TEXTURE_2D,a.originalTexture):o.bindTexture(o.TEXTURE_2D,a.sourceTexture),o.useProgram(u.program),this.sendAttributeData(o,u.attributeLocations,a.aPosition),o.uniform1f(u.uniformLocations.uStepW,1/a.sourceWidth),o.uniform1f(u.uniformLocations.uStepH,1/a.sourceHeight),this.sendUniformData(o,u.uniformLocations),o.viewport(0,0,a.destinationWidth,a.destinationHeight),o.drawArrays(o.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(a,o,u){a.activeTexture(u),a.bindTexture(a.TEXTURE_2D,o),a.activeTexture(a.TEXTURE0)},unbindAdditionalTexture:function(a,o){a.activeTexture(o),a.bindTexture(a.TEXTURE_2D,null),a.activeTexture(a.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(a){this[this.mainParameter]=a},sendUniformData:function(){},createHelpLayer:function(a){if(!a.helpLayer){var o=document.createElement("canvas");o.width=a.sourceWidth,o.height=a.sourceHeight,a.helpLayer=o}},toObject:function(){var a={type:this.type},o=this.mainParameter;return o&&(a[o]=this[o]),a},toJSON:function(){return this.toObject()}}),t.Image.filters.BaseFilter.fromObject=function(a,o){var u=new t.Image.filters[a.type](a);return o&&o(u),u},function(a){var o=a.fabric||(a.fabric={}),u=o.Image.filters,d=o.util.createClass;u.ColorMatrix=d(u.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(l){this.callSuper("initialize",l),this.matrix=this.matrix.slice(0)},applyTo2d:function(l){var c=l.imageData,f=c.data,p=f.length,m=this.matrix,g,v,y,b,w,C=this.colorsOnly;for(w=0;w<p;w+=4)g=f[w],v=f[w+1],y=f[w+2],C?(f[w]=g*m[0]+v*m[1]+y*m[2]+m[4]*255,f[w+1]=g*m[5]+v*m[6]+y*m[7]+m[9]*255,f[w+2]=g*m[10]+v*m[11]+y*m[12]+m[14]*255):(b=f[w+3],f[w]=g*m[0]+v*m[1]+y*m[2]+b*m[3]+m[4]*255,f[w+1]=g*m[5]+v*m[6]+y*m[7]+b*m[8]+m[9]*255,f[w+2]=g*m[10]+v*m[11]+y*m[12]+b*m[13]+m[14]*255,f[w+3]=g*m[15]+v*m[16]+y*m[17]+b*m[18]+m[19]*255)},getUniformLocations:function(l,c){return{uColorMatrix:l.getUniformLocation(c,"uColorMatrix"),uConstants:l.getUniformLocation(c,"uConstants")}},sendUniformData:function(l,c){var f=this.matrix,p=[f[0],f[1],f[2],f[3],f[5],f[6],f[7],f[8],f[10],f[11],f[12],f[13],f[15],f[16],f[17],f[18]],m=[f[4],f[9],f[14],f[19]];l.uniformMatrix4fv(c.uColorMatrix,!1,p),l.uniform4fv(c.uConstants,m)}}),o.Image.filters.ColorMatrix.fromObject=o.Image.filters.BaseFilter.fromObject}(e),function(a){var o=a.fabric||(a.fabric={}),u=o.Image.filters,d=o.util.createClass;u.Brightness=d(u.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(l){if(this.brightness!==0){var c=l.imageData,f=c.data,p,m=f.length,g=Math.round(this.brightness*255);for(p=0;p<m;p+=4)f[p]=f[p]+g,f[p+1]=f[p+1]+g,f[p+2]=f[p+2]+g}},getUniformLocations:function(l,c){return{uBrightness:l.getUniformLocation(c,"uBrightness")}},sendUniformData:function(l,c){l.uniform1f(c.uBrightness,this.brightness)}}),o.Image.filters.Brightness.fromObject=o.Image.filters.BaseFilter.fromObject}(e),function(a){var o=a.fabric||(a.fabric={}),u=o.util.object.extend,d=o.Image.filters,l=o.util.createClass;d.Convolute=l(d.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(c){var f=Math.sqrt(this.matrix.length),p=this.type+"_"+f+"_"+(this.opaque?1:0),m=this.fragmentSource[p];return c.programCache.hasOwnProperty(p)||(c.programCache[p]=this.createProgram(c.context,m)),c.programCache[p]},applyTo2d:function(c){var f=c.imageData,p=f.data,m=this.matrix,g=Math.round(Math.sqrt(m.length)),v=Math.floor(g/2),y=f.width,b=f.height,w=c.ctx.createImageData(y,b),C=w.data,S=this.opaque?1:0,_,T,R,F,$,G,ne,X,J,re,ie,V,E;for(ie=0;ie<b;ie++)for(re=0;re<y;re++){for($=(ie*y+re)*4,_=0,T=0,R=0,F=0,E=0;E<g;E++)for(V=0;V<g;V++)ne=ie+E-v,G=re+V-v,!(ne<0||ne>=b||G<0||G>=y)&&(X=(ne*y+G)*4,J=m[E*g+V],_+=p[X]*J,T+=p[X+1]*J,R+=p[X+2]*J,S||(F+=p[X+3]*J));C[$]=_,C[$+1]=T,C[$+2]=R,S?C[$+3]=p[$+3]:C[$+3]=F}c.imageData=w},getUniformLocations:function(c,f){return{uMatrix:c.getUniformLocation(f,"uMatrix"),uOpaque:c.getUniformLocation(f,"uOpaque"),uHalfSize:c.getUniformLocation(f,"uHalfSize"),uSize:c.getUniformLocation(f,"uSize")}},sendUniformData:function(c,f){c.uniform1fv(f.uMatrix,this.matrix)},toObject:function(){return u(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),o.Image.filters.Convolute.fromObject=o.Image.filters.BaseFilter.fromObject}(e),function(a){var o=a.fabric||(a.fabric={}),u=o.Image.filters,d=o.util.createClass;u.Grayscale=d(u.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(l){var c=l.imageData,f=c.data,p,m=f.length,g,v=this.mode;for(p=0;p<m;p+=4)v==="average"?g=(f[p]+f[p+1]+f[p+2])/3:v==="lightness"?g=(Math.min(f[p],f[p+1],f[p+2])+Math.max(f[p],f[p+1],f[p+2]))/2:v==="luminosity"&&(g=.21*f[p]+.72*f[p+1]+.07*f[p+2]),f[p]=g,f[p+1]=g,f[p+2]=g},retrieveShader:function(l){var c=this.type+"_"+this.mode;if(!l.programCache.hasOwnProperty(c)){var f=this.fragmentSource[this.mode];l.programCache[c]=this.createProgram(l.context,f)}return l.programCache[c]},getUniformLocations:function(l,c){return{uMode:l.getUniformLocation(c,"uMode")}},sendUniformData:function(l,c){var f=1;l.uniform1i(c.uMode,f)},isNeutralState:function(){return!1}}),o.Image.filters.Grayscale.fromObject=o.Image.filters.BaseFilter.fromObject}(e),function(a){var o=a.fabric||(a.fabric={}),u=o.Image.filters,d=o.util.createClass;u.Invert=d(u.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(l){var c=l.imageData,f=c.data,p,m=f.length;for(p=0;p<m;p+=4)f[p]=255-f[p],f[p+1]=255-f[p+1],f[p+2]=255-f[p+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(l,c){return{uInvert:l.getUniformLocation(c,"uInvert")}},sendUniformData:function(l,c){l.uniform1i(c.uInvert,this.invert)}}),o.Image.filters.Invert.fromObject=o.Image.filters.BaseFilter.fromObject}(e),function(a){var o=a.fabric||(a.fabric={}),u=o.util.object.extend,d=o.Image.filters,l=o.util.createClass;d.Noise=l(d.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(c){if(this.noise!==0){var f=c.imageData,p=f.data,m,g=p.length,v=this.noise,y;for(m=0,g=p.length;m<g;m+=4)y=(.5-Math.random())*v,p[m]+=y,p[m+1]+=y,p[m+2]+=y}},getUniformLocations:function(c,f){return{uNoise:c.getUniformLocation(f,"uNoise"),uSeed:c.getUniformLocation(f,"uSeed")}},sendUniformData:function(c,f){c.uniform1f(f.uNoise,this.noise/255),c.uniform1f(f.uSeed,Math.random())},toObject:function(){return u(this.callSuper("toObject"),{noise:this.noise})}}),o.Image.filters.Noise.fromObject=o.Image.filters.BaseFilter.fromObject}(e),function(a){var o=a.fabric||(a.fabric={}),u=o.Image.filters,d=o.util.createClass;u.Pixelate=d(u.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(l){var c=l.imageData,f=c.data,p=c.height,m=c.width,g,v,y,b,w,C,S,_,T,R,F;for(v=0;v<p;v+=this.blocksize)for(y=0;y<m;y+=this.blocksize)for(g=v*4*m+y*4,b=f[g],w=f[g+1],C=f[g+2],S=f[g+3],R=Math.min(v+this.blocksize,p),F=Math.min(y+this.blocksize,m),_=v;_<R;_++)for(T=y;T<F;T++)g=_*4*m+T*4,f[g]=b,f[g+1]=w,f[g+2]=C,f[g+3]=S},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(l,c){return{uBlocksize:l.getUniformLocation(c,"uBlocksize"),uStepW:l.getUniformLocation(c,"uStepW"),uStepH:l.getUniformLocation(c,"uStepH")}},sendUniformData:function(l,c){l.uniform1f(c.uBlocksize,this.blocksize)}}),o.Image.filters.Pixelate.fromObject=o.Image.filters.BaseFilter.fromObject}(e),function(a){var o=a.fabric||(a.fabric={}),u=o.util.object.extend,d=o.Image.filters,l=o.util.createClass;d.RemoveColor=l(d.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(c){var f=c.imageData,p=f.data,m,g=this.distance*255,v,y,b,w=new o.Color(this.color).getSource(),C=[w[0]-g,w[1]-g,w[2]-g],S=[w[0]+g,w[1]+g,w[2]+g];for(m=0;m<p.length;m+=4)v=p[m],y=p[m+1],b=p[m+2],v>C[0]&&y>C[1]&&b>C[2]&&v<S[0]&&y<S[1]&&b<S[2]&&(p[m+3]=0)},getUniformLocations:function(c,f){return{uLow:c.getUniformLocation(f,"uLow"),uHigh:c.getUniformLocation(f,"uHigh")}},sendUniformData:function(c,f){var p=new o.Color(this.color).getSource(),m=parseFloat(this.distance),g=[0+p[0]/255-m,0+p[1]/255-m,0+p[2]/255-m,1],v=[p[0]/255+m,p[1]/255+m,p[2]/255+m,1];c.uniform4fv(f.uLow,g),c.uniform4fv(f.uHigh,v)},toObject:function(){return u(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),o.Image.filters.RemoveColor.fromObject=o.Image.filters.BaseFilter.fromObject}(e),function(a){var o=a.fabric||(a.fabric={}),u=o.Image.filters,d=o.util.createClass,l={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var c in l)u[c]=d(u.ColorMatrix,{type:c,matrix:l[c],mainParameter:!1,colorsOnly:!0}),o.Image.filters[c].fromObject=o.Image.filters.BaseFilter.fromObject}(e),function(a){var o=a.fabric,u=o.Image.filters,d=o.util.createClass;u.BlendColor=d(u.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(l){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[l]+`}
}`},retrieveShader:function(l){var c=this.type+"_"+this.mode,f;return l.programCache.hasOwnProperty(c)||(f=this.buildSource(this.mode),l.programCache[c]=this.createProgram(l.context,f)),l.programCache[c]},applyTo2d:function(l){var c=l.imageData,f=c.data,p=f.length,m,g,v,y,b,w,C,S=1-this.alpha;C=new o.Color(this.color).getSource(),m=C[0]*this.alpha,g=C[1]*this.alpha,v=C[2]*this.alpha;for(var _=0;_<p;_+=4)switch(y=f[_],b=f[_+1],w=f[_+2],this.mode){case"multiply":f[_]=y*m/255,f[_+1]=b*g/255,f[_+2]=w*v/255;break;case"screen":f[_]=255-(255-y)*(255-m)/255,f[_+1]=255-(255-b)*(255-g)/255,f[_+2]=255-(255-w)*(255-v)/255;break;case"add":f[_]=y+m,f[_+1]=b+g,f[_+2]=w+v;break;case"diff":case"difference":f[_]=Math.abs(y-m),f[_+1]=Math.abs(b-g),f[_+2]=Math.abs(w-v);break;case"subtract":f[_]=y-m,f[_+1]=b-g,f[_+2]=w-v;break;case"darken":f[_]=Math.min(y,m),f[_+1]=Math.min(b,g),f[_+2]=Math.min(w,v);break;case"lighten":f[_]=Math.max(y,m),f[_+1]=Math.max(b,g),f[_+2]=Math.max(w,v);break;case"overlay":f[_]=m<128?2*y*m/255:255-2*(255-y)*(255-m)/255,f[_+1]=g<128?2*b*g/255:255-2*(255-b)*(255-g)/255,f[_+2]=v<128?2*w*v/255:255-2*(255-w)*(255-v)/255;break;case"exclusion":f[_]=m+y-2*m*y/255,f[_+1]=g+b-2*g*b/255,f[_+2]=v+w-2*v*w/255;break;case"tint":f[_]=m+y*S,f[_+1]=g+b*S,f[_+2]=v+w*S}},getUniformLocations:function(l,c){return{uColor:l.getUniformLocation(c,"uColor")}},sendUniformData:function(l,c){var f=new o.Color(this.color).getSource();f[0]=this.alpha*f[0]/255,f[1]=this.alpha*f[1]/255,f[2]=this.alpha*f[2]/255,f[3]=this.alpha,l.uniform4fv(c.uColor,f)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),o.Image.filters.BlendColor.fromObject=o.Image.filters.BaseFilter.fromObject}(e),function(a){var o=a.fabric,u=o.Image.filters,d=o.util.createClass;u.BlendImage=d(u.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(l){var c=this.type+"_"+this.mode,f=this.fragmentSource[this.mode];return l.programCache.hasOwnProperty(c)||(l.programCache[c]=this.createProgram(l.context,f)),l.programCache[c]},applyToWebGL:function(l){var c=l.context,f=this.createTexture(l.filterBackend,this.image);this.bindAdditionalTexture(c,f,c.TEXTURE1),this.callSuper("applyToWebGL",l),this.unbindAdditionalTexture(c,c.TEXTURE1)},createTexture:function(l,c){return l.getCachedTexture(c.cacheKey,c._element)},calculateMatrix:function(){var l=this.image,c=l._element.width,f=l._element.height;return[1/l.scaleX,0,0,0,1/l.scaleY,0,-l.left/c,-l.top/f,1]},applyTo2d:function(l){var c=l.imageData,f=l.filterBackend.resources,p=c.data,m=p.length,g=c.width,v=c.height,y,b,w,C,S,_,T,R,F,$,G=this.image,ne;f.blendImage||(f.blendImage=o.util.createCanvasElement()),F=f.blendImage,$=F.getContext("2d"),F.width!==g||F.height!==v?(F.width=g,F.height=v):$.clearRect(0,0,g,v),$.setTransform(G.scaleX,0,0,G.scaleY,G.left,G.top),$.drawImage(G._element,0,0,g,v),ne=$.getImageData(0,0,g,v).data;for(var X=0;X<m;X+=4)switch(S=p[X],_=p[X+1],T=p[X+2],R=p[X+3],y=ne[X],b=ne[X+1],w=ne[X+2],C=ne[X+3],this.mode){case"multiply":p[X]=S*y/255,p[X+1]=_*b/255,p[X+2]=T*w/255,p[X+3]=R*C/255;break;case"mask":p[X+3]=C;break}},getUniformLocations:function(l,c){return{uTransformMatrix:l.getUniformLocation(c,"uTransformMatrix"),uImage:l.getUniformLocation(c,"uImage")}},sendUniformData:function(l,c){var f=this.calculateMatrix();l.uniform1i(c.uImage,1),l.uniformMatrix3fv(c.uTransformMatrix,!1,f)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),o.Image.filters.BlendImage.fromObject=function(l,c){o.Image.fromObject(l.image,function(f){var p=o.util.object.clone(l);p.image=f,c(new o.Image.filters.BlendImage(p))})}}(e),function(a){var o=a.fabric||(a.fabric={}),u=Math.pow,d=Math.floor,l=Math.sqrt,c=Math.abs,f=Math.round,p=Math.sin,m=Math.ceil,g=o.Image.filters,v=o.util.createClass;g.Resize=v(g.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(y,b){return{uDelta:y.getUniformLocation(b,"uDelta"),uTaps:y.getUniformLocation(b,"uTaps")}},sendUniformData:function(y,b){y.uniform2fv(b.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),y.uniform1fv(b.uTaps,this.taps)},retrieveShader:function(y){var b=this.getFilterWindow(),w=this.type+"_"+b;if(!y.programCache.hasOwnProperty(w)){var C=this.generateShader(b);y.programCache[w]=this.createProgram(y.context,C)}return y.programCache[w]},getFilterWindow:function(){var y=this.tempScale;return Math.ceil(this.lanczosLobes/y)},getTaps:function(){for(var y=this.lanczosCreate(this.lanczosLobes),b=this.tempScale,w=this.getFilterWindow(),C=new Array(w),S=1;S<=w;S++)C[S-1]=y(S*b);return C},generateShader:function(C){for(var b=new Array(C),w=this.fragmentSourceTOP,C,S=1;S<=C;S++)b[S-1]=S+".0 * uDelta";return w+="uniform float uTaps["+C+`];
`,w+=`void main() {
`,w+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,w+=`  float sum = 1.0;
`,b.forEach(function(_,T){w+="  color += texture2D(uTexture, vTexCoord + "+_+") * uTaps["+T+`];
`,w+="  color += texture2D(uTexture, vTexCoord - "+_+") * uTaps["+T+`];
`,w+="  sum += 2.0 * uTaps["+T+`];
`}),w+=`  gl_FragColor = color / sum;
`,w+="}",w},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(y){y.webgl?(y.passes++,this.width=y.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=y.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),y.destinationWidth=this.dW,this._setupFrameBuffer(y),this.applyToWebGL(y),this._swapTextures(y),y.sourceWidth=y.destinationWidth,this.height=y.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),y.destinationHeight=this.dH,this._setupFrameBuffer(y),this.applyToWebGL(y),this._swapTextures(y),y.sourceHeight=y.destinationHeight):this.applyTo2d(y)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(y){return function(b){if(b>=y||b<=-y)return 0;if(b<11920929e-14&&b>-11920929e-14)return 1;b*=Math.PI;var w=b/y;return p(b)/b*p(w)/w}},applyTo2d:function(y){var b=y.imageData,w=this.scaleX,C=this.scaleY;this.rcpScaleX=1/w,this.rcpScaleY=1/C;var S=b.width,_=b.height,T=f(S*w),R=f(_*C),F;this.resizeType==="sliceHack"?F=this.sliceByTwo(y,S,_,T,R):this.resizeType==="hermite"?F=this.hermiteFastResize(y,S,_,T,R):this.resizeType==="bilinear"?F=this.bilinearFiltering(y,S,_,T,R):this.resizeType==="lanczos"&&(F=this.lanczosResize(y,S,_,T,R)),y.imageData=F},sliceByTwo:function(y,b,w,C,S){var _=y.imageData,T=.5,R=!1,F=!1,$=b*T,G=w*T,ne=o.filterBackend.resources,X,J,re=0,ie=0,V=b,E=0;for(ne.sliceByTwo||(ne.sliceByTwo=document.createElement("canvas")),X=ne.sliceByTwo,(X.width<b*1.5||X.height<w)&&(X.width=b*1.5,X.height=w),J=X.getContext("2d"),J.clearRect(0,0,b*1.5,w),J.putImageData(_,0,0),C=d(C),S=d(S);!R||!F;)b=$,w=G,C<d($*T)?$=d($*T):($=C,R=!0),S<d(G*T)?G=d(G*T):(G=S,F=!0),J.drawImage(X,re,ie,b,w,V,E,$,G),re=V,ie=E,E+=G;return J.getImageData(re,ie,C,S)},lanczosResize:function(y,b,w,C,S){function _(A){var j,H,M,O,I,B,W,U,ee,se,fe;for(E.x=(A+.5)*G,P.x=d(E.x),j=0;j<S;j++){for(E.y=(j+.5)*ne,P.y=d(E.y),I=0,B=0,W=0,U=0,ee=0,H=P.x-re;H<=P.x+re;H++)if(!(H<0||H>=b)){se=d(1e3*c(H-E.x)),V[se]||(V[se]={});for(var Y=P.y-ie;Y<=P.y+ie;Y++)Y<0||Y>=w||(fe=d(1e3*c(Y-E.y)),V[se][fe]||(V[se][fe]=$(l(u(se*X,2)+u(fe*J,2))/1e3)),M=V[se][fe],M>0&&(O=(Y*b+H)*4,I+=M,B+=M*T[O],W+=M*T[O+1],U+=M*T[O+2],ee+=M*T[O+3]))}O=(j*C+A)*4,F[O]=B/I,F[O+1]=W/I,F[O+2]=U/I,F[O+3]=ee/I}return++A<C?_(A):R}var T=y.imageData.data,R=y.ctx.createImageData(C,S),F=R.data,$=this.lanczosCreate(this.lanczosLobes),G=this.rcpScaleX,ne=this.rcpScaleY,X=2/this.rcpScaleX,J=2/this.rcpScaleY,re=m(G*this.lanczosLobes/2),ie=m(ne*this.lanczosLobes/2),V={},E={},P={};return _(0)},bilinearFiltering:function(y,b,w,C,S){var _,T,R,F,$,G,ne,X,J,re,ie,V,E=0,P,A=this.rcpScaleX,j=this.rcpScaleY,H=4*(b-1),M=y.imageData,O=M.data,I=y.ctx.createImageData(C,S),B=I.data;for(ne=0;ne<S;ne++)for(X=0;X<C;X++)for($=d(A*X),G=d(j*ne),J=A*X-$,re=j*ne-G,P=4*(G*b+$),ie=0;ie<4;ie++)_=O[P+ie],T=O[P+4+ie],R=O[P+H+ie],F=O[P+H+4+ie],V=_*(1-J)*(1-re)+T*J*(1-re)+R*re*(1-J)+F*J*re,B[E++]=V;return I},hermiteFastResize:function(y,b,w,C,S){for(var _=this.rcpScaleX,T=this.rcpScaleY,R=m(_/2),F=m(T/2),$=y.imageData,G=$.data,ne=y.ctx.createImageData(C,S),X=ne.data,J=0;J<S;J++)for(var re=0;re<C;re++){for(var ie=(re+J*C)*4,V=0,E=0,P=0,A=0,j=0,H=0,M=0,O=(J+.5)*T,I=d(J*T);I<(J+1)*T;I++)for(var B=c(O-(I+.5))/F,W=(re+.5)*_,U=B*B,ee=d(re*_);ee<(re+1)*_;ee++){var se=c(W-(ee+.5))/R,fe=l(U+se*se);fe>1&&fe<-1||(V=2*fe*fe*fe-3*fe*fe+1,V>0&&(se=4*(ee+I*b),M+=V*G[se+3],P+=V,G[se+3]<255&&(V=V*G[se+3]/250),A+=V*G[se],j+=V*G[se+1],H+=V*G[se+2],E+=V))}X[ie]=A/E,X[ie+1]=j/E,X[ie+2]=H/E,X[ie+3]=M/P}return ne},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),o.Image.filters.Resize.fromObject=o.Image.filters.BaseFilter.fromObject}(e),function(a){var o=a.fabric||(a.fabric={}),u=o.Image.filters,d=o.util.createClass;u.Contrast=d(u.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(l){if(this.contrast!==0){var c=l.imageData,f,m,p=c.data,m=p.length,g=Math.floor(this.contrast*255),v=259*(g+255)/(255*(259-g));for(f=0;f<m;f+=4)p[f]=v*(p[f]-128)+128,p[f+1]=v*(p[f+1]-128)+128,p[f+2]=v*(p[f+2]-128)+128}},getUniformLocations:function(l,c){return{uContrast:l.getUniformLocation(c,"uContrast")}},sendUniformData:function(l,c){l.uniform1f(c.uContrast,this.contrast)}}),o.Image.filters.Contrast.fromObject=o.Image.filters.BaseFilter.fromObject}(e),function(a){var o=a.fabric||(a.fabric={}),u=o.Image.filters,d=o.util.createClass;u.Saturation=d(u.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(l){if(this.saturation!==0){var c=l.imageData,f=c.data,p=f.length,m=-this.saturation,g,v;for(g=0;g<p;g+=4)v=Math.max(f[g],f[g+1],f[g+2]),f[g]+=v!==f[g]?(v-f[g])*m:0,f[g+1]+=v!==f[g+1]?(v-f[g+1])*m:0,f[g+2]+=v!==f[g+2]?(v-f[g+2])*m:0}},getUniformLocations:function(l,c){return{uSaturation:l.getUniformLocation(c,"uSaturation")}},sendUniformData:function(l,c){l.uniform1f(c.uSaturation,-this.saturation)}}),o.Image.filters.Saturation.fromObject=o.Image.filters.BaseFilter.fromObject}(e),function(a){var o=a.fabric||(a.fabric={}),u=o.Image.filters,d=o.util.createClass;u.Vibrance=d(u.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(l){if(this.vibrance!==0){var c=l.imageData,f=c.data,p=f.length,m=-this.vibrance,g,v,y,b;for(g=0;g<p;g+=4)v=Math.max(f[g],f[g+1],f[g+2]),y=(f[g]+f[g+1]+f[g+2])/3,b=Math.abs(v-y)*2/255*m,f[g]+=v!==f[g]?(v-f[g])*b:0,f[g+1]+=v!==f[g+1]?(v-f[g+1])*b:0,f[g+2]+=v!==f[g+2]?(v-f[g+2])*b:0}},getUniformLocations:function(l,c){return{uVibrance:l.getUniformLocation(c,"uVibrance")}},sendUniformData:function(l,c){l.uniform1f(c.uVibrance,-this.vibrance)}}),o.Image.filters.Vibrance.fromObject=o.Image.filters.BaseFilter.fromObject}(e),function(a){var o=a.fabric||(a.fabric={}),u=o.Image.filters,d=o.util.createClass;u.Blur=d(u.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(l){l.webgl?(this.aspectRatio=l.sourceWidth/l.sourceHeight,l.passes++,this._setupFrameBuffer(l),this.horizontal=!0,this.applyToWebGL(l),this._swapTextures(l),this._setupFrameBuffer(l),this.horizontal=!1,this.applyToWebGL(l),this._swapTextures(l)):this.applyTo2d(l)},applyTo2d:function(l){l.imageData=this.simpleBlur(l)},simpleBlur:function(l){var c=l.filterBackend.resources,f,p,m=l.imageData.width,g=l.imageData.height;c.blurLayer1||(c.blurLayer1=o.util.createCanvasElement(),c.blurLayer2=o.util.createCanvasElement()),f=c.blurLayer1,p=c.blurLayer2,(f.width!==m||f.height!==g)&&(p.width=f.width=m,p.height=f.height=g);var v=f.getContext("2d"),y=p.getContext("2d"),b=15,w,C,S,_,T=this.blur*.06*.5;for(v.putImageData(l.imageData,0,0),y.clearRect(0,0,m,g),_=-b;_<=b;_++)w=(Math.random()-.5)/4,C=_/b,S=T*C*m+w,y.globalAlpha=1-Math.abs(C),y.drawImage(f,S,w),v.drawImage(p,0,0),y.globalAlpha=1,y.clearRect(0,0,p.width,p.height);for(_=-b;_<=b;_++)w=(Math.random()-.5)/4,C=_/b,S=T*C*g+w,y.globalAlpha=1-Math.abs(C),y.drawImage(f,w,S),v.drawImage(p,0,0),y.globalAlpha=1,y.clearRect(0,0,p.width,p.height);l.ctx.drawImage(f,0,0);var R=l.ctx.getImageData(0,0,f.width,f.height);return v.globalAlpha=1,v.clearRect(0,0,f.width,f.height),R},getUniformLocations:function(l,c){return{delta:l.getUniformLocation(c,"uDelta")}},sendUniformData:function(l,c){var f=this.chooseRightDelta();l.uniform2fv(c.delta,f)},chooseRightDelta:function(){var l=1,c=[0,0],f;return this.horizontal?this.aspectRatio>1&&(l=1/this.aspectRatio):this.aspectRatio<1&&(l=this.aspectRatio),f=l*this.blur*.12,this.horizontal?c[0]=f:c[1]=f,c}}),u.Blur.fromObject=o.Image.filters.BaseFilter.fromObject}(e),function(a){var o=a.fabric||(a.fabric={}),u=o.Image.filters,d=o.util.createClass;u.Gamma=d(u.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(l){this.gamma=[1,1,1],u.BaseFilter.prototype.initialize.call(this,l)},applyTo2d:function(l){var c=l.imageData,f=c.data,p=this.gamma,m=f.length,g=1/p[0],v=1/p[1],y=1/p[2],b;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),b=0,m=256;b<m;b++)this.rVals[b]=Math.pow(b/255,g)*255,this.gVals[b]=Math.pow(b/255,v)*255,this.bVals[b]=Math.pow(b/255,y)*255;for(b=0,m=f.length;b<m;b+=4)f[b]=this.rVals[f[b]],f[b+1]=this.gVals[f[b+1]],f[b+2]=this.bVals[f[b+2]]},getUniformLocations:function(l,c){return{uGamma:l.getUniformLocation(c,"uGamma")}},sendUniformData:function(l,c){l.uniform3fv(c.uGamma,this.gamma)}}),o.Image.filters.Gamma.fromObject=o.Image.filters.BaseFilter.fromObject}(e),function(a){var o=a.fabric||(a.fabric={}),u=o.Image.filters,d=o.util.createClass;u.Composed=d(u.BaseFilter,{type:"Composed",subFilters:[],initialize:function(l){this.callSuper("initialize",l),this.subFilters=this.subFilters.slice(0)},applyTo:function(l){l.passes+=this.subFilters.length-1,this.subFilters.forEach(function(c){c.applyTo(l)})},toObject:function(){return o.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(l){return l.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(l){return!l.isNeutralState()})}}),o.Image.filters.Composed.fromObject=function(l,c){var f=l.subFilters||[],p=f.map(function(g){return new o.Image.filters[g.type](g)}),m=new o.Image.filters.Composed({subFilters:p});return c&&c(m),m}}(e),function(a){var o=a.fabric||(a.fabric={}),u=o.Image.filters,d=o.util.createClass;u.HueRotation=d(u.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var l=this.rotation*Math.PI,c=o.util.cos(l),f=o.util.sin(l),p=1/3,m=Math.sqrt(p)*f,g=1-c;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=c+g/3,this.matrix[1]=p*g-m,this.matrix[2]=p*g+m,this.matrix[5]=p*g+m,this.matrix[6]=c+p*g,this.matrix[7]=p*g-m,this.matrix[10]=p*g-m,this.matrix[11]=p*g+m,this.matrix[12]=c+p*g},isNeutralState:function(l){return this.calculateMatrix(),u.BaseFilter.prototype.isNeutralState.call(this,l)},applyTo:function(l){this.calculateMatrix(),u.BaseFilter.prototype.applyTo.call(this,l)}}),o.Image.filters.HueRotation.fromObject=o.Image.filters.BaseFilter.fromObject}(e),function(a){var o=a.fabric||(a.fabric={}),u=o.util.object.clone;if(o.Text){o.warn("fabric.Text is already defined");return}var d="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide pathAlign".split(" ");o.Text=o.util.createClass(o.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide","pathAlign"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:o.Object.prototype.stateProperties.concat(d),cacheProperties:o.Object.prototype.cacheProperties.concat(d),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",pathAlign:"baseline",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(l,c){this.styles=c?c.styles||{}:{},this.text=l,this.__skipDimension=!0,this.callSuper("initialize",c),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var l=this.path;l&&(l.segmentsInfo=o.util.getPathSegmentsInfo(l.path))},getMeasuringContext:function(){return o._measuringContext||(o._measuringContext=this.canvas&&this.canvas.contextCache||o.util.createCanvasElement().getContext("2d")),o._measuringContext},_splitText:function(){var l=this._splitTextIntoLines(this.text);return this.textLines=l.lines,this._textLines=l.graphemeLines,this._unwrappedTextLines=l._unwrappedLines,this._text=l.graphemeText,l},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var l,c,f,p,m,g,v,y=0,b=this._textLines.length;y<b;y++)if(!(this.textAlign!=="justify"&&(y===b-1||this.isEndOfWrapping(y)))&&(p=0,m=this._textLines[y],c=this.getLineWidth(y),c<this.width&&(v=this.textLines[y].match(this._reSpacesAndTabs)))){f=v.length,l=(this.width-c)/f;for(var w=0,C=m.length;w<=C;w++)g=this.__charBounds[y][w],this._reSpaceAndTab.test(m[w])?(g.width+=l,g.kernedWidth+=l,g.left+=p,p+=l):g.left+=p}},isEndOfWrapping:function(l){return l===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var l=this.callSuper("_getCacheCanvasDimensions"),c=this.fontSize;return l.width+=c*l.zoomX,l.height+=c*l.zoomY,l},_render:function(l){var c=this.path;c&&!c.isNotVisible()&&c._render(l),this._setTextStyles(l),this._renderTextLinesBackground(l),this._renderTextDecoration(l,"underline"),this._renderText(l),this._renderTextDecoration(l,"overline"),this._renderTextDecoration(l,"linethrough")},_renderText:function(l){this.paintFirst==="stroke"?(this._renderTextStroke(l),this._renderTextFill(l)):(this._renderTextFill(l),this._renderTextStroke(l))},_setTextStyles:function(l,c,f){if(l.textBaseline="alphabetical",this.path)switch(this.pathAlign){case"center":l.textBaseline="middle";break;case"ascender":l.textBaseline="top";break;case"descender":l.textBaseline="bottom";break}l.font=this._getFontDeclaration(c,f)},calcTextWidth:function(){for(var l=this.getLineWidth(0),c=1,f=this._textLines.length;c<f;c++){var p=this.getLineWidth(c);p>l&&(l=p)}return l},_renderTextLine:function(l,c,f,p,m,g){this._renderChars(l,c,f,p,m,g)},_renderTextLinesBackground:function(l){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var c,f,p=l.fillStyle,m,g,v=this._getLeftOffset(),y=this._getTopOffset(),b=0,w=0,C,S,_=this.path,T,R=0,F=this._textLines.length;R<F;R++){if(c=this.getHeightOfLine(R),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",R)){y+=c;continue}m=this._textLines[R],f=this._getLineLeftOffset(R),w=0,b=0,g=this.getValueOfPropertyAt(R,0,"textBackgroundColor");for(var $=0,G=m.length;$<G;$++)C=this.__charBounds[R][$],S=this.getValueOfPropertyAt(R,$,"textBackgroundColor"),_?(l.save(),l.translate(C.renderLeft,C.renderTop),l.rotate(C.angle),l.fillStyle=S,S&&l.fillRect(-C.width/2,-c/this.lineHeight*(1-this._fontSizeFraction),C.width,c/this.lineHeight),l.restore()):S!==g?(T=v+f+b,this.direction==="rtl"&&(T=this.width-T-w),l.fillStyle=g,g&&l.fillRect(T,y,w,c/this.lineHeight),b=C.left,w=C.width,g=S):w+=C.kernedWidth;S&&!_&&(T=v+f+b,this.direction==="rtl"&&(T=this.width-T-w),l.fillStyle=S,l.fillRect(T,y,w,c/this.lineHeight)),y+=c}l.fillStyle=p,this._removeShadow(l)}},getFontCache:function(l){var c=l.fontFamily.toLowerCase();o.charWidthsCache[c]||(o.charWidthsCache[c]={});var f=o.charWidthsCache[c],p=l.fontStyle.toLowerCase()+"_"+(l.fontWeight+"").toLowerCase();return f[p]||(f[p]={}),f[p]},_measureChar:function(l,c,f,p){var m=this.getFontCache(c),g=this._getFontDeclaration(c),v=this._getFontDeclaration(p),y=f+l,b=g===v,w,C,S,_=c.fontSize/this.CACHE_FONT_SIZE,T;if(f&&m[f]!==void 0&&(S=m[f]),m[l]!==void 0&&(T=w=m[l]),b&&m[y]!==void 0&&(C=m[y],T=C-S),w===void 0||S===void 0||C===void 0){var R=this.getMeasuringContext();this._setTextStyles(R,c,!0)}return w===void 0&&(T=w=R.measureText(l).width,m[l]=w),S===void 0&&b&&f&&(S=R.measureText(f).width,m[f]=S),b&&C===void 0&&(C=R.measureText(y).width,m[y]=C,T=C-S),{width:w*_,kernedWidth:T*_}},getHeightOfChar:function(l,c){return this.getValueOfPropertyAt(l,c,"fontSize")},measureLine:function(l){var c=this._measureLine(l);return this.charSpacing!==0&&(c.width-=this._getWidthOfCharSpacing()),c.width<0&&(c.width=0),c},_measureLine:function(l){var c=0,f,p,m=this._textLines[l],g,v,y=0,b=new Array(m.length),w=0,C,S,_=this.path,T=this.pathSide==="right";for(this.__charBounds[l]=b,f=0;f<m.length;f++)p=m[f],v=this._getGraphemeBox(p,l,f,g),b[f]=v,c+=v.kernedWidth,g=p;if(b[f]={left:v?v.left+v.width:0,width:0,kernedWidth:0,height:this.fontSize},_){switch(S=_.segmentsInfo[_.segmentsInfo.length-1].length,C=o.util.getPointOnPath(_.path,0,_.segmentsInfo),C.x+=_.pathOffset.x,C.y+=_.pathOffset.y,this.textAlign){case"left":w=T?S-c:0;break;case"center":w=(S-c)/2;break;case"right":w=T?0:S-c;break}for(w+=this.pathStartOffset*(T?-1:1),f=T?m.length-1:0;T?f>=0:f<m.length;T?f--:f++)v=b[f],w>S?w%=S:w<0&&(w+=S),this._setGraphemeOnPath(w,v,C),w+=v.kernedWidth}return{width:c,numOfSpaces:y}},_setGraphemeOnPath:function(l,c,f){var p=l+c.kernedWidth/2,m=this.path,g=o.util.getPointOnPath(m.path,p,m.segmentsInfo);c.renderLeft=g.x-f.x,c.renderTop=g.y-f.y,c.angle=g.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(l,c,f,p,m){var g=this.getCompleteStyleDeclaration(c,f),v=p?this.getCompleteStyleDeclaration(c,f-1):{},y=this._measureChar(l,g,p,v),b=y.kernedWidth,w=y.width,C;this.charSpacing!==0&&(C=this._getWidthOfCharSpacing(),w+=C,b+=C);var S={width:w,left:0,height:g.fontSize,kernedWidth:b,deltaY:g.deltaY};if(f>0&&!m){var _=this.__charBounds[c][f-1];S.left=_.left+_.width+y.kernedWidth-y.width}return S},getHeightOfLine:function(l){if(this.__lineHeights[l])return this.__lineHeights[l];for(var c=this._textLines[l],f=this.getHeightOfChar(l,0),p=1,m=c.length;p<m;p++)f=Math.max(this.getHeightOfChar(l,p),f);return this.__lineHeights[l]=f*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var l,c=0,f=0,p=this._textLines.length;f<p;f++)l=this.getHeightOfLine(f),c+=f===p-1?l/this.lineHeight:l;return c},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(l,c){l.save();for(var f=0,p=this._getLeftOffset(),m=this._getTopOffset(),g=0,v=this._textLines.length;g<v;g++){var y=this.getHeightOfLine(g),b=y/this.lineHeight,w=this._getLineLeftOffset(g);this._renderTextLine(c,l,this._textLines[g],p+w,m+f+b,g),f+=y}l.restore()},_renderTextFill:function(l){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(l,"fillText")},_renderTextStroke:function(l){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(l),l.save(),this._setLineDash(l,this.strokeDashArray),l.beginPath(),this._renderTextCommon(l,"strokeText"),l.closePath(),l.restore())},_renderChars:function(l,c,f,p,m,g){var v=this.getHeightOfLine(g),y=this.textAlign.indexOf("justify")!==-1,b,w,C="",S,_=0,T,R=this.path,F=!y&&this.charSpacing===0&&this.isEmptyStyles(g)&&!R,$=this.direction==="ltr",G=this.direction==="ltr"?1:-1,ne,X=c.canvas.getAttribute("dir");if(c.save(),X!==this.direction&&(c.canvas.setAttribute("dir",$?"ltr":"rtl"),c.direction=$?"ltr":"rtl",c.textAlign=$?"left":"right"),m-=v*this._fontSizeFraction/this.lineHeight,F){this._renderChar(l,c,g,0,f.join(""),p,m,v),c.restore();return}for(var J=0,re=f.length-1;J<=re;J++)T=J===re||this.charSpacing||R,C+=f[J],S=this.__charBounds[g][J],_===0?(p+=G*(S.kernedWidth-S.width),_+=S.width):_+=S.kernedWidth,y&&!T&&this._reSpaceAndTab.test(f[J])&&(T=!0),T||(b=b||this.getCompleteStyleDeclaration(g,J),w=this.getCompleteStyleDeclaration(g,J+1),T=o.util.hasStyleChanged(b,w,!1)),T&&(R?(c.save(),c.translate(S.renderLeft,S.renderTop),c.rotate(S.angle),this._renderChar(l,c,g,J,C,-_/2,0,v),c.restore()):(ne=p,this._renderChar(l,c,g,J,C,ne,m,v)),C="",b=w,p+=G*_,_=0);c.restore()},_applyPatternGradientTransformText:function(l){var c=o.util.createCanvasElement(),f,p=this.width+this.strokeWidth,m=this.height+this.strokeWidth;return c.width=p,c.height=m,f=c.getContext("2d"),f.beginPath(),f.moveTo(0,0),f.lineTo(p,0),f.lineTo(p,m),f.lineTo(0,m),f.closePath(),f.translate(p/2,m/2),f.fillStyle=l.toLive(f),this._applyPatternGradientTransform(f,l),f.fill(),f.createPattern(c,"no-repeat")},handleFiller:function(l,c,f){var p,m;return f.toLive?f.gradientUnits==="percentage"||f.gradientTransform||f.patternTransform?(p=-this.width/2,m=-this.height/2,l.translate(p,m),l[c]=this._applyPatternGradientTransformText(f),{offsetX:p,offsetY:m}):(l[c]=f.toLive(l,this),this._applyPatternGradientTransform(l,f)):(l[c]=f,{offsetX:0,offsetY:0})},_setStrokeStyles:function(l,c){return l.lineWidth=c.strokeWidth,l.lineCap=this.strokeLineCap,l.lineDashOffset=this.strokeDashOffset,l.lineJoin=this.strokeLineJoin,l.miterLimit=this.strokeMiterLimit,this.handleFiller(l,"strokeStyle",c.stroke)},_setFillStyles:function(l,c){return this.handleFiller(l,"fillStyle",c.fill)},_renderChar:function(l,c,f,p,m,g,v){var y=this._getStyleDeclaration(f,p),b=this.getCompleteStyleDeclaration(f,p),w=l==="fillText"&&b.fill,C=l==="strokeText"&&b.stroke&&b.strokeWidth,S,_;!C&&!w||(c.save(),w&&(S=this._setFillStyles(c,b)),C&&(_=this._setStrokeStyles(c,b)),c.font=this._getFontDeclaration(b),y&&y.textBackgroundColor&&this._removeShadow(c),y&&y.deltaY&&(v+=y.deltaY),w&&c.fillText(m,g-S.offsetX,v-S.offsetY),C&&c.strokeText(m,g-_.offsetX,v-_.offsetY),c.restore())},setSuperscript:function(l,c){return this._setScript(l,c,this.superscript)},setSubscript:function(l,c){return this._setScript(l,c,this.subscript)},_setScript:function(l,c,f){var p=this.get2DCursorLocation(l,!0),m=this.getValueOfPropertyAt(p.lineIndex,p.charIndex,"fontSize"),g=this.getValueOfPropertyAt(p.lineIndex,p.charIndex,"deltaY"),v={fontSize:m*f.size,deltaY:g+m*f.baseline};return this.setSelectionStyles(v,l,c),this},_getLineLeftOffset:function(l){var c=this.getLineWidth(l),f=this.width-c,p=this.textAlign,m=this.direction,v,g=0,v=this.isEndOfWrapping(l);return p==="justify"||p==="justify-center"&&!v||p==="justify-right"&&!v||p==="justify-left"&&!v?0:(p==="center"&&(g=f/2),p==="right"&&(g=f),p==="justify-center"&&(g=f/2),p==="justify-right"&&(g=f),m==="rtl"&&(g-=f),g)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var l=this._forceClearCache;return l||(l=this.hasStateChanged("_dimensionAffectingProps")),l&&(this.dirty=!0,this._forceClearCache=!1),l},getLineWidth:function(l){if(this.__lineWidths[l]!==void 0)return this.__lineWidths[l];var c=this.measureLine(l),f=c.width;return this.__lineWidths[l]=f,f},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(l,c,f){var p=this._getStyleDeclaration(l,c);return p&&typeof p[f]<"u"?p[f]:this[f]},_renderTextDecoration:function(l,c){if(!(!this[c]&&!this.styleHas(c))){for(var f,p,m,g,v,y,b,w,C=this._getLeftOffset(),S=this._getTopOffset(),_,T,R,F,$,G,ne,X,J=this.path,re=this._getWidthOfCharSpacing(),ie=this.offsets[c],V=0,E=this._textLines.length;V<E;V++){if(f=this.getHeightOfLine(V),!this[c]&&!this.styleHas(c,V)){S+=f;continue}b=this._textLines[V],G=f/this.lineHeight,g=this._getLineLeftOffset(V),T=0,R=0,w=this.getValueOfPropertyAt(V,0,c),X=this.getValueOfPropertyAt(V,0,"fill"),_=S+G*(1-this._fontSizeFraction),p=this.getHeightOfChar(V,0),v=this.getValueOfPropertyAt(V,0,"deltaY");for(var P=0,A=b.length;P<A;P++)if(F=this.__charBounds[V][P],$=this.getValueOfPropertyAt(V,P,c),ne=this.getValueOfPropertyAt(V,P,"fill"),m=this.getHeightOfChar(V,P),y=this.getValueOfPropertyAt(V,P,"deltaY"),J&&$&&ne)l.save(),l.fillStyle=X,l.translate(F.renderLeft,F.renderTop),l.rotate(F.angle),l.fillRect(-F.kernedWidth/2,ie*m+y,F.kernedWidth,this.fontSize/15),l.restore();else if(($!==w||ne!==X||m!==p||y!==v)&&R>0){var j=C+g+T;this.direction==="rtl"&&(j=this.width-j-R),w&&X&&(l.fillStyle=X,l.fillRect(j,_+ie*p+v,R,this.fontSize/15)),T=F.left,R=F.width,w=$,X=ne,p=m,v=y}else R+=F.kernedWidth;var j=C+g+T;this.direction==="rtl"&&(j=this.width-j-R),l.fillStyle=ne,$&&ne&&l.fillRect(j,_+ie*p+v,R-re,this.fontSize/15),S+=f}this._removeShadow(l)}},_getFontDeclaration:function(l,c){var f=l||this,p=this.fontFamily,m=o.Text.genericFonts.indexOf(p.toLowerCase())>-1,g=p===void 0||p.indexOf("'")>-1||p.indexOf(",")>-1||p.indexOf('"')>-1||m?f.fontFamily:'"'+f.fontFamily+'"';return[o.isLikelyNode?f.fontWeight:f.fontStyle,o.isLikelyNode?f.fontStyle:f.fontWeight,c?this.CACHE_FONT_SIZE+"px":f.fontSize+"px",g].join(" ")},render:function(l){this.visible&&(this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",l)))},_splitTextIntoLines:function(l){for(var c=l.split(this._reNewline),f=new Array(c.length),p=[`
`],m=[],g=0;g<c.length;g++)f[g]=o.util.string.graphemeSplit(c[g]),m=m.concat(f[g],p);return m.pop(),{_unwrappedLines:f,lines:c,graphemeText:m,graphemeLines:f}},toObject:function(l){var c=d.concat(l),f=this.callSuper("toObject",c);return f.styles=o.util.stylesToArray(this.styles,this.text),f.path&&(f.path=this.path.toObject()),f},set:function(l,c){this.callSuper("set",l,c);var f=!1,p=!1;if(typeof l=="object")for(var m in l)m==="path"&&this.setPathInfo(),f=f||this._dimensionAffectingProps.indexOf(m)!==-1,p=p||m==="path";else f=this._dimensionAffectingProps.indexOf(l)!==-1,p=l==="path";return p&&this.setPathInfo(),f&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),o.Text.ATTRIBUTE_NAMES=o.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),o.Text.DEFAULT_SVG_FONT_SIZE=16,o.Text.fromElement=function(l,c,f){if(!l)return c(null);var p=o.parseAttributes(l,o.Text.ATTRIBUTE_NAMES),m=p.textAnchor||"left";if(f=o.util.object.extend(f?u(f):{},p),f.top=f.top||0,f.left=f.left||0,p.textDecoration){var g=p.textDecoration;g.indexOf("underline")!==-1&&(f.underline=!0),g.indexOf("overline")!==-1&&(f.overline=!0),g.indexOf("line-through")!==-1&&(f.linethrough=!0),delete f.textDecoration}"dx"in p&&(f.left+=p.dx),"dy"in p&&(f.top+=p.dy),"fontSize"in f||(f.fontSize=o.Text.DEFAULT_SVG_FONT_SIZE);var v="";"textContent"in l?v=l.textContent:"firstChild"in l&&l.firstChild!==null&&"data"in l.firstChild&&l.firstChild.data!==null&&(v=l.firstChild.data),v=v.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var y=f.strokeWidth;f.strokeWidth=0;var b=new o.Text(v,f),w=b.getScaledHeight()/b.height,C=(b.height+b.strokeWidth)*b.lineHeight-b.height,S=C*w,_=b.getScaledHeight()+S,T=0;m==="center"&&(T=b.getScaledWidth()/2),m==="right"&&(T=b.getScaledWidth()),b.set({left:b.left-T,top:b.top-(_-b.fontSize*(.07+b._fontSizeFraction))/b.lineHeight,strokeWidth:typeof y<"u"?y:1}),c(b)},o.Text.fromObject=function(l,c){var f=u(l),p=l.path;return delete f.path,o.Object._fromObject("Text",f,function(m){m.styles=o.util.stylesFromArray(l.styles,l.text),p?o.Object._fromObject("Path",p,function(g){m.set("path",g),c(m)},"path"):c(m)},"text")},o.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],o.util.createAccessors&&o.util.createAccessors(o.Text)}(e),function(){t.util.object.extend(t.Text.prototype,{isEmptyStyles:function(a){if(!this.styles||typeof a<"u"&&!this.styles[a])return!0;var o=typeof a>"u"?this.styles:{line:this.styles[a]};for(var u in o)for(var d in o[u])for(var l in o[u][d])return!1;return!0},styleHas:function(a,o){if(!this.styles||!a||a===""||typeof o<"u"&&!this.styles[o])return!1;var u=typeof o>"u"?this.styles:{0:this.styles[o]};for(var d in u)for(var l in u[d])if(typeof u[d][l][a]<"u")return!0;return!1},cleanStyle:function(a){if(!this.styles||!a||a==="")return!1;var o=this.styles,u=0,d,l,c=!0,f=0,p;for(var m in o){d=0;for(var g in o[m]){var p=o[m][g],v=p.hasOwnProperty(a);u++,v?(l?p[a]!==l&&(c=!1):l=p[a],p[a]===this[a]&&delete p[a]):c=!1,Object.keys(p).length!==0?d++:delete o[m][g]}d===0&&delete o[m]}for(var y=0;y<this._textLines.length;y++)f+=this._textLines[y].length;c&&u===f&&(this[a]=l,this.removeStyle(a))},removeStyle:function(a){if(!(!this.styles||!a||a==="")){var o=this.styles,u,d,l;for(d in o){u=o[d];for(l in u)delete u[l][a],Object.keys(u[l]).length===0&&delete u[l];Object.keys(u).length===0&&delete o[d]}}},_extendStyles:function(a,o){var u=this.get2DCursorLocation(a);this._getLineStyle(u.lineIndex)||this._setLineStyle(u.lineIndex),this._getStyleDeclaration(u.lineIndex,u.charIndex)||this._setStyleDeclaration(u.lineIndex,u.charIndex,{}),t.util.object.extend(this._getStyleDeclaration(u.lineIndex,u.charIndex),o)},get2DCursorLocation:function(a,o){typeof a>"u"&&(a=this.selectionStart);for(var u=o?this._unwrappedTextLines:this._textLines,d=u.length,l=0;l<d;l++){if(a<=u[l].length)return{lineIndex:l,charIndex:a};a-=u[l].length+this.missingNewlineOffset(l)}return{lineIndex:l-1,charIndex:u[l-1].length<a?u[l-1].length:a}},getSelectionStyles:function(a,o,u){typeof a>"u"&&(a=this.selectionStart||0),typeof o>"u"&&(o=this.selectionEnd||a);for(var d=[],l=a;l<o;l++)d.push(this.getStyleAtPosition(l,u));return d},getStyleAtPosition:function(a,o){var u=this.get2DCursorLocation(a),d=o?this.getCompleteStyleDeclaration(u.lineIndex,u.charIndex):this._getStyleDeclaration(u.lineIndex,u.charIndex);return d||{}},setSelectionStyles:function(a,o,u){typeof o>"u"&&(o=this.selectionStart||0),typeof u>"u"&&(u=this.selectionEnd||o);for(var d=o;d<u;d++)this._extendStyles(d,a);return this._forceClearCache=!0,this},_getStyleDeclaration:function(a,o){var u=this.styles&&this.styles[a];return u?u[o]:null},getCompleteStyleDeclaration:function(a,o){for(var u=this._getStyleDeclaration(a,o)||{},d={},l,c=0;c<this._styleProperties.length;c++)l=this._styleProperties[c],d[l]=typeof u[l]>"u"?this[l]:u[l];return d},_setStyleDeclaration:function(a,o,u){this.styles[a][o]=u},_deleteStyleDeclaration:function(a,o){delete this.styles[a][o]},_getLineStyle:function(a){return!!this.styles[a]},_setLineStyle:function(a){this.styles[a]={}},_deleteLineStyle:function(a){delete this.styles[a]}})}(),function(){function a(o){o.textDecoration&&(o.textDecoration.indexOf("underline")>-1&&(o.underline=!0),o.textDecoration.indexOf("line-through")>-1&&(o.linethrough=!0),o.textDecoration.indexOf("overline")>-1&&(o.overline=!0),delete o.textDecoration)}t.IText=t.util.createClass(t.Text,t.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(o,u){this.callSuper("initialize",o,u),this.initBehavior()},setSelectionStart:function(o){o=Math.max(o,0),this._updateAndFire("selectionStart",o)},setSelectionEnd:function(o){o=Math.min(o,this.text.length),this._updateAndFire("selectionEnd",o)},_updateAndFire:function(o,u){this[o]!==u&&(this._fireSelectionChanged(),this[o]=u),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(o){this.clearContextTop(),this.callSuper("render",o),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(o){this.callSuper("_render",o)},clearContextTop:function(o){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var u=this.canvas.contextTop,d=this.canvas.viewportTransform;u.save(),u.transform(d[0],d[1],d[2],d[3],d[4],d[5]),this.transform(u),this._clearTextArea(u),o||u.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var o=this._getCursorBoundaries(),u=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(o,u):this.renderSelection(o,u),u.restore()}},_clearTextArea:function(o){var u=this.width+4,d=this.height+4;o.clearRect(-u/2,-d/2,u,d)},_getCursorBoundaries:function(o){typeof o>"u"&&(o=this.selectionStart);var u=this._getLeftOffset(),d=this._getTopOffset(),l=this._getCursorBoundariesOffsets(o);return{left:u,top:d,leftOffset:l.left,topOffset:l.top}},_getCursorBoundariesOffsets:function(o){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var u,d,l,c=0,f=0,p,m=this.get2DCursorLocation(o);l=m.charIndex,d=m.lineIndex;for(var g=0;g<d;g++)c+=this.getHeightOfLine(g);u=this._getLineLeftOffset(d);var v=this.__charBounds[d][l];return v&&(f=v.left),this.charSpacing!==0&&l===this._textLines[d].length&&(f-=this._getWidthOfCharSpacing()),p={top:c,left:u+(f>0?f:0)},this.direction==="rtl"&&(p.left*=-1),this.cursorOffsetCache=p,this.cursorOffsetCache},renderCursor:function(o,u){var d=this.get2DCursorLocation(),l=d.lineIndex,c=d.charIndex>0?d.charIndex-1:0,f=this.getValueOfPropertyAt(l,c,"fontSize"),p=this.scaleX*this.canvas.getZoom(),m=this.cursorWidth/p,g=o.topOffset,v=this.getValueOfPropertyAt(l,c,"deltaY");g+=(1-this._fontSizeFraction)*this.getHeightOfLine(l)/this.lineHeight-f*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(o,u),u.fillStyle=this.cursorColor||this.getValueOfPropertyAt(l,c,"fill"),u.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,u.fillRect(o.left+o.leftOffset-m/2,g+o.top+v,m,f)},renderSelection:function(o,u){for(var d=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,l=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,c=this.textAlign.indexOf("justify")!==-1,f=this.get2DCursorLocation(d),p=this.get2DCursorLocation(l),m=f.lineIndex,g=p.lineIndex,v=f.charIndex<0?0:f.charIndex,y=p.charIndex<0?0:p.charIndex,b=m;b<=g;b++){var w=this._getLineLeftOffset(b)||0,C=this.getHeightOfLine(b),S=0,_=0,T=0;if(b===m&&(_=this.__charBounds[m][v].left),b>=m&&b<g)T=c&&!this.isEndOfWrapping(b)?this.width:this.getLineWidth(b)||5;else if(b===g)if(y===0)T=this.__charBounds[g][y].left;else{var R=this._getWidthOfCharSpacing();T=this.__charBounds[g][y-1].left+this.__charBounds[g][y-1].width-R}S=C,(this.lineHeight<1||b===g&&this.lineHeight>1)&&(C/=this.lineHeight);var F=o.left+w+_,$=T-_,G=C,ne=0;this.inCompositionMode?(u.fillStyle=this.compositionColor||"black",G=1,ne=C):u.fillStyle=this.selectionColor,this.direction==="rtl"&&(F=this.width-F-$),u.fillRect(F,o.top+o.topOffset+ne,$,G),o.topOffset+=S}},getCurrentCharFontSize:function(){var o=this._getCurrentCharIndex();return this.getValueOfPropertyAt(o.l,o.c,"fontSize")},getCurrentCharColor:function(){var o=this._getCurrentCharIndex();return this.getValueOfPropertyAt(o.l,o.c,"fill")},_getCurrentCharIndex:function(){var o=this.get2DCursorLocation(this.selectionStart,!0),u=o.charIndex>0?o.charIndex-1:0;return{l:o.lineIndex,c:u}}}),t.IText.fromObject=function(o,u){var d=t.util.stylesFromArray(o.styles,o.text),l=Object.assign({},o,{styles:d});if(a(l),l.styles)for(var c in l.styles)for(var f in l.styles[c])a(l.styles[c][f]);t.Object._fromObject("IText",l,u,"text")}}(),function(){var a=t.util.object.clone;t.util.object.extend(t.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var o=this;this.on("added",function(){var u=o.canvas;u&&(u._hasITextHandlers||(u._hasITextHandlers=!0,o._initCanvasHandlers(u)),u._iTextInstances=u._iTextInstances||[],u._iTextInstances.push(o))})},initRemovedHandler:function(){var o=this;this.on("removed",function(){var u=o.canvas;u&&(u._iTextInstances=u._iTextInstances||[],t.util.removeFromArray(u._iTextInstances,o),u._iTextInstances.length===0&&(u._hasITextHandlers=!1,o._removeCanvasHandlers(u)))})},_initCanvasHandlers:function(o){o._mouseUpITextHandler=function(){o._iTextInstances&&o._iTextInstances.forEach(function(u){u.__isMousedown=!1})},o.on("mouse:up",o._mouseUpITextHandler)},_removeCanvasHandlers:function(o){o.off("mouse:up",o._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(o,u,d,l){var c;return c={isAborted:!1,abort:function(){this.isAborted=!0}},o.animate("_currentCursorOpacity",u,{duration:d,onComplete:function(){c.isAborted||o[l]()},onChange:function(){o.canvas&&o.selectionStart===o.selectionEnd&&o.renderCursorOrSelection()},abort:function(){return c.isAborted}}),c},_onTickComplete:function(){var o=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){o._currentTickCompleteState=o._animateCursor(o,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(o){var u=this,d=o?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){u._tick()},d)},abortCursorAnimation:function(){var o=this._currentTickState||this._currentTickCompleteState,u=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,o&&u&&u.clearContext(u.contextTop||u.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(o){var u=0,d=o-1;if(this._reSpace.test(this._text[d]))for(;this._reSpace.test(this._text[d]);)u++,d--;for(;/\S/.test(this._text[d])&&d>-1;)u++,d--;return o-u},findWordBoundaryRight:function(o){var u=0,d=o;if(this._reSpace.test(this._text[d]))for(;this._reSpace.test(this._text[d]);)u++,d++;for(;/\S/.test(this._text[d])&&d<this._text.length;)u++,d++;return o+u},findLineBoundaryLeft:function(o){for(var u=0,d=o-1;!/\n/.test(this._text[d])&&d>-1;)u++,d--;return o-u},findLineBoundaryRight:function(o){for(var u=0,d=o;!/\n/.test(this._text[d])&&d<this._text.length;)u++,d++;return o+u},searchWordBoundary:function(o,u){for(var d=this._text,l=this._reSpace.test(d[o])?o-1:o,c=d[l],f=t.reNonWord;!f.test(c)&&l>0&&l<d.length;)l+=u,c=d[l];return f.test(c)&&(l+=u===1?0:1),l},selectWord:function(o){o=o||this.selectionStart;var u=this.searchWordBoundary(o,-1),d=this.searchWordBoundary(o,1);this.selectionStart=u,this.selectionEnd=d,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(o){o=o||this.selectionStart;var u=this.findLineBoundaryLeft(o),d=this.findLineBoundaryRight(o);return this.selectionStart=u,this.selectionEnd=d,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(o){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(o),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(o){o._iTextInstances&&o._iTextInstances.forEach(function(u){u.selected=!1,u.isEditing&&u.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(o){if(!(!this.__isMousedown||!this.isEditing)){document.activeElement!==this.hiddenTextarea&&this.hiddenTextarea.focus();var u=this.getSelectionStartFromPointer(o.e),d=this.selectionStart,l=this.selectionEnd;(u!==this.__selectionStartOnMouseDown||d===l)&&(d===u||l===u)||(u>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=u):(this.selectionStart=u,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==d||this.selectionEnd!==l)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(o,u,d){var l=d.slice(0,o),c=t.util.string.graphemeSplit(l).length;if(o===u)return{selectionStart:c,selectionEnd:c};var f=d.slice(o,u),p=t.util.string.graphemeSplit(f).length;return{selectionStart:c,selectionEnd:c+p}},fromGraphemeToStringSelection:function(o,u,d){var l=d.slice(0,o),c=l.join("").length;if(o===u)return{selectionStart:c,selectionEnd:c};var f=d.slice(o,u),p=f.join("").length;return{selectionStart:c,selectionEnd:c+p}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var o=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=o.selectionStart,this.hiddenTextarea.selectionEnd=o.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var o=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=o.selectionEnd,this.inCompositionMode||(this.selectionStart=o.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var o=this._calcTextareaPosition();this.hiddenTextarea.style.left=o.left,this.hiddenTextarea.style.top=o.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var o=this.inCompositionMode?this.compositionStart:this.selectionStart,u=this._getCursorBoundaries(o),d=this.get2DCursorLocation(o),l=d.lineIndex,c=d.charIndex,f=this.getValueOfPropertyAt(l,c,"fontSize")*this.lineHeight,p=u.leftOffset,m=this.calcTransformMatrix(),g={x:u.left+p,y:u.top+u.topOffset+f},v=this.canvas.getRetinaScaling(),y=this.canvas.upperCanvasEl,b=y.width/v,w=y.height/v,C=b-f,S=w-f,_=y.clientWidth/b,T=y.clientHeight/w;return g=t.util.transformPoint(g,m),g=t.util.transformPoint(g,this.canvas.viewportTransform),g.x*=_,g.y*=T,g.x<0&&(g.x=0),g.x>C&&(g.x=C),g.y<0&&(g.y=0),g.y>S&&(g.y=S),g.x+=this.canvas._offset.left,g.y+=this.canvas._offset.top,{left:g.x+"px",top:g.y+"px",fontSize:f+"px",charHeight:f}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){this._savedProps&&(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var o=this._textBeforeEdit!==this.text,u=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,u&&(u.blur&&u.blur(),u.parentNode&&u.parentNode.removeChild(u)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),o&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),o&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var o in this.styles)this._textLines[o]||delete this.styles[o]},removeStyleFromTo:function(o,u){var d=this.get2DCursorLocation(o,!0),l=this.get2DCursorLocation(u,!0),c=d.lineIndex,f=d.charIndex,p=l.lineIndex,m=l.charIndex,g,v;if(c!==p){if(this.styles[c])for(g=f;g<this._unwrappedTextLines[c].length;g++)delete this.styles[c][g];if(this.styles[p])for(g=m;g<this._unwrappedTextLines[p].length;g++)v=this.styles[p][g],v&&(this.styles[c]||(this.styles[c]={}),this.styles[c][f+g-m]=v);for(g=c+1;g<=p;g++)delete this.styles[g];this.shiftLineStyles(p,c-p)}else if(this.styles[c]){v=this.styles[c];var y=m-f,b,w;for(g=f;g<m;g++)delete v[g];for(w in this.styles[c])b=parseInt(w,10),b>=m&&(v[b-y]=v[w],delete v[w])}},shiftLineStyles:function(o,u){var d=a(this.styles);for(var l in this.styles){var c=parseInt(l,10);c>o&&(this.styles[c+u]=d[c],d[c-u]||delete this.styles[c])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(o,u,d,l){var c,f={},p=!1,m=this._unwrappedTextLines[o].length===u;d||(d=1),this.shiftLineStyles(o,d),this.styles[o]&&(c=this.styles[o][u===0?u:u-1]);for(var g in this.styles[o]){var v=parseInt(g,10);v>=u&&(p=!0,f[v-u]=this.styles[o][g],m&&u===0||delete this.styles[o][g])}var y=!1;for(p&&!m&&(this.styles[o+d]=f,y=!0),y&&d--;d>0;)l&&l[d-1]?this.styles[o+d]={0:a(l[d-1])}:c?this.styles[o+d]={0:a(c)}:delete this.styles[o+d],d--;this._forceClearCache=!0},insertCharStyleObject:function(o,u,d,l){this.styles||(this.styles={});var c=this.styles[o],f=c?a(c):{};d||(d=1);for(var p in f){var m=parseInt(p,10);m>=u&&(c[m+d]=f[m],f[m-d]||delete c[m])}if(this._forceClearCache=!0,l){for(;d--;)Object.keys(l[d]).length&&(this.styles[o]||(this.styles[o]={}),this.styles[o][u+d]=a(l[d]));return}if(c)for(var g=c[u?u-1:1];g&&d--;)this.styles[o][u+d]=a(g)},insertNewStyleBlock:function(o,u,d){for(var l=this.get2DCursorLocation(u,!0),c=[0],f=0,p=0;p<o.length;p++)o[p]===`
`?(f++,c[f]=0):c[f]++;c[0]>0&&(this.insertCharStyleObject(l.lineIndex,l.charIndex,c[0],d),d=d&&d.slice(c[0]+1)),f&&this.insertNewlineStyleObject(l.lineIndex,l.charIndex+c[0],f);for(var p=1;p<f;p++)c[p]>0?this.insertCharStyleObject(l.lineIndex+p,0,c[p],d):d&&this.styles[l.lineIndex+p]&&d[0]&&(this.styles[l.lineIndex+p][0]=d[0]),d=d&&d.slice(c[p]+1);c[p]>0&&this.insertCharStyleObject(l.lineIndex+p,0,c[p],d)},setSelectionStartEndWithShift:function(o,u,d){d<=o?(u===o?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=o),this.selectionStart=d):d>o&&d<u?this._selectionDirection==="right"?this.selectionEnd=d:this.selectionStart=d:(u===o?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=u),this.selectionEnd=d)},setSelectionInBoundaries:function(){var o=this.text.length;this.selectionStart>o?this.selectionStart=o:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>o?this.selectionEnd=o:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),t.util.object.extend(t.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(a){if(this.canvas){this.__newClickTime=+new Date;var o=a.pointer;this.isTripleClick(o)&&(this.fire("tripleclick",a),this._stopEvent(a.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=o,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(a){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===a.x&&this.__lastPointer.y===a.y},_stopEvent:function(a){a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(a){this.isEditing&&this.selectWord(this.getSelectionStartFromPointer(a.e))},tripleClickHandler:function(a){this.isEditing&&this.selectLine(this.getSelectionStartFromPointer(a.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(a){!this.canvas||!this.editable||a.e.button&&a.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(a.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(a){!this.canvas||!this.editable||a.e.button&&a.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(a){if(this.__isMousedown=!1,!(!this.editable||this.group||a.transform&&a.transform.actionPerformed||a.e.button&&a.e.button!==1)){if(this.canvas){var o=this.canvas._activeObject;if(o&&o!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(a.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(a){var o=this.getSelectionStartFromPointer(a),u=this.selectionStart,d=this.selectionEnd;a.shiftKey?this.setSelectionStartEndWithShift(u,d,o):(this.selectionStart=o,this.selectionEnd=o),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(a){for(var o=this.getLocalPointer(a),u=0,d=0,l=0,c=0,f=0,p,m,g=0,v=this._textLines.length;g<v&&l<=o.y;g++)l+=this.getHeightOfLine(g)*this.scaleY,f=g,g>0&&(c+=this._textLines[g-1].length+this.missingNewlineOffset(g-1));p=this._getLineLeftOffset(f),d=p*this.scaleX,m=this._textLines[f],this.direction==="rtl"&&(o.x=this.width*this.scaleX-o.x+d);for(var y=0,b=m.length;y<b&&(u=d,d+=this.__charBounds[f][y].kernedWidth*this.scaleX,d<=o.x);y++)c++;return this._getNewSelectionStartFromOffset(o,u,d,c,b)},_getNewSelectionStartFromOffset:function(a,o,u,d,l){var c=a.x-o,f=u-a.x,p=f>c||f<0?0:1,m=d+p;return this.flipX&&(m=l-m),m>this._text.length&&(m=this._text.length),m}}),t.util.object.extend(t.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=t.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var a=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+a.top+"; left: "+a.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding-top: "+a.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):t.document.body.appendChild(this.hiddenTextarea),t.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),t.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),t.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),t.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),t.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),t.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(t.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(a){if(this.isEditing){var o=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(a.keyCode in o)this[o[a.keyCode]](a);else if(a.keyCode in this.ctrlKeysMapDown&&(a.ctrlKey||a.metaKey))this[this.ctrlKeysMapDown[a.keyCode]](a);else return;a.stopImmediatePropagation(),a.preventDefault(),a.keyCode>=33&&a.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(a){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(a.keyCode in this.ctrlKeysMapUp&&(a.ctrlKey||a.metaKey))this[this.ctrlKeysMapUp[a.keyCode]](a);else return;a.stopImmediatePropagation(),a.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(a){var o=this.fromPaste;if(this.fromPaste=!1,a&&a.stopPropagation(),!!this.isEditing){var u=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,d=this._text.length,l=u.length,c,f,p=l-d,m=this.selectionStart,g=this.selectionEnd,v=m!==g,y,b,w;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var C=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),S=m>C.selectionStart;v?(c=this._text.slice(m,g),p+=g-m):l<d&&(S?c=this._text.slice(g+p,g):c=this._text.slice(m,m-p)),f=u.slice(C.selectionEnd-p,C.selectionEnd),c&&c.length&&(f.length&&(y=this.getSelectionStyles(m,m+1,!1),y=f.map(function(){return y[0]})),v?(b=m,w=g):S?(b=g-c.length,w=g):(b=g,w=g+c.length),this.removeStyleFromTo(b,w)),f.length&&(o&&f.join("")===t.copiedText&&!t.disableStyleCopyPaste&&(y=t.copiedTextStyle),this.insertNewStyleBlock(f,m,y)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(a){this.compositionStart=a.target.selectionStart,this.compositionEnd=a.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(t.copiedText=this.getSelectedText(),t.disableStyleCopyPaste?t.copiedTextStyle=null:t.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(a){return a&&a.clipboardData||t.window.clipboardData},_getWidthBeforeCursor:function(a,o){var u=this._getLineLeftOffset(a),d;return o>0&&(d=this.__charBounds[a][o-1],u+=d.left+d.width),u},getDownCursorOffset:function(a,o){var u=this._getSelectionForOffset(a,o),d=this.get2DCursorLocation(u),l=d.lineIndex;if(l===this._textLines.length-1||a.metaKey||a.keyCode===34)return this._text.length-u;var c=d.charIndex,f=this._getWidthBeforeCursor(l,c),p=this._getIndexOnLine(l+1,f),m=this._textLines[l].slice(c);return m.length+p+1+this.missingNewlineOffset(l)},_getSelectionForOffset:function(a,o){return a.shiftKey&&this.selectionStart!==this.selectionEnd&&o?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(a,o){var u=this._getSelectionForOffset(a,o),d=this.get2DCursorLocation(u),l=d.lineIndex;if(l===0||a.metaKey||a.keyCode===33)return-u;var c=d.charIndex,f=this._getWidthBeforeCursor(l,c),p=this._getIndexOnLine(l-1,f),m=this._textLines[l].slice(0,c),g=this.missingNewlineOffset(l-1);return-this._textLines[l-1].length+p-m.length+(1-g)},_getIndexOnLine:function(a,o){for(var u=this._textLines[a],d=this._getLineLeftOffset(a),l=d,c=0,f,p,m=0,g=u.length;m<g;m++)if(f=this.__charBounds[a][m].width,l+=f,l>o){p=!0;var v=l-f,y=l,b=Math.abs(v-o),w=Math.abs(y-o);c=w<b?m:m-1;break}return p||(c=u.length-1),c},moveCursorDown:function(a){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",a)},moveCursorUp:function(a){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",a)},_moveCursorUpOrDown:function(a,o){var u="get"+a+"CursorOffset",d=this[u](o,this._selectionDirection==="right");o.shiftKey?this.moveCursorWithShift(d):this.moveCursorWithoutShift(d),d!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(a){var o=this._selectionDirection==="left"?this.selectionStart+a:this.selectionEnd+a;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,o),a!==0},moveCursorWithoutShift:function(a){return a<0?(this.selectionStart+=a,this.selectionEnd=this.selectionStart):(this.selectionEnd+=a,this.selectionStart=this.selectionEnd),a!==0},moveCursorLeft:function(a){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",a)},_move:function(a,o,u){var d;if(a.altKey)d=this["findWordBoundary"+u](this[o]);else if(a.metaKey||a.keyCode===35||a.keyCode===36)d=this["findLineBoundary"+u](this[o]);else return this[o]+=u==="Left"?-1:1,!0;if(typeof d<"u"&&this[o]!==d)return this[o]=d,!0},_moveLeft:function(a,o){return this._move(a,o,"Left")},_moveRight:function(a,o){return this._move(a,o,"Right")},moveCursorLeftWithoutShift:function(a){var o=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(o=this._moveLeft(a,"selectionStart")),this.selectionEnd=this.selectionStart,o},moveCursorLeftWithShift:function(a){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(a,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(a,"selectionStart")},moveCursorRight:function(a){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",a)},_moveCursorLeftOrRight:function(a,o){var u="moveCursor"+a+"With";this._currentCursorOpacity=1,o.shiftKey?u+="Shift":u+="outShift",this[u](o)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(a){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(a,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(a,"selectionEnd")},moveCursorRightWithoutShift:function(a){var o=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(o=this._moveRight(a,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,o},removeChars:function(a,o){typeof o>"u"&&(o=a+1),this.removeStyleFromTo(a,o),this._text.splice(a,o-a),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(a,o,u,d){typeof d>"u"&&(d=u),d>u&&this.removeStyleFromTo(u,d);var l=t.util.string.graphemeSplit(a);this.insertNewStyleBlock(l,u,o),this._text=[].concat(this._text.slice(0,u),l,this._text.slice(d)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var a=t.util.toFixed,o=/  +/g;t.util.object.extend(t.Text.prototype,{_toSVG:function(){var u=this._getSVGLeftTopOffsets(),d=this._getSVGTextAndBg(u.textTop,u.textLeft);return this._wrapSVGTextAndBg(d)},toSVG:function(u){return this._createBaseSVGMarkup(this._toSVG(),{reviver:u,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(u){var d=!0,l=this.getSvgTextDecoration(this);return[u.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",l?'text-decoration="'+l+'" ':"",'style="',this.getSvgStyles(d),'"',this.addPaintOrder()," >",u.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(u,d){var l=[],c=[],f=u,p;this._setSVGBg(c);for(var m=0,g=this._textLines.length;m<g;m++)p=this._getLineLeftOffset(m),(this.textBackgroundColor||this.styleHas("textBackgroundColor",m))&&this._setSVGTextLineBg(c,m,d+p,f),this._setSVGTextLineText(l,m,d+p,f),f+=this.getHeightOfLine(m);return{textSpans:l,textBgRects:c}},_createTextCharSpan:function(u,d,l,c){var f=u!==u.trim()||u.match(o),p=this.getSvgSpanStyles(d,f),m=p?'style="'+p+'"':"",g=d.deltaY,v="",y=t.Object.NUM_FRACTION_DIGITS;return g&&(v=' dy="'+a(g,y)+'" '),['<tspan x="',a(l,y),'" y="',a(c,y),'" ',v,m,">",t.util.string.escapeXml(u),"</tspan>"].join("")},_setSVGTextLineText:function(u,d,l,c){var f=this.getHeightOfLine(d),p=this.textAlign.indexOf("justify")!==-1,m,g,v="",y,b,w=0,C=this._textLines[d],S;c+=f*(1-this._fontSizeFraction)/this.lineHeight;for(var _=0,T=C.length-1;_<=T;_++)S=_===T||this.charSpacing,v+=C[_],y=this.__charBounds[d][_],w===0?(l+=y.kernedWidth-y.width,w+=y.width):w+=y.kernedWidth,p&&!S&&this._reSpaceAndTab.test(C[_])&&(S=!0),S||(m=m||this.getCompleteStyleDeclaration(d,_),g=this.getCompleteStyleDeclaration(d,_+1),S=t.util.hasStyleChanged(m,g,!0)),S&&(b=this._getStyleDeclaration(d,_)||{},u.push(this._createTextCharSpan(v,b,l,c)),v="",m=g,l+=w,w=0)},_pushTextBgRect:function(u,d,l,c,f,p){var m=t.Object.NUM_FRACTION_DIGITS;u.push("		<rect ",this._getFillAttributes(d),' x="',a(l,m),'" y="',a(c,m),'" width="',a(f,m),'" height="',a(p,m),`"></rect>
`)},_setSVGTextLineBg:function(u,d,l,c){for(var f=this._textLines[d],p=this.getHeightOfLine(d)/this.lineHeight,m=0,g=0,v,y,b=this.getValueOfPropertyAt(d,0,"textBackgroundColor"),w=0,C=f.length;w<C;w++)v=this.__charBounds[d][w],y=this.getValueOfPropertyAt(d,w,"textBackgroundColor"),y!==b?(b&&this._pushTextBgRect(u,b,l+g,c,m,p),g=v.left,m=v.width,b=y):m+=v.kernedWidth;y&&this._pushTextBgRect(u,y,l+g,c,m,p)},_getFillAttributes:function(u){var d=u&&typeof u=="string"?new t.Color(u):"";return!d||!d.getSource()||d.getAlpha()===1?'fill="'+u+'"':'opacity="'+d.getAlpha()+'" fill="'+d.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(u){for(var d=0,l=0,c=0;c<u;c++)d+=this.getHeightOfLine(c);return l=this.getHeightOfLine(c),{lineTop:d,offset:(this._fontSizeMult-this._fontSizeFraction)*l/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(u){var d=t.Object.prototype.getSvgStyles.call(this,u);return d+" white-space: pre;"}})}(),function(a){var o=a.fabric||(a.fabric={});o.Textbox=o.util.createClass(o.IText,o.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:o.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(u){for(var d=0,l=0,c=0,f={},p=0;p<u.graphemeLines.length;p++)u.graphemeText[c]===`
`&&p>0?(l=0,c++,d++):!this.splitByGrapheme&&this._reSpaceAndTab.test(u.graphemeText[c])&&p>0&&(l++,c++),f[p]={line:d,offset:l},c+=u.graphemeLines[p].length,l+=u.graphemeLines[p].length;return f},styleHas:function(u,d){if(this._styleMap&&!this.isWrapping){var l=this._styleMap[d];l&&(d=l.line)}return o.Text.prototype.styleHas.call(this,u,d)},isEmptyStyles:function(u){if(!this.styles)return!0;var d=0,l=u+1,c,f,p=!1,m=this._styleMap[u],g=this._styleMap[u+1];m&&(u=m.line,d=m.offset),g&&(l=g.line,p=l===u,c=g.offset),f=typeof u>"u"?this.styles:{line:this.styles[u]};for(var v in f)for(var y in f[v])if(y>=d&&(!p||y<c))for(var b in f[v][y])return!1;return!0},_getStyleDeclaration:function(u,d){if(this._styleMap&&!this.isWrapping){var l=this._styleMap[u];if(!l)return null;u=l.line,d=l.offset+d}return this.callSuper("_getStyleDeclaration",u,d)},_setStyleDeclaration:function(u,d,l){var c=this._styleMap[u];u=c.line,d=c.offset+d,this.styles[u][d]=l},_deleteStyleDeclaration:function(u,d){var l=this._styleMap[u];u=l.line,d=l.offset+d,delete this.styles[u][d]},_getLineStyle:function(u){var d=this._styleMap[u];return!!this.styles[d.line]},_setLineStyle:function(u){var d=this._styleMap[u];this.styles[d.line]={}},_wrapText:function(u,d){var l=[],c;for(this.isWrapping=!0,c=0;c<u.length;c++)l=l.concat(this._wrapLine(u[c],c,d));return this.isWrapping=!1,l},_measureWord:function(u,d,l){var c=0,f,p=!0;l=l||0;for(var m=0,g=u.length;m<g;m++){var v=this._getGraphemeBox(u[m],d,m+l,f,p);c+=v.kernedWidth,f=u[m]}return c},_wrapLine:function(u,d,l,F){var f=0,p=this.splitByGrapheme,m=[],g=[],v=p?o.util.string.graphemeSplit(u):u.split(this._wordJoiners),y="",b=0,w=p?"":" ",C=0,S=0,_=0,T=!0,R=this._getWidthOfCharSpacing(),F=F||0;v.length===0&&v.push([]),l-=F;for(var $=0;$<v.length;$++)y=p?v[$]:o.util.string.graphemeSplit(v[$]),C=this._measureWord(y,d,b),b+=y.length,f+=S+C-R,f>l&&!T?(m.push(g),g=[],f=C,T=!0):f+=R,!T&&!p&&g.push(w),g=g.concat(y),S=p?0:this._measureWord([w],d,b),b++,T=!1,C>_&&(_=C);return $&&m.push(g),_+F>this.dynamicMinWidth&&(this.dynamicMinWidth=_-R+F),m},isEndOfWrapping:function(u){return!this._styleMap[u+1]||this._styleMap[u+1].line!==this._styleMap[u].line},missingNewlineOffset:function(u){return this.splitByGrapheme?this.isEndOfWrapping(u)?1:0:1},_splitTextIntoLines:function(u){for(var d=o.Text.prototype._splitTextIntoLines.call(this,u),l=this._wrapText(d.lines,this.width),c=new Array(l.length),f=0;f<l.length;f++)c[f]=l[f].join("");return d.lines=c,d.graphemeLines=l,d},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var u={};for(var d in this._styleMap)this._textLines[d]&&(u[this._styleMap[d].line]=1);for(var d in this.styles)u[d]||delete this.styles[d]},toObject:function(u){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(u))}}),o.Textbox.fromObject=function(u,d){var l=o.util.stylesFromArray(u.styles,u.text),c=Object.assign({},u,{styles:l});return o.Object._fromObject("Textbox",c,d,"text")}}(e),function(){var a=t.controlsUtils,o=a.scaleSkewCursorStyleHandler,u=a.scaleCursorStyleHandler,d=a.scalingEqually,l=a.scalingYOrSkewingX,c=a.scalingXOrSkewingY,f=a.scaleOrSkewActionName,p=t.Object.prototype.controls;if(p.ml=new t.Control({x:-.5,y:0,cursorStyleHandler:o,actionHandler:c,getActionName:f}),p.mr=new t.Control({x:.5,y:0,cursorStyleHandler:o,actionHandler:c,getActionName:f}),p.mb=new t.Control({x:0,y:.5,cursorStyleHandler:o,actionHandler:l,getActionName:f}),p.mt=new t.Control({x:0,y:-.5,cursorStyleHandler:o,actionHandler:l,getActionName:f}),p.tl=new t.Control({x:-.5,y:-.5,cursorStyleHandler:u,actionHandler:d}),p.tr=new t.Control({x:.5,y:-.5,cursorStyleHandler:u,actionHandler:d}),p.bl=new t.Control({x:-.5,y:.5,cursorStyleHandler:u,actionHandler:d}),p.br=new t.Control({x:.5,y:.5,cursorStyleHandler:u,actionHandler:d}),p.mtr=new t.Control({x:0,y:-.5,actionHandler:a.rotationWithSnapping,cursorStyleHandler:a.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),t.Textbox){var m=t.Textbox.prototype.controls={};m.mtr=p.mtr,m.tr=p.tr,m.br=p.br,m.tl=p.tl,m.bl=p.bl,m.mt=p.mt,m.mb=p.mb,m.mr=new t.Control({x:.5,y:0,actionHandler:a.changeWidth,cursorStyleHandler:o,actionName:"resizing"}),m.ml=new t.Control({x:-.5,y:0,actionHandler:a.changeWidth,cursorStyleHandler:o,actionName:"resizing"})}}()})(Ce);const AC={lockScalingFlip:!0,originY:"center",originX:"center",lockMovementX:!0,lockMovementY:!0,borderColor:"transparent"};function am(e=36){let t="";const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789";for(let r=0;r<e;r+=1)t+=n.charAt(Math.floor(Math.random()*n.length));return t}function hR(e){var h;const t=new Ce.fabric.Canvas(e,{width:1,height:1});t.preserveObjectStacking=!0,t.selection=!1,t.renderOnAddRemove=!1;const n=D().config.textureSize;n&&(Ce.fabric.textureSize=n);const i={...(h=D().config.objectDefaults)==null?void 0:h.global,...AC};Object.keys(i).forEach(a=>{Ce.fabric.Object.prototype[a]=i[a]}),t.on("object:added",a=>{var o,u;a.target&&!((u=(o=a.target)==null?void 0:o.data)!=null&&u.id)&&(a.target.data||(a.target.data={}),a.target.data.id=am(10))});const s=Ce.fabric.Object.prototype.controls;return Object.keys(s).forEach(a=>{delete s[a]}),t}let pl=null;function To(e){pl=e}class dR{constructor(){Te(this,"maxZoom",2);Te(this,"minZoom",1);Te(this,"step",.05);this.allowUserZoom&&this.bindMouseWheel(),he.subscribe(t=>t.stageSize,()=>{setTimeout(()=>{this.fitToScreen()},1)})}get allowUserZoom(){var t,n,r;return((r=(n=(t=D().config)==null?void 0:t.tools)==null?void 0:n.zoom)==null?void 0:r.allowUserZoom)??!0}get currentZoom(){return D().zoom}zoomIn(t=this.step){this.set(this.currentZoom+t)}canZoomIn(t=this.step){return this.currentZoom+t<=this.maxZoom}canZoomOut(t=this.step){return this.currentZoom-t>=this.minZoom}zoomOut(t=this.step){this.set(this.currentZoom-t)}set(t,n=!0){if(t<this.minZoom||t>this.maxZoom)return;const r=ph.round(D().original.width*t,0),i=ph.round(D().original.height*t,0);pe().setZoom(t),n&&pe().setDimensions({width:r,height:i}),D().setZoom(t)}fitToScreen(){var s,h;if(!((h=(s=D().config.tools)==null?void 0:s.zoom)!=null&&h.fitImageToScreen))return;const{width:t,height:n}=D().stageSize,r=Math.max(n,1),i=Math.max(t,1);if(D().original.height>r||D().original.width>i){const a=Math.min(r/D().original.height,i/D().original.width);this.minZoom=Math.min(a,1)}else this.minZoom=1;this.set(this.minZoom)}bindMouseWheel(){pe().on("mouse:wheel",t=>{t.e.preventDefault(),t.e.stopPropagation(),pl==null&&(t.e.deltaY<0?this.zoomIn():this.zoomOut())})}}function MC(e){return new Promise(t=>{Ce.fabric.util.loadImage(e,n=>t(new Ce.fabric.Image(n)),null,D().config.crossOrigin?"anonymous":void 0)})}function jC(){return!D().config.image&&!D().config.blankCanvasSize&&(!pe()||pe().getObjects().length===0)}class pR{constructor(){Te(this,"minWidth",50);Te(this,"minHeight",50)}resize(t,n,{applyZoom:r=!1,resizeHelper:i=!0}={}){const s=D().zoom;pe().setWidth(t*(r?s:1)),pe().setHeight(n*(r?s:1)),D().setOriginal(t,n),i&&L().transform.resetStraightenAnchor()}async addMainImage(t,n="mainImage"){var i,s;D().toggleLoading(n);const r=await MC(t);if(r)return this.clear(),r.set(zi),r.name=rt.MainImage,pe().add(r),this.resize(r.width,r.height),r.center(),r.setCoords(),L().zoom.fitToScreen(),D().toggleLoading(!1),(s=(i=D().config).onMainImageLoaded)==null||s.call(i,r),r}openNew(t,n,r){return t=Math.max(this.minWidth,t),n=Math.max(this.minHeight,n),this.clear(),this.resize(t,n),pe().backgroundColor=r,L().zoom.fitToScreen(),D().toggleLoading("newCanvas"),requestAnimationFrame(()=>{D().toggleLoading(!1)}),Promise.resolve({width:t,height:n})}getMainImage(){return pe().getObjects().find(t=>t.name===rt.MainImage)}render(){pe().requestRenderAll()}async loadInitialContent(){var i,s;const t=D().config.image,n=D().config.blankCanvasSize,r=D().config.state;if(t&&t.endsWith("json")){const h=await Eu(t);await L().import.loadState(h)}else t&&t.startsWith('{"canvas')?await L().import.loadState(t):t?await this.addMainImage(t):r?await L().import.loadState(r):n&&await this.openNew(n.width,n.height);return jC()&&((s=(i=D().config.ui)==null?void 0:i.openImageDialog)!=null&&s.show)&&D().togglePanel("newImage",!0),new Promise(h=>{setTimeout(()=>{L().history.addInitial(),h()},10)})}clear(){pe().clear(),L().frame.remove(),L().transform.resetStraightenAnchor()}}function gR(e){return e.name===rt.Sticker&&"forEachObject"in e}const mR=["fontSize","fontFamily","left","top","width","height","scaleX","scaleY","flipX","flipY","angle","src","strokeWidth"];function RC(e={}){pe().fire("object:modified",vR(e))}function vR(e){return{values:e,sizeOrPositionChanged:yR(e)}}function yR(e){return Object.keys(e).some(t=>mR.includes(t))}function bR(){D().fabric.on("selection:created",e=>{var t;(t=e.selected)!=null&&t[0]&&!FC(e)&&lm(e.selected[0])}),D().fabric.on("selection:updated",e=>{var t;FC(e)||lm((t=e.selected)==null?void 0:t[0])}),D().fabric.on("selection:cleared",()=>{lm()})}function FC(e){var r,i;const[t]=I1((r=e.selected)==null?void 0:r[0]),n=t===D().activeTool;return D().dirty&&(!((i=e.selected)!=null&&i[0])||!n)?(e.deselected&&L().objects.select(e.deselected[0]),!0):!1}function lm(e){(e==null?void 0:e.data.id)!==D().objects.active.id&&(D().objects.setActive(e??null),D().activeTool!==Le.DRAW&&cd())}class wR{constructor(){this.syncObjects(),bR(),D().fabric.on("text:editing:entered",()=>{D().objects.setIsEditingText(!0)}),D().fabric.on("text:editing:exited",()=>{D().objects.setIsEditingText(!1)}),D().fabric.on("object:added",()=>{this.syncObjects()}),D().fabric.on("object:removed",()=>{this.syncObjects()})}getAll(){return pe().getObjects().filter(t=>{var n;return!((n=t==null?void 0:t.data)!=null&&n.pixieInternal)})}get(t){return this.getAll().find(n=>n.name===t)}getById(t){return this.getAll().find(n=>n.data.id===t)}isActive(t){var r;const n=typeof t=="string"?t:t.data.id;return((r=D().objects.active)==null?void 0:r.id)===n}getActive(){return pe().getActiveObject()}has(t){return this.getAll().findIndex(n=>n.name===t)>-1}select(t){const n=typeof t=="string"?this.getById(t):t;n&&(pe().setActiveObject(n),pe().requestRenderAll())}deselectActive(){pe().discardActiveObject(),pe().requestRenderAll()}setValues(t,n){if(n=n||this.getActive(),!n)return;let r=!1;gR(n)&&t.fill&&t.fill!==n.fill&&n.forEachObject(i=>i.set("fill",t.fill)),$r(n)?((t.fontFamily!==n.fontFamily||t.fontSize!==n.fontSize)&&(r=!0),n.selectionStart!==n.selectionEnd?n.setSelectionStyles(t):n.set(t)):n.set(t),r?setTimeout(()=>{pe().requestRenderAll()},50):pe().requestRenderAll(),D().objects.setActive(n),RC(t)}move(t,n=1,r){r=r||this.getActive(),r&&(t==="up"?this.setValues({top:r.top-n}):t==="down"?this.setValues({top:r.top+n}):t==="left"?this.setValues({left:r.left-n}):t==="right"&&this.setValues({left:r.left+n}),L().canvas.render())}bringToFront(t){t=t||this.getActive(),t&&(t.bringToFront(),L().canvas.render())}sendToBack(t){t=t||this.getActive(),t&&(t.sendToBack(),L().canvas.render())}flipHorizontally(t){t=t||this.getActive(),t&&(this.setValues({flipX:!t.flipX}),L().canvas.render())}duplicate(t){const n=t||this.getActive();n&&(this.deselectActive(),n.clone(r=>{r.set({left:n.left+40,top:n.top+40,data:{...n.data,id:am(10)},name:n.name}),pe().add(r),this.select(r),L().canvas.render()}))}delete(t){t=t||this.getActive(),t&&(this.deselectActive(),pe().remove(t),pe().requestRenderAll(),L().history.addHistoryItem({name:"deletedObject"}))}syncObjects(){const t=this.getAll().map(n=>({name:n.name,selectable:n.selectable??!1,id:n.data.id}));he.setState({objects:{...D().objects,all:t}})}}const xR={frame:null,fonts:[]};function IC(e){return e.state||(e.state=ku()),{...e.state||ku(),name:e.name,id:am(15)}}function um(e){return e?/^[a-zA-Z][a-zA-Z\d+\-.]*?:/.test(e):!1}class CR{constructor(){Te(this,"loadedAssets",{})}loadAsset(t,n={type:"js"}){var s;t=t.startsWith("//")?`${window.location.protocol}${t}`:t;const r=(s=this.loadedAssets[t])==null?void 0:s.state;return r==="loaded"&&!n.force?new Promise(h=>h()):!r||this.loadedAssets[t].doc!==n.document||n.force&&r==="loaded"?(this.loadedAssets[t]={state:new Promise(h=>{const a=um(t)?t:`assets/${t}`,o=cm(t,n.id),u={url:a,id:o,resolve:h,parentEl:n.parentEl,document:n.document};n.type==="css"?this.loadStyleAsset(u):this.loadScriptAsset(u)}),doc:n.document},this.loadedAssets[t].state):this.loadedAssets[t].state}isLoadingOrLoaded(t){return this.loadedAssets[t]!=null}loadStyleAsset(t){var h;const n=t.document||document,r=t.parentEl||n.head,i=n.createElement("link"),s=cm(t.url,t.id);i.rel="stylesheet",i.id=s,i.href=t.url;try{r.querySelector(`#${s}`)&&((h=r.querySelector(`#${s}`))==null||h.remove())}catch{}i.onload=()=>{this.loadedAssets[t.url].state="loaded",t.resolve()},r.appendChild(i)}loadScriptAsset(t){var h;const n=t.document||document,r=t.parentEl||n.body,i=n.createElement("script"),s=cm(t.url,t.id);i.async=!0,i.id=s,i.src=t.url;try{r.querySelector(`#${s}`)&&((h=r.querySelector(`#${s}`))==null||h.remove())}catch{}i.onload=()=>{this.loadedAssets[t.url].state="loaded",t.resolve()},(r||r).appendChild(i)}}function cm(e,t){return t||btoa(e.split("/").pop())}const SR=new CR;function _R(e){return`be-fonts-${e}`}function LC(e,t){const n=t.document||document,r=[],i=[];let s=[];if(e.forEach(h=>{"google"in h&&h.google?r.push(h):"src"in h&&i.push(h)}),r!=null&&r.length){const h=t.weights||[400],a=e.map(u=>`${u.family}:${h.join(",")}`).join("|"),o=SR.loadAsset(`https://fonts.googleapis.com/css?family=${a}&display=swap`,{type:"css",id:_R(t.id),force:t.forceAssetLoad,document:n});s.push(o)}if(i!=null&&i.length){const h=i.map(async a=>{const o=Array.from(n.fonts.values()).find(d=>d.family===a.family);if(o)return o.loaded;const u=new FontFace(a.family,`url(${t!=null&&t.prefixSrc?t.prefixSrc(a.src):a.src})`,a.descriptors);return n.fonts.add(u),u.load()});s=s.concat(h)}return Promise.all(s)}function hn(e){return e?um(e)?e:`${D().config.baseUrl?`${D().config.baseUrl}/`:""}${e}`:""}class ER{async undo(){if(this.canUndo()){const t=D().history.items[D().history.pointer-1];await this.load(t)}}async redo(){if(this.canRedo()){const t=D().history.items[D().history.pointer+1];await this.load(t)}}canUndo(){return D().history.canUndo}canRedo(){return D().history.canRedo}reload(){return this.load(D().history.items[D().history.pointer])}replaceCurrent(){const t=D().history.items[D().history.pointer],n=[...D().history.items];n[D().history.pointer]=IC({name:t.name,state:t})}addHistoryItem(t){const n=IC(t),i=[...D().history.items.slice(0,D().history.pointer+1),n];D().history.update(i.length-1,i)}load(t){return t={...t,editor:t.editor||xR},new Promise(n=>{LC(kR(t.canvas.objects),{prefixSrc:hn,id:"pixie-fonts"}).finally(()=>{pe().loadFromJSON(t.canvas,()=>{L().zoom.set(1),t.canvasWidth&&t.canvasHeight&&L().canvas.resize(t.canvasWidth,t.canvasHeight,{resizeHelper:!1,applyZoom:!1}),L().frame.remove(),t.editor.frame&&L().frame.add(t.editor.frame.name,t.editor.frame.sizePercent),L().objects.syncObjects(),L().objects.getAll().forEach(r=>{var i,s;if(!r.data.pixieInternal&&r.originX==="left"&&r.originY==="top"){const h=r.getPointByOrigin("center","center");r.set("left",h.x),r.set("top",h.y)}r.set({...AC}),r.type==="i-text"&&(r.padding=(s=(i=D().config.tools)==null?void 0:i.text)==null?void 0:s.controlsPadding)}),L().canvas.render(),pe().calcOffset(),L().zoom.fitToScreen(),D().history.updatePointerById(t.id),L().transform.resetStraightenAnchor(),n()})})})}addInitial(t){!D().history.items.find(r=>r.name==="initial")&&(t||!jC())&&this.addHistoryItem({name:"initial",state:t})}}function kR(e){const t=[];return e.forEach(n=>{var i,s,h;if(!$r(n))return;const r=(h=(s=(i=D().config.tools)==null?void 0:i.text)==null?void 0:s.items)==null?void 0:h.find(a=>a.family===n.fontFamily);r&&t.push(r)}),t}class TR{canMerge(){return L().objects.getAll().filter(t=>t.name!==rt.MainImage).length>0}async apply(){D().toggleLoading("merge");const t=L().export.getDataUrl();t&&await L().canvas.addMainImage(t,"merge")}}const af=[{name:"grayscale"},{name:"blackWhite",fabricType:"blackwhite"},{name:"sharpen",uses:"Convolute",matrix:[0,-1,0,-1,5,-1,0,-1,0]},{name:"invert"},{name:"vintage"},{name:"polaroid"},{name:"kodachrome"},{name:"technicolor"},{name:"brownie"},{name:"sepia"},{name:"removeColor",fabricType:"removecolor",options:{distance:{type:"slider",current:.1,min:0,max:1,step:.01},color:{current:"#fff",type:"colorPicker"}}},{name:"brightness",options:{brightness:{type:"slider",current:.1,min:-1,max:1,step:.1}}},{name:"gamma",options:{red:{type:"slider",current:.1,min:.2,max:2.2,step:.003921},green:{type:"slider",current:.1,min:.2,max:2.2,step:.003921},blue:{type:"slider",current:.1,min:.2,max:2.2,step:.003921}},apply:e=>{e.gamma=[e.red,e.green,e.blue]}},{name:"noise",options:{noise:{type:"slider",current:40,min:1,max:600}}},{name:"pixelate",options:{blocksize:{type:"slider",min:1,max:40,current:6}}},{name:"blur",uses:"Convolute",matrix:[1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9,1/9]},{name:"emboss",uses:"Convolute",matrix:[1,1,1,1,.7,-1,-1,-1,-1]},{name:"blendColor",fabricType:"blendcolor",options:{alpha:{type:"slider",current:.5,min:.1,max:1,step:.1},mode:{current:"add",type:"select",available:[{key:"add"},{key:"multiply"},{key:"subtract"},{key:"diff"},{key:"screen"},{key:"lighten"},{key:"darken"}]},color:{type:"colorPicker",current:"#FF4081"}}}],OR={grayscale:ae("grayscale"),blackWhite:ae("Black & White"),sharpen:ae("Sharpen"),invert:ae("Invert"),vintage:ae("Vintage"),polaroid:ae("Polaroid"),kodachrome:ae("Kodachrome"),technicolor:ae("Technicolor"),brownie:ae("Brownie"),sepia:ae("Sepia"),removeColor:ae("Remove Color"),brightness:ae("Brightness"),gamma:ae("Gamma"),noise:ae("Noise"),pixelate:ae("Pixelate"),blur:ae("Blur"),emboss:ae("Emboss"),blendColor:ae("Blend Color")},fm={distance:ae("distance"),color:ae("color"),brightness:ae("brightness"),red:ae("red"),green:ae("green"),blue:ae("blue"),noise:ae("noise"),blocksize:ae("blocksize"),mode:ae("mode"),alpha:ae("alpha")};function lf(e){return e&&e.charAt(0).toUpperCase()+e.slice(1)}class PR{constructor(){he.subscribe(t=>t.history.pointer,()=>{this.syncState()})}apply(t){D().filter.select(t,this.hasOptions(t));const n=this.getByName(t);if(this.isApplied(n.name)){this.remove(n.name);return}const r=this.create(n);this.getImages().forEach(i=>{var s;(s=i.filters)==null||s.push(r),i.applyFilters()}),this.syncState(),L().canvas.render()}remove(t){D().filter.deselect(t);const n=this.getByName(t);this.getImages().forEach(r=>{var s;const i=this.findFilterIndex(n.name,r.filters);(s=r.filters)==null||s.splice(i,1),r.applyFilters()}),this.syncState(),L().canvas.render()}getAll(){return af}getByName(t){return af.find(n=>n.name===t)}isApplied(t){const n=L().canvas.getMainImage();return n?this.findFilterIndex(t,n.filters)>-1:!1}applyValue(t,n,r){const i=this.getByName(t);this.getImages().forEach(s=>{const h=(s.filters||[]).find(a=>a.type.toLowerCase()===i.name.toLowerCase());h&&(h[n]=r,i.apply&&i.apply(h,n,r),s.applyFilters())}),L().canvas.render()}addCustom(t,n,r,i){const s=Ce.fabric.Image.filters;s[lf(t)]=Ce.fabric.util.createClass(s.BaseFilter,n),s[lf(t)].fromObject=s.BaseFilter.fromObject,af.push({name:t,options:r,initialConfig:i})}create(t){const n=t.initialConfig||{};let r;return t.uses?(n.matrix=t.matrix,r=new Ce.fabric.Image.filters[lf(t.uses)](n)):(Object.entries(t.options||{}).forEach(([i,s])=>{n[i]=s.current}),r=new Ce.fabric.Image.filters[lf(t.name)](n)),r.name=t.name,r}hasOptions(t){return!!this.getByName(t).options}findFilterIndex(t,n){if(!(n!=null&&n.length))return-1;const r=this.getByName(t);return n.findIndex(i=>this.configMatchesFabricFilter(r,i))}syncState(){var r;const t=[];(((r=this.getImages()[0])==null?void 0:r.filters)||[]).forEach(i=>{const s=this.getByFabricFilter(i);s&&t.push(s.name)}),he.setState({filter:{...D().filter,applied:t}})}getByFabricFilter(t){return af.find(n=>this.configMatchesFabricFilter(n,t))}configMatchesFabricFilter(t,n){const r=n.type.toLowerCase().replace(" ","");return r===t.fabricType||r===t.name?!0:r==="convolute"&&this.matrixAreEqual(t.matrix,n.matrix)}matrixAreEqual(t,n){if(!t||!n||t.length!==n.length)return!1;for(let r=t.length;r--;)if(t[r]!==n[r])return!1;return!0}getImages(){return L().objects.getAll().filter(t=>t.name===rt.Image||t.name===rt.MainImage)}}function DR(e){return e.width<zC(e.usePercentages)&&(e.width=zC(e.usePercentages),e.maintainAspect&&(e.height=uf(e.width,e.usePercentages))),e.width>BC(e.usePercentages)&&(e.width=BC(e.usePercentages),e.maintainAspect&&(e.height=uf(e.width,e.usePercentages))),e.height<NC(e.usePercentages)&&(e.height=NC(e.usePercentages),e.maintainAspect&&(e.width=hm(e.height,e.usePercentages))),e.height>$C(e.usePercentages)&&(e.height=$C(e.usePercentages),e.maintainAspect&&(e.width=hm(e.height,e.usePercentages))),e}function zC(e){var n,r;const t=((r=(n=D().config.tools)==null?void 0:n.resize)==null?void 0:r.minWidth)||50;return e?Math.ceil(t*100/D().original.width):t}function BC(e){var n,r;const t=((r=(n=D().config.tools)==null?void 0:n.resize)==null?void 0:r.maxWidth)||2400;return e?Math.ceil(t*100/D().original.width):t}function NC(e){var n,r;const t=((r=(n=D().config.tools)==null?void 0:n.resize)==null?void 0:r.minHeight)||50;return e?Math.ceil(t*100/D().original.height):t}function $C(e){var n,r;const t=((r=(n=D().config.tools)==null?void 0:n.resize)==null?void 0:r.maxHeight)||2400;return e?Math.ceil(t*100/D().original.height):t}function hm(e,t){if(t)return e;const n=D().original.height/e;return Math.floor(D().original.width/n)}function uf(e,t){if(t)return e;const n=D().original.width/e;return Math.floor(D().original.height/n)}class AR{apply(t){const{width:n,height:r,usePercentages:i}=DR(t),s=Math.ceil(D().original.width),h=Math.ceil(D().original.height),a=Math.ceil(n),o=Math.ceil(r);let u,d;i?(u=n/100,d=r/100):(u=n/D().original.width,d=r/D().original.height),!(s===a&&h===o)&&this.resize(u,d)}resize(t,n){L().zoom.set(1,!1);const r=Math.round(D().original.height*n),i=Math.round(D().original.width*t);L().canvas.resize(i,r,{applyZoom:!1,resizeHelper:!0}),L().objects.getAll().forEach(s=>{const h=s.scaleX||1,a=s.scaleY||1,o=s.left||0,u=s.top||0,d=h*t,l=a*n,c=o*t,f=u*n;s.scaleX=d,s.scaleY=l,s.left=c,s.top=f,s.setCoords()}),L().zoom.fitToScreen(),pe().requestRenderAll()}}function MR(e,t){t.innerZone!==null&&(t=t,jR(e,t),RR(e,t),FR(e,t))}function jR(e,t){t.innerZone.style.width=`${e.width}px`,t.innerZone.style.height=`${e.height}px`,t.innerZone.style.transform=`translate(${e.left}px, ${e.top}px)`}function RR(e,t){const n=D().canvasSize.width,r=D().canvasSize.height;t.maskTop.style.height=`${e.top}px`,t.maskTop.style.width=`${n}px`,t.maskLeft.style.top=`${e.top}px`,t.maskLeft.style.height=`${e.height}px`,t.maskLeft.style.width=`${e.left}px`;const i=e.left+e.width;t.maskRight.style.left=`${i}px`,t.maskRight.style.top=`${e.top}px`,t.maskRight.style.height=`${e.height}px`,t.maskRight.style.width=`${n-i}px`,t.maskBottom.style.height=`${r-(e.top+e.height)}px`,t.maskBottom.style.width=`${n}px`}function FR(e,t){const n=(e.width-2)/3;t.lineVer1.style.height=`${e.height}px`,t.lineVer1.style.transform=`translate(${n}px, 0)`,t.lineVer2.style.height=`${e.height}px`,t.lineVer2.style.transform=`translate(${n*2}px, 0)`;const r=(e.height-2)/3;t.lineHor1.style.width=`${e.width}px`,t.lineHor1.style.transform=`translate(0, ${r}px)`,t.lineHor2.style.width=`${e.width}px`,t.lineHor2.style.transform=`translate(0, ${r*2}px)`}function dm(e,t,n){let r=t,i=n;return e&&(n*e>t?i=t/e:r=n*e),{width:Math.floor(r),height:Math.floor(i)}}function pm(e){if(!e)return null;const t=e.split(":");return parseInt(t[0])/parseInt(t[1])}function IR(e,t=null){const n={width:e.width,height:e.height,top:0,left:0,angle:0};if(t){const r=dm(t,n.width,n.height);n.width=r.width,n.height=r.height}return n.left=(e.width-n.width)/2,n.top=(e.height-n.height)/2,n}class LR{constructor(){Te(this,"refs",null)}apply(t){var i;const n=(i=L().frame.active.config)==null?void 0:i.name,r=L().frame.active.currentSizeInPercent;return L().frame.active.hide(),L().merge.apply().then(()=>{L().canvas.resize(Math.round(t.width),Math.round(t.height),{applyZoom:!0,resizeHelper:!0});const s=L().canvas.getMainImage();s.cropX=Math.round(t.left),s.cropY=Math.round(t.top),s.width=Math.round(t.width),s.height=Math.round(t.height),s.viewportCenter(),n&&L().frame.add(n,r),L().zoom.fitToScreen(),L().canvas.render()})}drawZone(t){var n;(n=this.refs)!=null&&n.current&&(D().crop.setCropzoneRect(t),MR(t,this.refs.current))}resetCropzone(t){const n=D().canvasSize,r=pm(t);if(!n)return;D().crop.setAspectRatio(t);const i=IR(n,r);this.drawZone(i)}registerRefs(t){this.refs=t}}class zR{getShapeByName(t){var r,i;const n=(i=(r=D().config.tools)==null?void 0:r.shapes)==null?void 0:i.items;return(n==null?void 0:n.find(s=>s.name===t))||null}addBasicShape(t){var o;const n=this.getShapeByName(t);if(!n)return null;const{width:r,height:i,...s}=((o=D().config.objectDefaults)==null?void 0:o.shape)||{},h={...s,...n.options};let a;if(n.name==="circle")a=new Ce.fabric.Circle({...h,radius:100});else if(n.name==="ellipse")a=new Ce.fabric.Ellipse({...h,rx:100,ry:50});else if(n.type==="Path")a=new Ce.fabric.Path(h.path,{displayName:n.name,...h});else{const u=n.type;a=new Ce.fabric[u]({...h,width:150,height:150})}return this.addAndPositionShape(a,rt.Shape,{width:r,height:i}),a}addSticker(t,n){var i,s,h;const r=(h=(s=(i=D().config.tools)==null?void 0:i.stickers)==null?void 0:s.items)==null?void 0:h.find(a=>a.name===t);if(!r)return Promise.resolve();if(r.type==="svg"){const a=gm(r,n);return this.addSvgSticker(a)}return this.addRegularSticker(r,n)}addRegularSticker(t,n){return new Promise(r=>{Ce.fabric.util.loadImage(gm(t,n),i=>{var u;const{width:s,height:h,...a}=((u=D().config.objectDefaults)==null?void 0:u.sticker)||{},o=new Ce.fabric.Image(i,a);this.addAndPositionShape(o,rt.Sticker,{width:s,height:h}),r()})})}addSvgSticker(t,n=rt.Sticker){return new Promise(r=>{Ce.fabric.loadSVGFromURL(t,(i,s)=>{var d;const{width:h,height:a,...o}=((d=D().config.objectDefaults)==null?void 0:d.sticker)||{},u=Ce.fabric.util.groupSVGElements(i,s);u.set(o),this.addAndPositionShape(u,n,{width:h,height:a}),r()})})}addAndPositionShape(t,n,{width:r}){t.name=n,t.scaleX=1,t.scaleY=1,pe().add(t);const i=r||D().original.width*D().zoom/4;t.scaleToWidth(Math.min(150,i)),t.viewportCenter(),t.setCoords(),L().canvas.render(),pe().setActiveObject(t)}}function gm(e,t){return hn(`images/stickers/${e.name}/${t}.${e.type}`)}class BR{constructor(t){Te(this,"patternCache",[]);this.activeFrame=t}fillParts(t){this.patternCache.forEach(n=>{this.fillPartWithPattern(n,t)})}fillPartWithPattern(t,n){if(!this.activeFrame.parts)return;t.canvas=new Ce.fabric.StaticCanvas(null),t.canvas.add(t.img);const r=new Ce.fabric.Pattern({source:t.canvas.getElement(),repeat:n==="repeat"?"repeat":"no-repeat"});this.activeFrame.parts[t.name]&&this.activeFrame.parts[t.name].set("fill",r)}scale(t){if(!this.activeFrame.config||!this.patternCache)return;const n=this.activeFrame.config.mode;t/=pe().getRetinaScaling(),this.patternCache.forEach(r=>{this.activeFrame.parts&&(r.name==="top"||r.name==="bottom"?n==="stretch"?(this.scalePatternToWidth(r.img,this.activeFrame.parts.top.getScaledWidth()),this.scalePatternToHeight(r.img,t)):r.img.scaleToHeight(t):r.name==="left"||r.name==="right"?n==="stretch"?(this.scalePatternToWidth(r.img,t),this.scalePatternToHeight(r.img,this.activeFrame.parts.left.getScaledHeight())):r.img.scaleToWidth(t):n==="stretch"?(this.scalePatternToWidth(r.img,t),this.scalePatternToHeight(r.img,t)):r.img.scaleToWidth(t),r.canvas.setDimensions({width:r.img.getScaledWidth(),height:r.img.getScaledHeight()}))}),L().canvas.render()}scalePatternToWidth(t,n){if(!t.width)return;const r=t.getBoundingRect().width/t.getScaledWidth();t.set("scaleX",n/t.width/r),t.setCoords()}scalePatternToHeight(t,n){if(!t.height)return;const r=t.getBoundingRect().height/t.getScaledHeight();t.set("scaleY",n/t.height/r),t.setCoords()}load(t){const n=this.activeFrame.getPartNames().map(r=>new Promise(i=>{const s={...zi,originX:"left",originY:"top"};D().config.crossOrigin&&(s.crossOrigin="anonymous"),Ce.fabric.Image.fromURL(this.getPartUrl(t,r),h=>{i({name:r,img:h})},s)}));return Promise.all(n).then(r=>{this.patternCache=r,this.fillParts(t.mode)})}getPartUrl(t,n){return hn(`images/frames/${t.name}/${n}.png`)}}class NR{constructor(t,n){this.activeFrame=t,this.patterns=n}get defaultColor(){var t,n;return(n=(t=D().config.objectDefaults)==null?void 0:t.global)==null?void 0:n.fill}build(t,n){if(this.createParts(t),this.resize(n),this.activeFrame.config=t,t.mode==="basic"){L().canvas.render();return}this.patterns.load(t).then(()=>{this.patterns.scale(n),L().canvas.render()})}createParts(t){const n={};this.activeFrame.getPartNames().forEach(r=>{const i=t.mode==="basic"?this.defaultColor:void 0;n[r]=new Ce.fabric.Rect({...zi,fill:i,originX:"left",originY:"top",name:`frame.rect.${r}`,objectCaching:!1,data:{pixieInternal:!0}}),pe().add(n[r])}),this.activeFrame.parts=n}resize(t){const n=D().original.width,r=D().original.height,i=this.activeFrame,s=t;i.parts&&(i.parts.topLeft.set({width:s,height:s}),i.parts.topRight.set({left:n-i.parts.topLeft.getScaledWidth(),width:s,height:s}),i.parts.top.set({left:i.parts.topLeft.getScaledWidth()-1,width:n-i.parts.topLeft.getScaledWidth()-i.parts.topRight.getScaledWidth()+3,height:s}),i.parts.bottomLeft.set({top:r-i.parts.topLeft.getScaledHeight(),width:s,height:s}),i.parts.left.set({top:i.parts.topLeft.getScaledHeight()-1,width:s,height:r-i.parts.topLeft.getScaledHeight()-i.parts.bottomLeft.getScaledHeight()+3}),i.parts.bottomRight.set({left:n-i.parts.bottomLeft.getScaledWidth(),top:r-i.parts.topRight.getScaledWidth(),width:s,height:s}),i.parts.bottom.set({left:i.parts.top.left,top:r-i.parts.top.getScaledHeight(),width:i.parts.top.getScaledWidth(),height:s}),i.parts.right.set({left:n-i.parts.left.getScaledWidth(),top:i.parts.left.top,width:i.parts.left.width,height:i.parts.left.getScaledHeight()}))}}class $R{constructor(){Te(this,"corners",["topLeft","topRight","bottomLeft","bottomRight"]);Te(this,"sides",["top","right","bottom","left"]);Te(this,"parts",null);Te(this,"config",null);Te(this,"currentSizeInPercent",100)}getPartNames(){return[...this.corners,...this.sides]}hide(){this.parts&&(Object.values(this.parts).forEach(t=>t.set({visible:!1})),L().canvas.render())}show(){this.parts&&(Object.values(this.parts).forEach(t=>t.set({visible:!0})),L().canvas.render())}remove(){this.parts&&(this.config=null,Object.values(this.parts).forEach(t=>{pe().remove(t)}),this.parts=null,L().canvas.render())}is(t){return this.config?this.config.name===t.name:!1}changeColor(t){var n;((n=this.config)==null?void 0:n.mode)!=="basic"||!this.parts||(Object.values(this.parts).forEach(r=>{r.set("fill",t)}),L().canvas.render())}getMinSize(){var t;return((t=this.config)==null?void 0:t.size.min)??1}getMaxSize(){var t;return((t=this.config)==null?void 0:t.size.max)??35}}class VR{constructor(){Te(this,"patterns");Te(this,"builder");Te(this,"active");this.active=new $R,this.patterns=new BR(this.active),this.builder=new NR(this.active,this.patterns),pe().on("object:added",()=>{Object.values(this.active.parts||[]).forEach(t=>t.moveTo(98))})}add(t,n){const r=this.getByName(t);if(!r||this.active.is(r))return;this.active.remove(),this.active.currentSizeInPercent=n??r.size.default;const i=this.calcFrameSizeInPixels(this.active.currentSizeInPercent);this.builder.build(r,i),D().frame.select(r)}resize(t){if(!this.active.parts||!this.active.config)return;t?this.active.currentSizeInPercent=t:t=this.active.currentSizeInPercent;const n=this.calcFrameSizeInPixels(t);this.builder.resize(n),this.patterns.scale(n),L().canvas.render()}changeColor(t){this.active.changeColor(t)}remove(){this.active.remove(),D().frame.deselect()}getByName(t){var r,i;const n=(i=(r=D().config.tools)==null?void 0:r.frame)==null?void 0:i.items;if(n)return n.find(s=>s.name===t)}getActiveFrameConfig(){return this.active.config}calcFrameSizeInPixels(t){const n=Math.min(D().original.width,D().original.height);return Math.ceil(t/100*n)}}class HR{constructor(){Te(this,"minWidth",250)}add(t,n={}){var s,h,a,o,u;if(t=t||((h=(s=D().config.tools)==null?void 0:s.text)==null?void 0:h.defaultText),!t)return;const r={...(a=D().config.objectDefaults)==null?void 0:a.text,...n,name:rt.Text,padding:(u=(o=D().config.tools)==null?void 0:o.text)==null?void 0:u.controlsPadding,editingBorderColor:Xh.fill},i=new Ce.fabric.IText(t,r);pe().add(i),n.left==null&&n.top==null&&this.autoPositionText(i),L().objects.select(i)}autoPositionText(t){const n=pe().getWidth(),r=pe().getHeight(),i=Math.min(pe().getWidth(),this.minWidth);t.scaleToWidth(Math.max(n/3,i)),t.getScaledHeight()>r&&t.scaleToHeight(r-t.getScaledHeight()-20),t.viewportCenter(),pe().getObjects("i-text").forEach(s=>{if(s!==t&&s.intersectsWithObject(t)){const h=s.top-t.top+s.getScaledHeight();let a=t.top+h;a>D().original.height-s.getScaledHeight()&&(a=0),t.set("top",a),t.setCoords()}})}selectOrAddText(t,n={}){if(D().objects.active.isText)return!1;const r=L().objects.getAll().find(i=>$r(i));return r?(L().objects.select(r),!1):(this.add(t,n),!0)}}const UR=e=>{const t=new Ce.fabric.PatternBrush(e);return t.getPatternSrc=function(){const r=Ce.fabric.document.createElement("canvas");r.width=10,r.height=10;const i=r.getContext("2d");return i.strokeStyle=this.color,i.lineWidth=5,i.beginPath(),i.moveTo(0,5),i.lineTo(10,5),i.closePath(),i.stroke(),r},t},WR=e=>{const t=new Ce.fabric.PatternBrush(e);return t.getPatternSrc=function(){const r=document.createElement("canvas");r.width=10,r.height=10;const i=r.getContext("2d");return i.strokeStyle=this.color,i.lineWidth=5,i.beginPath(),i.moveTo(5,0),i.lineTo(5,10),i.closePath(),i.stroke(),r},t},XR=e=>{const t=new Ce.fabric.PatternBrush(e);return t.getPatternSrc=function(){const r=this.width/2,i=5,s=document.createElement("canvas"),h=new Ce.fabric.Rect({width:r,height:r,angle:45,fill:this.color}),a=h.getBoundingRect().width;s.width=a+i,s.height=a+i,h.set({left:a/2,top:a/2});const o=s.getContext("2d");return h.render(o),s},t},YR=e=>{const t=new Ce.fabric.PatternBrush(e);return t.getPatternSrc=function(){const s=document.createElement("canvas");s.width=10+2,s.height=10+2;const h=s.getContext("2d");return h.fillStyle=this.color,h.fillRect(0,0,10,10),s},t};class GR{constructor(){Te(this,"customBrushes",{VLineBrush:UR,HLineBrush:WR,DiamondBrush:XR,SquareBrush:YR});Te(this,"currentBrush",{type:"PencilBrush",color:(o5=(s5=D().config.objectDefaults)==null?void 0:s5.global)==null?void 0:o5.fill,width:Hy[1]});Te(this,"onPathCreated",t=>{t.path.name=rt.Drawing,t.path.set(KR()),D().setDirty(!0)})}enable(){pe().on("path:created",this.onPathCreated),pe().isDrawingMode=!0,this.setBrushType(this.currentBrush.type),this.setBrushSize(this.currentBrush.width)}disable(){pe().off("path:created",this.onPathCreated),pe().isDrawingMode=!1}getBrushType(){return this.currentBrush.type}setBrushType(t){this.currentBrush.type=t,pe().freeDrawingBrush=t in Ce.fabric?new Ce.fabric[t](pe()):this.customBrushes[t](pe()),this.applyBrushStyles()}applyBrushStyles(){Object.keys(this.currentBrush).forEach(n=>{pe().freeDrawingBrush[n]=this.currentBrush[n]});const t=pe().freeDrawingBrush;t.getPatternSrc&&(t.source=t.getPatternSrc.call(t))}setBrushSize(t){this.currentBrush.width=t,this.applyBrushStyles()}getBrushSize(){return this.currentBrush.width}setBrushColor(t){this.currentBrush.color=t,this.applyBrushStyles()}getBrushColor(){return this.currentBrush.color}}function KR(){const e={...zi};return delete e.strokeWidth,e}function VC(e){var n;return((n=/(?:\.([^.]+))?$/.exec(e))==null?void 0:n[1])||""}function qR(e){const t={md:"text/markdown",markdown:"text/markdown",mp4:"video/mp4",mp3:"audio/mp3",svg:"image/svg+xml",jpg:"image/jpeg",png:"image/png",gif:"image/gif",yaml:"text/yaml",yml:"text/yaml"},n=e.name?VC(e.name):null;return e.type?e.type:n&&n in t?t[n]:"application/octet-stream"}let QR=0;function JR(){return QR}class cf{constructor(t,n){Te(this,"id");Te(this,"fingerprint");Te(this,"name");Te(this,"relativePath","");Te(this,"size");Te(this,"mime","");Te(this,"extension","");Te(this,"native");Te(this,"lastModified");Te(this,"cachedData");this.id=L1(),this.name=t.name,this.size=t.size,this.mime=qR(t),this.lastModified=t.lastModified,this.extension=VC(t.name)||"bin",this.native=t,n=n||t.webkitRelativePath||"",n=n.replace(/^\/+/g,""),n&&n.split("/").length>1&&(this.relativePath=n),this.fingerprint=ZR({name:this.name,size:this.size,mime:this.mime,lastModified:this.lastModified})}get data(){return new Promise(t=>{this.cachedData&&t(this.cachedData);const n=new FileReader;n.addEventListener("load",()=>{this.cachedData=n.result,t(this.cachedData)}),this.extension==="json"?n.readAsText(this.native):n.readAsDataURL(this.native)})}}function ZR({name:e,mime:t,size:n,relativePath:r,lastModified:i}){let s="be";return typeof e=="string"&&(s+=`-${HC(e.toLowerCase())}`),t&&(s+=`-${t}`),typeof r=="string"&&(s+=`-${HC(r.toLowerCase())}`),n!==void 0&&(s+=`-${n}`),i!==void 0&&(s+=`-${i}`),s+=`${JR()}`,`${s}-v1`}function eF(e){return e.charCodeAt(0).toString(32)}function HC(e){let t="";return e.replace(/[^A-Z0-9]/gi,n=>(t+=`-${eF(n)}`,"/"))+t}function tF(e={}){const t=document.querySelector("#hidden-file-upload-input");t&&t.remove();const n=document.createElement("input");return n.type="file",n.multiple=e.multiple??!1,n.classList.add("hidden"),n.style.display="none",n.style.visibility="hidden",n.id="hidden-file-upload-input",n.accept=nF(e),e.directory&&(n.webkitdirectory=!0),document.body.appendChild(n),n}function nF({extensions:e=[],types:t=[]}){const n=[];return e!=null&&e.length&&(e=e.map(r=>r.startsWith(".")?r:`.${r}`),n.push(e.join(","))),t!=null&&t.length&&n.push(t.join(",")),n.join(",")}function rF(e={}){return new Promise(t=>{const n=tF(e);n.onchange=r=>{const i=r.target.files;if(!i)return t([]);const s=Array.from(i).filter(h=>h.name!==".DS_Store").map(h=>new cf(h));t(s),n.remove()},document.body.appendChild(n),n.click()})}async function UC(e,t=!0,n=!0){const r=await MC(e);if(r)return new Promise(i=>{r.name=rt.Image,r.opacity=0;const s=D().original.width,h=D().original.height;if(t&&(r.width>=s||r.height>=h)){const a=s-.1*s,o=h-.1*h,u=1/Math.min(o/r.getScaledHeight(),a/r.getScaledWidth());r.scaleX*=1/u,r.scaleY*=1/u}D().fabric.add(r),n&&D().fabric.setActiveObject(r),r.viewportCenter(),r.setCoords(),D().fabric.requestRenderAll(),L().zoom.fitToScreen(),r.animate("opacity","1",{duration:425,onChange:()=>{D().fabric.requestRenderAll()},onComplete:()=>{i(r)}})})}var mm=(e=>(e.image="image/*",e.audio="audio/*",e.text="text/*",e.json="application/json",e.video="video/mp4,video/mpeg,video/x-m4v,video/*",e))(mm||{});function iF(e,t=1){if(e==null||Number.isNaN(e))return"";const n=e<0,r=["B","KB","MB","GB","TB","PB","EB","ZB","YB"];if(n&&(e=-e),e<1)return`${(n?"-":"")+e} B`;const i=Math.min(Math.floor(Math.log(e)/Math.log(1024)),r.length-1);e=Number(e/Math.pow(1024,i));const s=r[i];return e>=10||e%1===0?`${(n?"-":"")+e.toFixed(0)} ${s}`:`${(n?"-":"")+e.toFixed(t)} ${s}`}function WC(e,t){this.text=e=e||"",this.hasWild=~e.indexOf("*"),this.separator=t,this.parts=e.split(t)}WC.prototype.match=function(e){var t=!0,n=this.parts,r,i=n.length,s;if(typeof e=="string"||e instanceof String)if(!this.hasWild&&this.text!=e)t=!1;else{for(s=(e||"").split(this.separator),r=0;t&&r<i;r++)n[r]!=="*"&&(r<s.length?t=n[r]===s[r]:t=!1);t=t&&s}else if(typeof e.splice=="function")for(t=[],r=e.length;r--;)this.match(e[r])&&(t[t.length]=e[r]);else if(typeof e=="object"){t={};for(var h in e)this.match(h)&&(t[h]=e[h])}return t};var sF=function(e,t,n){var r=new WC(e,n||/[\/\.]/);return typeof t<"u"?r.match(t):r},oF=sF,aF=/[\/\+\.]/,lF=function(e,t){function n(r){var i=oF(r,e,aF);return i&&i.length>=2}return t?n(t.split(";")[0]):n};const uF=Ae(lF);function cF(e,t){if(!t)return;const{maxFileSize:n,allowedFileTypes:r,blockedFileTypes:i}=t;if(n&&e.size!=null&&e.size>n)return ae("`:file` exceeds maximum allowed size of :size",{values:{file:e.name,size:iF(n)}});if(r!=null&&r.length&&!XC(e,r)||i!=null&&i.length&&XC(e,i))return ae("This file type is not allowed")}function XC(e,t){return t.map(n=>n.split(",")).flat().some(n=>{if(n.includes("/"))return e.mime?uF(e.mime.replace(/;.*?$/,""),n):!1;const r=n.replace(".","").toLowerCase();return r&&e.extension?e.extension.toLowerCase()===r:!1})}function fF(e,t){if(e==null)return 0;switch(t){case"KB":return e*1024;case"MB":return e*1024**2;case"GB":return e*1024**3;case"TB":return e*1024**4;case"PB":return e*1024**5;default:return e}}class hF{async uploadAndAddImage(t=!0){const n=await this.openUploadWindow();await this.openUploadedFile(n,t)}async uploadAndReplaceMainImage(){const t=await this.openUploadWindow();t&&await this.openBackgroundImage(t)}async uploadAndOpenStateFile(){const t=await this.openUploadWindow(pF);t&&await this.loadState(await t.data)}async addImageFromUrl(t,n=!0){var r,i;await UC(t,((i=(r=D().config.tools)==null?void 0:r.import)==null?void 0:i.fitOverlayToScreen)??!0,n),L().history.addHistoryItem({name:"overlayImage"})}async addImageFromData(t,n=!0){var r,i;await UC(t,((i=(r=D().config.tools)==null?void 0:r.import)==null?void 0:i.fitOverlayToScreen)??!0,n),L().history.addHistoryItem({name:"overlayImage"})}async openUploadedFile(t,n=!0){if(!t)return;const r=await t.data;switch(t.extension){case"json":await this.loadState(r);break;case"svg":await L().shape.addSvgSticker(r,rt.Image),L().history.addHistoryItem({name:"overlayImage"});break;default:await this.addImageFromData(r,n)}}async loadState(t){D().toggleLoading("state"),await ud();let n;typeof t=="string"?t.endsWith(".json")?n=await Eu(t):n=JSON.parse(t):n=t,n.history?D().history.reset(n.history):await L().history.addInitial(n),await L().history.reload(),D().toggleLoading(!1)}async openUploadWindow(t){var r,i;t=t||dF();const n=(await rF(t))[0];return this.fileIsValid(n)?((i=(r=D().config).onFileOpen)==null||i.call(r,n),n):null}async openBackgroundImage(t){await ud();let n;t instanceof HTMLImageElement?n=t.src:t instanceof cf?n=await t.data:n=t;const r=await L().canvas.addMainImage(n);return await L().history.addInitial(),r}fileIsValid(t){var s,h,a,o;const n=((h=(s=D().config.tools)==null?void 0:s.import)==null?void 0:h.maxFileSize)??fF(10,"MB"),r=[...((o=(a=D().config.tools)==null?void 0:a.import)==null?void 0:o.validImgExtensions)??[],"json"],i=cF(t,{maxFileSize:n,allowedFileTypes:r});return i?(Hs.danger(i),!1):!0}}function dF(){var t,n;const e=(n=(t=D().config.tools)==null?void 0:t.import)==null?void 0:n.validImgExtensions;return e?{extensions:e}:{types:[mm.image]}}const pF={types:[".json",mm.json]};class gF{constructor(){Te(this,"watermark",null);Te(this,"lineStyle",{stroke:"rgba(255,255,255,0.3)",strokeWidth:5,strokeLineCap:"round",strokeLineJoin:"round"})}add(t){this.createGroup(),this.addText(t),this.addLines(),pe().add(this.watermark),L().canvas.render()}remove(){this.watermark&&(pe().remove(this.watermark),this.watermark=null,L().canvas.render())}createGroup(){this.watermark=new Ce.fabric.Group(void 0,{...zi,width:D().original.width,height:D().original.height,excludeFromExport:!0,top:0,left:0,originX:"left",originY:"top"})}addText(t){var r;const n=new Ce.fabric.Text(t,{fill:"rgba(255,255,255,0.3)",strokeWidth:2,stroke:"rgba(255,255,255,0.4)",originX:"center",originY:"center",fontWeight:600,fontSize:150,fontFamily:"Courier New"});n.scaleToWidth(D().original.width/2),(r=this.watermark)==null||r.add(n)}addLines(){var d;if(!this.watermark)return;const t=(d=this.watermark)==null?void 0:d.getObjects("text")[0],n=D().original.width/2,r=D().original.height/2,i=100,s=t.width/4,h=new Ce.fabric.Line(void 0,this.lineStyle),a=new Ce.fabric.Line(void 0,this.lineStyle),o=new Ce.fabric.Line(void 0,this.lineStyle),u=new Ce.fabric.Line(void 0,this.lineStyle);this.watermark.add(h,a,o,u),h.set({x1:s,y1:-i,x2:n,y2:-r}),a.set({x1:s,y1:i,x2:n,y2:r}),o.set({x1:-s,y1:-i,x2:-n,y2:-r}),u.set({x1:-s,y1:i,x2:-n,y2:r})}}var YC={exports:{}};(function(e,t){(function(n,r){r()})(Me,function(){function n(u,d){return typeof d>"u"?d={autoBom:!1}:typeof d!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),d={autoBom:!d}),d.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(u.type)?new Blob(["\uFEFF",u],{type:u.type}):u}function r(u,d,l){var c=new XMLHttpRequest;c.open("GET",u),c.responseType="blob",c.onload=function(){o(c.response,d,l)},c.onerror=function(){console.error("could not download file")},c.send()}function i(u){var d=new XMLHttpRequest;d.open("HEAD",u,!1);try{d.send()}catch{}return 200<=d.status&&299>=d.status}function s(u){try{u.dispatchEvent(new MouseEvent("click"))}catch{var d=document.createEvent("MouseEvents");d.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),u.dispatchEvent(d)}}var h=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Me=="object"&&Me.global===Me?Me:void 0,a=h.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),o=h.saveAs||(typeof window!="object"||window!==h?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(u,d,l){var c=h.URL||h.webkitURL,f=document.createElement("a");d=d||u.name||"download",f.download=d,f.rel="noopener",typeof u=="string"?(f.href=u,f.origin===location.origin?s(f):i(f.href)?r(u,d,l):s(f,f.target="_blank")):(f.href=c.createObjectURL(u),setTimeout(function(){c.revokeObjectURL(f.href)},4e4),setTimeout(function(){s(f)},0))}:"msSaveOrOpenBlob"in navigator?function(u,d,l){if(d=d||u.name||"download",typeof u!="string")navigator.msSaveOrOpenBlob(n(u,l),d);else if(i(u))r(u,d,l);else{var c=document.createElement("a");c.href=u,c.target="_blank",setTimeout(function(){s(c)})}}:function(u,d,l,c){if(c=c||open("","_blank"),c&&(c.document.title=c.document.body.innerText="downloading..."),typeof u=="string")return r(u,d,l);var f=u.type==="application/octet-stream",p=/constructor/i.test(h.HTMLElement)||h.safari,m=/CriOS\/[\d]+/.test(navigator.userAgent);if((m||f&&p||a)&&typeof FileReader<"u"){var g=new FileReader;g.onloadend=function(){var b=g.result;b=m?b:b.replace(/^data:[^;]*;/,"data:attachment/file;"),c?c.location.href=b:location=b,c=null},g.readAsDataURL(u)}else{var v=h.URL||h.webkitURL,y=v.createObjectURL(u);c?c.location=y:location.href=y,c=null,setTimeout(function(){v.revokeObjectURL(y)},4e4)}});h.saveAs=o.saveAs=o,e.exports=o})})(YC);var mF=YC.exports;function vF(e,t,n){t=t||"",n=n||512;const r=atob(e),i=[];for(let s=0;s<r.length;s+=n){const h=r.slice(s,s+n),a=new Array(h.length);for(let u=0;u<h.length;u++)a[u]=h.charCodeAt(u);const o=new Uint8Array(a);i.push(o)}return new Blob(i,{type:t})}class yF{save(t,n,r){var a,o,u;const i=(a=D().config.tools)==null?void 0:a.export;t=t||(i==null?void 0:i.defaultName),n=this.getFormat(n),r=this.getQuality(r);const s=`${t}.${n}`;this.applyWaterMark();const h=n==="json"?this.getJsonState():this.getDataUrl(n,r);if(L().watermark.remove(),!!h)if(D().config.saveUrl)fetch(D().config.saveUrl,{method:"POST",body:JSON.stringify({data:h,filename:s,format:n})});else if(D().config.onSave)(u=(o=D().config).onSave)==null||u.call(o,h,s,n);else{const d=this.getCanvasBlob(n,h);mF.saveAs(d,s)}}getDataUrl(t,n){try{return t==="svg"?pe().toSVG():pe().toDataURL({format:this.getFormat(t),quality:this.getQuality(n),multiplier:Math.max(D().original.width/pe().width,D().original.height/pe().height)})}catch(r){r.message.toLowerCase().includes("tainted")&&Hs.danger(ae("Could not export canvas with external image."))}return null}getCanvasBlob(t,n){if(t==="json")return new Blob([n],{type:"application/json"});if(t==="svg")return new Blob([n],{type:"image/svg+xml"});const r=`image/${t}`;return n=n.replace(/data:image\/([a-z]*)?;base64,/,""),vF(n,r)}getJsonState(){return JSON.stringify({...ku(),history:D().history})}applyWaterMark(){const t=D().config.watermarkText;t&&L().watermark.add(t)}getFormat(t){var r;const n=(r=D().config.tools)==null?void 0:r.export;return t=t||(n==null?void 0:n.defaultFormat)||"png",t==="jpg"&&(t="jpeg"),t}getQuality(t){var r;const n=(r=D().config.tools)==null?void 0:r.export;return t=t||(n==null?void 0:n.defaultQuality)||.8,t}}class bF{constructor(){Te(this,"previewRect",null)}async apply(t){this.previewRect||this.showPreview(),this.updatePreview(t),pe().remove(this.previewRect),pe().clipPath=this.previewRect;const n=L().export.getDataUrl();n&&L().canvas.clear(),this.hidePreview(),n&&await L().canvas.addMainImage(n),pe().clipPath=void 0}getPreviewRadius(){var t;return((t=this.previewRect)==null?void 0:t.rx)||0}updatePreview(t){this.previewRect&&(this.previewRect.set({rx:t,ry:t}),L().canvas.render())}showPreview(){const t=D().original.width*.04;this.previewRect=new Ce.fabric.Rect({width:D().original.width,height:D().original.height,rx:t,ry:t,objectCaching:!1,fill:"transparent",name:"round.rect",data:{pixieInternal:!0},stroke:"rgba(255,255,255,0.8)",strokeWidth:3,strokeDashArray:[4,4],selectable:!1,evented:!1}),pe().add(this.previewRect),this.previewRect.moveTo(99),this.previewRect.viewportCenter(),L().canvas.render()}hidePreview(){this.previewRect&&(pe().remove(this.previewRect),L().canvas.render(),this.previewRect=null)}}class wF{get straightenAnchor(){return pe().getObjects().find(t=>t.name===rt.StraightenAnchor)}rotateLeft(){this.rotateFixed(-90)}rotateRight(){this.rotateFixed(90)}straighten(t){this.storeObjectsRelationToHelper(),L().objects.deselectActive();const n=(this.straightenAnchor.data.rotateAngle||0)+t,r=this.getImageScale(n,this.straightenAnchor);this.straightenAnchor.angle=n,this.straightenAnchor.scaleX=r,this.straightenAnchor.scaleY=r,this.straightenAnchor.data.straightenAngle=t,this.transformObjectsBasedOnHelper()}flip(t){const n=t==="horizontal"?"flipY":"flipX";L().objects.getAll().forEach(r=>{r[n]=!r[n]}),L().canvas.render()}rotateFixed(t){L().zoom.set(1,!1),L().objects.deselectActive();const n=this.straightenAnchor.data.rotateAngle||0;t=Math.round(t/90)*90;const r=n+(this.straightenAnchor.data.straightenAngle||0)+t;L().canvas.resize(D().original.height,D().original.width,{applyZoom:!1,resizeHelper:!1}),this.storeObjectsRelationToHelper(),this.straightenAnchor.rotate(r),this.straightenAnchor.data.rotateAngle=n+t,this.straightenAnchor.center(),this.transformObjectsBasedOnHelper(),L().frame.resize(L().frame.active.currentSizeInPercent),requestAnimationFrame(()=>{L().zoom.fitToScreen()})}getImageScale(t,n){t=Ce.fabric.util.degreesToRadians(t);const r=D().original.width,i=D().original.height,s=r/2,h=i/2,a=n.width/2,o=n.height/2,u=Math.sqrt(s**2+h**2),d=Math.asin(h/u);let l=(t%(Math.PI*2)+Math.PI*4)%(Math.PI*2);l>Math.PI&&(l-=Math.PI),l>Math.PI/2&&l<=Math.PI&&(l=Math.PI/2-(l-Math.PI/2));const c=Math.PI/2-d-Math.abs(l),f=Math.abs(d-Math.abs(l)),p=Math.cos(c)*u,m=Math.cos(f)*u;return Math.max(m/a,p/o)}storeObjectsRelationToHelper(){L().objects.getAll().forEach(t=>{if(t!==this.straightenAnchor){const n=Ce.fabric.util.multiplyTransformMatrices(Ce.fabric.util.invertTransform(this.straightenAnchor.calcTransformMatrix()),t.calcTransformMatrix());t.data={...t.data,relationToCanvas:n}}})}transformObjectsBasedOnHelper(){L().objects.getAll().forEach(t=>{if(t.data.relationToCanvas){const n=Ce.fabric.util.multiplyTransformMatrices(this.straightenAnchor.calcTransformMatrix(),t.data.relationToCanvas),r=Ce.fabric.util.qrDecompose(n);t.set({flipX:!1,flipY:!1}),t.setPositionByOrigin({x:r.translateX,y:r.translateY},"center","center"),t.set(r),t.setCoords(),t.data.relationToCanvas=null}})}resetStraightenAnchor(){const t=this.straightenAnchor;t&&pe().remove(t);const n=new Ce.fabric.Rect({...zi,name:rt.StraightenAnchor,visible:!1,width:D().original.width,height:D().original.height,data:{pixieInternal:!0,straightenAngle:0,rotateAngle:0}});pe().add(n),n.viewportCenter()}}function xF(e){const t=hR(e);D().editor.fabric=t,he.setState({fabric:t}),D().editor.tools={canvas:new pR,objects:new wR,zoom:new dR,history:new ER,filter:new PR,resize:new AR,crop:new LR,merge:new TR,shape:new zR,frame:new VR,text:new HR,draw:new GR,transform:new wF,import:new hF,watermark:new gF,export:new yF,corners:new bF}}function GC(e,t){const n=new ResizeObserver(r=>{const i=r[0].contentRect;t({width:i.width,height:i.height})});return e.current&&n.observe(e.current),()=>{e.current&&n.unobserve(e.current)}}function KC(e){const t=e.getBoundingClientRect();return{top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.width,height:t.height}}const qC="flex flex-shrink-0 items-center justify-between px-12 py-[9px] w-full h-[54px]",QC={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,position:"absolute"},transition:{type:"tween",duration:.15}};function vm(e,{padding:t,equalWidth:n,variant:r}={}){switch(e){case"2xs":return r==="link"?"text-xs":`text-xs h-24 ${n?"w-24":t||"px-10"}`;case"xs":return r==="link"?"text-xs":`text-xs h-30 ${n?"w-30":t||"px-14"}`;case"sm":return r==="link"?"text-sm":`text-sm h-36 ${n?"w-36":t||"px-18"}`;case"md":return r==="link"?"text-base":`text-base h-42 ${n?"w-42":t||"px-22"}`;case"lg":return r==="link"?"text-lg":`text-base h-50 ${n?"w-50":t||"px-26"}`;case"xl":return r==="link"?"text-xl":`text-lg h-60 ${n?"w-60":t||"px-32"}`;default:return e||""}}function CF(e){const{variant:t,shadow:n,whitespace:r="whitespace-nowrap",display:i="inline-flex"}=e,s={...e,border:e.border||"border"};let h=[];return t==="outline"?h=SF(s):t==="text"?h=_F(s):t==="flat"||t==="raised"?h=kF(s):t==="link"&&(h=EF(s)),[...h,n||t==="raised"&&"shadow-md",r,i,t&&"align-middle flex-shrink-0 items-center transition-button duration-200","select-none appearance-none no-underline outline-none disabled:pointer-events-none disabled:cursor-default"]}function SF({color:e,border:t}){const n="disabled:text-disabled disabled:bg-transparent disabled:border-disabled-bg";switch(e){case"primary":return[`text-primary bg-transparent ${t} border-primary/50`,"hover:bg-primary/hover hover:border-primary",n];case"danger":return[`text-danger bg-transparent ${t} border-danger/50`,"hover:bg-danger/4 hover:border-danger",n];case"positive":return[`text-positive bg-transparent ${t} border-positive/50`,"hover:bg-positive/4 hover:border-positive",n];case"paper":return[`text bg-paper ${t}`,"hover:bg-hover",n];case"white":return["text-white bg-transparent border border-white","hover:bg-white/20","disabled:text-white/70 disabled:border-white/70 disabled:bg-transparent"];default:return[`bg-transparent ${t}`,"hover:bg-hover",n]}}function _F({color:e}){const t="disabled:text-disabled disabled:bg-transparent";switch(e){case"primary":return["text-primary bg-transparent border-transparent","hover:bg-primary/4",t];case"danger":return["text-danger bg-transparent border-transparent","hover:bg-danger/4",t];case"positive":return["text-positive bg-transparent border-transparent","hover:bg-positive/4",t];case"white":return["text-white bg-transparent border-transparent","hover:bg-white/20","disabled:text-white/70 disabled:bg-transparent"];default:return["bg-transparent border-transparent","hover:bg-hover",t]}}function EF({color:e}){switch(e){case"primary":return["text-primary","hover:underline","disabled:text-disabled"];case"danger":return["text-danger","hover:underline","disabled:text-disabled"];default:return["text-main","hover:underline","disabled:text-disabled"]}}function kF({color:e,border:t}){const n="disabled:text-disabled disabled:bg-disabled disabled:border-transparent disabled:shadow-none";switch(e){case"primary":return[`text-on-primary bg-primary ${t} border-primary`,"hover:bg-primary-dark hover:border-primary-dark",n];case"danger":return[`text-white bg-danger ${t} border-danger`,"hover:bg-danger/90 hover:border-danger/90",n];case"chip":return[`text-main bg-chip ${t} border-chip`,"hover:bg-chip/90 hover:border-chip/90",n];case"paper":return[`text-main bg-paper ${t} border-paper`,"hover:bg-paper/90 hover:border-paper/90",n];case"white":return[`text-black bg-white ${t} border-white`,"hover:bg-white",n];default:return[`bg ${t} border-background`,"hover:bg-hover",n]}}function Qt(e){return e&&(t=>{t.currentTarget.contains(t.target)&&e(t)})}const Er=k.forwardRef((e,t)=>{const{children:n,color:r=null,variant:i,radius:s,shadow:h,whitespace:a,justify:o="justify-center",className:u,href:d,form:l,border:c,elementType:f,to:p,relative:m,replace:g,end:v,display:y,type:b="button",onClick:w,onPointerDown:C,onPointerUp:S,onKeyDown:_,...T}=e,R=f||(d?"a":"button"),F=R==="a";return x.jsx(R,{ref:t,form:F?void 0:l,href:d,to:p,relative:m,type:F?void 0:b,replace:g,end:v,onPointerDown:Qt(C),onPointerUp:Qt(S),onClick:Qt(w),onKeyDown:Qt(_),className:ce("focus-visible:ring",CF({variant:i,color:r,border:c,whitespace:a,display:y}),s,o,u),...T,children:n})}),At=de.forwardRef(({children:e,startIcon:t,endIcon:n,size:r="sm",sizeClassName:i,className:s,equalWidth:h=!1,radius:a="rounded-button",variant:o="text",disabled:u,elementType:d,to:l,replace:c,href:f,download:p,...m},g)=>{const v=ce("font-semibold",i||vm(r,{equalWidth:h,variant:o}),s);return x.jsxs(Er,{className:v,ref:g,radius:a,variant:o,disabled:u,to:u?void 0:l,href:u?void 0:f,download:u?void 0:p,elementType:u?void 0:d,replace:u?void 0:c,...m,children:[t&&x.jsx(JC,{position:"start",icon:t,size:r}),e,n&&x.jsx(JC,{position:"end",icon:n,size:r})]})});function JC({icon:e,position:t,size:n}){const r=ce("m-auto",{"-ml-4 mr-8":t==="start","-mr-4 ml-8":t==="end"},e.props.className);return de.cloneElement(e,{className:r,size:n})}var ZC={exports:{}};(function(e){(function(){var t=Object.assign;typeof t!="function"&&(t=function(){var i=arguments,s=arguments[0];if(s==null)throw new TypeError("Cannot convert undefined or null to object");s=Object(s);for(var h=1;h<i.length;h++)if(i[h]&&typeof i[h]=="object")for(var a in i[h])s[a]=i[h][a];return s});function n(i){var s=i+"",h=s.indexOf("...");return h>=0&&(h<s.indexOf(")")||s.indexOf("arguments")>=0)}function r(i,s){s||(s={});var h=s.vargs||n(i),a=Object.create(null),o=[],u=[],d,l=new WeakMap,c=function(b,w,C){return setTimeout(function(){if(C){w.splice(b,1),C.splice(b,1);return}w instanceof WeakMap?w.delete(b):delete w[b]},s.maxAge)},f=s.maxAge>0&&s.maxAge<1/0?c:0,p=s.equals?s.equals:function(b,w){return b===w},m=s.maxArgs,g=s.serializer,v,y;return i.length===1&&!s.equals&&!h?(v=(function(b){var w=typeof b;if(!g&&(w==="object"&&b||w==="function")){var C;return l.get(b)||(!f||f(b,l),l.set(b,C=i.call(this,b)),C)}var S=w==="number"||w==="boolean"||b==null?b:w==="string"?JSON.stringify(b):g(b);return a[S]||(!f||f(S,a),a[S]=i.call(this,b))}).bind(this),y=1):v=(function(){var b=arguments.length;if(!b&&d!=null)return u[d];var w=m||b,C;for(C=o.length-1;C>=0;C--)if(!(!m&&o[C].length!==w)){for(var S=w-1;S>=0&&p(o[C][S],arguments[S]);S--)if(S===0)return u[C]}return C=o.length-(C+1),!b&&d==null&&(d=C),!f||f(C,u,o),u[C]=i.apply(this,o[C]=arguments)}).bind(this),v.clear=function(){l=new WeakMap,a=Object.create(null),o=[],u=[],d=void 0},v.keys=function(){return y?null:o.slice()},v.values=function(){return y?null:u.slice()},v.keyValues=function(){return y?{primitives:t({},a),objects:l}:null},v}e.exports=r,typeof window<"u"&&(window.nanomemoize=r)}).call(Me)})(ZC);var TF=ZC.exports;const gl=Ae(TF);function OF({children:e,label:t,index:n}){const r=k.useId();return x.jsxs("div",{role:"group",className:ce(n!==0&&"border-t my-4"),"aria-labelledby":t?`be-select-${r}`:void 0,children:[t&&x.jsx("div",{className:"block uppercase text-muted text-xs px-16 py-10",role:"presentation",id:`be-select-${r}`,"aria-hidden":"true",children:t}),e]})}const PF=gl(({maxItems:e,children:t,items:n,inputValue:r})=>{let i=AF({children:t,items:n}),s=DF({collection:i,inputValue:r});return e&&(i=new Map([...i.entries()].slice(0,e)),s=new Map([...s.entries()].slice(0,e))),{collection:i,filteredCollection:s}}),DF=gl(({collection:e,inputValue:t})=>{let n=new Map;const r=t?`${t}`.toLowerCase().trim():"";if(!r)n=e;else{let i=0;e.forEach((s,h)=>{(s.item?JSON.stringify(s.item):s.textLabel).toLowerCase().trim().includes(r)&&n.set(h,{...s,index:i++})})}return n}),AF=gl(({children:e,items:t})=>{let n;t&&typeof e=="function"?n=t.map(h=>e(h)):n=e;const r=new Map;let i=0;const s=(h,a,o,u)=>{const d=i++,l=a?t==null?void 0:t[o].items[u]:t==null?void 0:t[d];r.set(h.props.value,{index:d,element:h,textLabel:MF(h),item:l,section:a,isDisabled:h.props.isDisabled,value:h.props.value})};return k.Children.forEach(n,(h,a)=>{k.isValidElement(h)&&(h.type===OF?k.Children.forEach(h.props.children,(o,u)=>{s(o,h,a,u)}):s(h))}),r});function MF(e){var n;const t=e.props.children;return e.props.textLabel?e.props.textLabel:(n=t==null?void 0:t.props)!=null&&n.message?t.props.message:`${t}`||""}const Jn=Math.min,dn=Math.max,ff=Math.round,hf=Math.floor,hi=e=>({x:e,y:e}),jF={left:"right",right:"left",bottom:"top",top:"bottom"},RF={start:"end",end:"start"};function ym(e,t,n){return dn(e,Jn(t,n))}function Oo(e,t){return typeof e=="function"?e(t):e}function di(e){return e.split("-")[0]}function Po(e){return e.split("-")[1]}function eS(e){return e==="x"?"y":"x"}function bm(e){return e==="y"?"height":"width"}function us(e){return["top","bottom"].includes(di(e))?"y":"x"}function wm(e){return eS(us(e))}function FF(e,t,n){n===void 0&&(n=!1);const r=Po(e),i=wm(e),s=bm(i);let h=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(h=df(h)),[h,df(h)]}function IF(e){const t=df(e);return[xm(e),t,xm(t)]}function xm(e){return e.replace(/start|end/g,t=>RF[t])}function LF(e,t,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],h=["bottom","top"];switch(e){case"top":case"bottom":return n?t?i:r:t?r:i;case"left":case"right":return t?s:h;default:return[]}}function zF(e,t,n,r){const i=Po(e);let s=LF(di(e),n==="start",r);return i&&(s=s.map(h=>h+"-"+i),t&&(s=s.concat(s.map(xm)))),s}function df(e){return e.replace(/left|right|bottom|top/g,t=>jF[t])}function BF(e){return{top:0,right:0,bottom:0,left:0,...e}}function tS(e){return typeof e!="number"?BF(e):{top:e,right:e,bottom:e,left:e}}function pf(e){const{x:t,y:n,width:r,height:i}=e;return{width:r,height:i,top:n,left:t,right:t+r,bottom:n+i,x:t,y:n}}function nS(e,t,n){let{reference:r,floating:i}=e;const s=us(t),h=wm(t),a=bm(h),o=di(t),u=s==="y",d=r.x+r.width/2-i.width/2,l=r.y+r.height/2-i.height/2,c=r[a]/2-i[a]/2;let f;switch(o){case"top":f={x:d,y:r.y-i.height};break;case"bottom":f={x:d,y:r.y+r.height};break;case"right":f={x:r.x+r.width,y:l};break;case"left":f={x:r.x-i.width,y:l};break;default:f={x:r.x,y:r.y}}switch(Po(t)){case"start":f[h]-=c*(n&&u?-1:1);break;case"end":f[h]+=c*(n&&u?-1:1);break}return f}const NF=async(e,t,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:h}=n,a=s.filter(Boolean),o=await(h.isRTL==null?void 0:h.isRTL(t));let u=await h.getElementRects({reference:e,floating:t,strategy:i}),{x:d,y:l}=nS(u,r,o),c=r,f={},p=0;for(let m=0;m<a.length;m++){const{name:g,fn:v}=a[m],{x:y,y:b,data:w,reset:C}=await v({x:d,y:l,initialPlacement:r,placement:c,strategy:i,middlewareData:f,rects:u,platform:h,elements:{reference:e,floating:t}});d=y??d,l=b??l,f={...f,[g]:{...f[g],...w}},C&&p<=50&&(p++,typeof C=="object"&&(C.placement&&(c=C.placement),C.rects&&(u=C.rects===!0?await h.getElementRects({reference:e,floating:t,strategy:i}):C.rects),{x:d,y:l}=nS(u,c,o)),m=-1)}return{x:d,y:l,placement:c,strategy:i,middlewareData:f}};async function Cm(e,t){var n;t===void 0&&(t={});const{x:r,y:i,platform:s,rects:h,elements:a,strategy:o}=e,{boundary:u="clippingAncestors",rootBoundary:d="viewport",elementContext:l="floating",altBoundary:c=!1,padding:f=0}=Oo(t,e),p=tS(f),g=a[c?l==="floating"?"reference":"floating":l],v=pf(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(g)))==null||n?g:g.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:u,rootBoundary:d,strategy:o})),y=l==="floating"?{x:r,y:i,width:h.floating.width,height:h.floating.height}:h.reference,b=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),w=await(s.isElement==null?void 0:s.isElement(b))?await(s.getScale==null?void 0:s.getScale(b))||{x:1,y:1}:{x:1,y:1},C=pf(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:y,offsetParent:b,strategy:o}):y);return{top:(v.top-C.top+p.top)/w.y,bottom:(C.bottom-v.bottom+p.bottom)/w.y,left:(v.left-C.left+p.left)/w.x,right:(C.right-v.right+p.right)/w.x}}const $F=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:i,rects:s,platform:h,elements:a,middlewareData:o}=t,{element:u,padding:d=0}=Oo(e,t)||{};if(u==null)return{};const l=tS(d),c={x:n,y:r},f=wm(i),p=bm(f),m=await h.getDimensions(u),g=f==="y",v=g?"top":"left",y=g?"bottom":"right",b=g?"clientHeight":"clientWidth",w=s.reference[p]+s.reference[f]-c[f]-s.floating[p],C=c[f]-s.reference[f],S=await(h.getOffsetParent==null?void 0:h.getOffsetParent(u));let _=S?S[b]:0;(!_||!await(h.isElement==null?void 0:h.isElement(S)))&&(_=a.floating[b]||s.floating[p]);const T=w/2-C/2,R=_/2-m[p]/2-1,F=Jn(l[v],R),$=Jn(l[y],R),G=F,ne=_-m[p]-$,X=_/2-m[p]/2+T,J=ym(G,X,ne),re=!o.arrow&&Po(i)!=null&&X!==J&&s.reference[p]/2-(X<G?F:$)-m[p]/2<0,ie=re?X<G?X-G:X-ne:0;return{[f]:c[f]+ie,data:{[f]:J,centerOffset:X-J-ie,...re&&{alignmentOffset:ie}},reset:re}}}),VF=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:i,middlewareData:s,rects:h,initialPlacement:a,platform:o,elements:u}=t,{mainAxis:d=!0,crossAxis:l=!0,fallbackPlacements:c,fallbackStrategy:f="bestFit",fallbackAxisSideDirection:p="none",flipAlignment:m=!0,...g}=Oo(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const v=di(i),y=us(a),b=di(a)===a,w=await(o.isRTL==null?void 0:o.isRTL(u.floating)),C=c||(b||!m?[df(a)]:IF(a)),S=p!=="none";!c&&S&&C.push(...zF(a,m,p,w));const _=[a,...C],T=await Cm(t,g),R=[];let F=((r=s.flip)==null?void 0:r.overflows)||[];if(d&&R.push(T[v]),l){const X=FF(i,h,w);R.push(T[X[0]],T[X[1]])}if(F=[...F,{placement:i,overflows:R}],!R.every(X=>X<=0)){var $,G;const X=((($=s.flip)==null?void 0:$.index)||0)+1,J=_[X];if(J)return{data:{index:X,overflows:F},reset:{placement:J}};let re=(G=F.filter(ie=>ie.overflows[0]<=0).sort((ie,V)=>ie.overflows[1]-V.overflows[1])[0])==null?void 0:G.placement;if(!re)switch(f){case"bestFit":{var ne;const ie=(ne=F.filter(V=>{if(S){const E=us(V.placement);return E===y||E==="y"}return!0}).map(V=>[V.placement,V.overflows.filter(E=>E>0).reduce((E,P)=>E+P,0)]).sort((V,E)=>V[1]-E[1])[0])==null?void 0:ne[0];ie&&(re=ie);break}case"initialPlacement":re=a;break}if(i!==re)return{reset:{placement:re}}}return{}}}};async function HF(e,t){const{placement:n,platform:r,elements:i}=e,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),h=di(n),a=Po(n),o=us(n)==="y",u=["left","top"].includes(h)?-1:1,d=s&&o?-1:1,l=Oo(t,e);let{mainAxis:c,crossAxis:f,alignmentAxis:p}=typeof l=="number"?{mainAxis:l,crossAxis:0,alignmentAxis:null}:{mainAxis:0,crossAxis:0,alignmentAxis:null,...l};return a&&typeof p=="number"&&(f=a==="end"?p*-1:p),o?{x:f*d,y:c*u}:{x:c*u,y:f*d}}const UF=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:i,y:s,placement:h,middlewareData:a}=t,o=await HF(t,e);return h===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+o.x,y:s+o.y,data:{...o,placement:h}}}}},WF=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:i}=t,{mainAxis:s=!0,crossAxis:h=!1,limiter:a={fn:g=>{let{x:v,y}=g;return{x:v,y}}},...o}=Oo(e,t),u={x:n,y:r},d=await Cm(t,o),l=us(di(i)),c=eS(l);let f=u[c],p=u[l];if(s){const g=c==="y"?"top":"left",v=c==="y"?"bottom":"right",y=f+d[g],b=f-d[v];f=ym(y,f,b)}if(h){const g=l==="y"?"top":"left",v=l==="y"?"bottom":"right",y=p+d[g],b=p-d[v];p=ym(y,p,b)}const m=a.fn({...t,[c]:f,[l]:p});return{...m,data:{x:m.x-n,y:m.y-r}}}}},XF=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){const{placement:n,rects:r,platform:i,elements:s}=t,{apply:h=()=>{},...a}=Oo(e,t),o=await Cm(t,a),u=di(n),d=Po(n),l=us(n)==="y",{width:c,height:f}=r.floating;let p,m;u==="top"||u==="bottom"?(p=u,m=d===(await(i.isRTL==null?void 0:i.isRTL(s.floating))?"start":"end")?"left":"right"):(m=u,p=d==="end"?"top":"bottom");const g=f-o.top-o.bottom,v=c-o.left-o.right,y=Jn(f-o[p],g),b=Jn(c-o[m],v),w=!t.middlewareData.shift;let C=y,S=b;if(l?S=d||w?Jn(b,v):v:C=d||w?Jn(y,g):g,w&&!d){const T=dn(o.left,0),R=dn(o.right,0),F=dn(o.top,0),$=dn(o.bottom,0);l?S=c-2*(T!==0||R!==0?T+R:dn(o.left,o.right)):C=f-2*(F!==0||$!==0?F+$:dn(o.top,o.bottom))}await h({...t,availableWidth:S,availableHeight:C});const _=await i.getDimensions(s.floating);return c!==_.width||f!==_.height?{reset:{rects:!0}}:{}}}};function Do(e){return rS(e)?(e.nodeName||"").toLowerCase():"#document"}function pn(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function kr(e){var t;return(t=(rS(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function rS(e){return e instanceof Node||e instanceof pn(e).Node}function Zn(e){return e instanceof Element||e instanceof pn(e).Element}function er(e){return e instanceof HTMLElement||e instanceof pn(e).HTMLElement}function iS(e){return typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof pn(e).ShadowRoot}function ml(e){const{overflow:t,overflowX:n,overflowY:r,display:i}=Bn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(i)}function YF(e){return["table","td","th"].includes(Do(e))}function gf(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function Sm(e){const t=_m(),n=Bn(e);return n.transform!=="none"||n.perspective!=="none"||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function GF(e){let t=pi(e);for(;er(t)&&!Ao(t);){if(gf(t))return null;if(Sm(t))return t;t=pi(t)}return null}function _m(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Ao(e){return["html","body","#document"].includes(Do(e))}function Bn(e){return pn(e).getComputedStyle(e)}function mf(e){return Zn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function pi(e){if(Do(e)==="html")return e;const t=e.assignedSlot||e.parentNode||iS(e)&&e.host||kr(e);return iS(t)?t.host:t}function sS(e){const t=pi(e);return Ao(t)?e.ownerDocument?e.ownerDocument.body:e.body:er(t)&&ml(t)?t:sS(t)}function vl(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const i=sS(e),s=i===((r=e.ownerDocument)==null?void 0:r.body),h=pn(i);return s?t.concat(h,h.visualViewport||[],ml(i)?i:[],h.frameElement&&n?vl(h.frameElement):[]):t.concat(i,vl(i,[],n))}function oS(e){const t=Bn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const i=er(e),s=i?e.offsetWidth:n,h=i?e.offsetHeight:r,a=ff(n)!==s||ff(r)!==h;return a&&(n=s,r=h),{width:n,height:r,$:a}}function Em(e){return Zn(e)?e:e.contextElement}function Mo(e){const t=Em(e);if(!er(t))return hi(1);const n=t.getBoundingClientRect(),{width:r,height:i,$:s}=oS(t);let h=(s?ff(n.width):n.width)/r,a=(s?ff(n.height):n.height)/i;return(!h||!Number.isFinite(h))&&(h=1),(!a||!Number.isFinite(a))&&(a=1),{x:h,y:a}}const KF=hi(0);function aS(e){const t=pn(e);return!_m()||!t.visualViewport?KF:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function qF(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==pn(e)?!1:t}function cs(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const i=e.getBoundingClientRect(),s=Em(e);let h=hi(1);t&&(r?Zn(r)&&(h=Mo(r)):h=Mo(e));const a=qF(s,n,r)?aS(s):hi(0);let o=(i.left+a.x)/h.x,u=(i.top+a.y)/h.y,d=i.width/h.x,l=i.height/h.y;if(s){const c=pn(s),f=r&&Zn(r)?pn(r):r;let p=c,m=p.frameElement;for(;m&&r&&f!==p;){const g=Mo(m),v=m.getBoundingClientRect(),y=Bn(m),b=v.left+(m.clientLeft+parseFloat(y.paddingLeft))*g.x,w=v.top+(m.clientTop+parseFloat(y.paddingTop))*g.y;o*=g.x,u*=g.y,d*=g.x,l*=g.y,o+=b,u+=w,p=pn(m),m=p.frameElement}}return pf({width:d,height:l,x:o,y:u})}function QF(e){let{elements:t,rect:n,offsetParent:r,strategy:i}=e;const s=i==="fixed",h=kr(r),a=t?gf(t.floating):!1;if(r===h||a&&s)return n;let o={scrollLeft:0,scrollTop:0},u=hi(1);const d=hi(0),l=er(r);if((l||!l&&!s)&&((Do(r)!=="body"||ml(h))&&(o=mf(r)),er(r))){const c=cs(r);u=Mo(r),d.x=c.x+r.clientLeft,d.y=c.y+r.clientTop}return{width:n.width*u.x,height:n.height*u.y,x:n.x*u.x-o.scrollLeft*u.x+d.x,y:n.y*u.y-o.scrollTop*u.y+d.y}}function JF(e){return Array.from(e.getClientRects())}function lS(e){return cs(kr(e)).left+mf(e).scrollLeft}function ZF(e){const t=kr(e),n=mf(e),r=e.ownerDocument.body,i=dn(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=dn(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let h=-n.scrollLeft+lS(e);const a=-n.scrollTop;return Bn(r).direction==="rtl"&&(h+=dn(t.clientWidth,r.clientWidth)-i),{width:i,height:s,x:h,y:a}}function eI(e,t){const n=pn(e),r=kr(e),i=n.visualViewport;let s=r.clientWidth,h=r.clientHeight,a=0,o=0;if(i){s=i.width,h=i.height;const u=_m();(!u||u&&t==="fixed")&&(a=i.offsetLeft,o=i.offsetTop)}return{width:s,height:h,x:a,y:o}}function tI(e,t){const n=cs(e,!0,t==="fixed"),r=n.top+e.clientTop,i=n.left+e.clientLeft,s=er(e)?Mo(e):hi(1),h=e.clientWidth*s.x,a=e.clientHeight*s.y,o=i*s.x,u=r*s.y;return{width:h,height:a,x:o,y:u}}function uS(e,t,n){let r;if(t==="viewport")r=eI(e,n);else if(t==="document")r=ZF(kr(e));else if(Zn(t))r=tI(t,n);else{const i=aS(e);r={...t,x:t.x-i.x,y:t.y-i.y}}return pf(r)}function cS(e,t){const n=pi(e);return n===t||!Zn(n)||Ao(n)?!1:Bn(n).position==="fixed"||cS(n,t)}function nI(e,t){const n=t.get(e);if(n)return n;let r=vl(e,[],!1).filter(a=>Zn(a)&&Do(a)!=="body"),i=null;const s=Bn(e).position==="fixed";let h=s?pi(e):e;for(;Zn(h)&&!Ao(h);){const a=Bn(h),o=Sm(h);!o&&a.position==="fixed"&&(i=null),(s?!o&&!i:!o&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||ml(h)&&!o&&cS(e,h))?r=r.filter(d=>d!==h):i=a,h=pi(h)}return t.set(e,r),r}function rI(e){let{element:t,boundary:n,rootBoundary:r,strategy:i}=e;const h=[...n==="clippingAncestors"?gf(t)?[]:nI(t,this._c):[].concat(n),r],a=h[0],o=h.reduce((u,d)=>{const l=uS(t,d,i);return u.top=dn(l.top,u.top),u.right=Jn(l.right,u.right),u.bottom=Jn(l.bottom,u.bottom),u.left=dn(l.left,u.left),u},uS(t,a,i));return{width:o.right-o.left,height:o.bottom-o.top,x:o.left,y:o.top}}function iI(e){const{width:t,height:n}=oS(e);return{width:t,height:n}}function sI(e,t,n){const r=er(t),i=kr(t),s=n==="fixed",h=cs(e,!0,s,t);let a={scrollLeft:0,scrollTop:0};const o=hi(0);if(r||!r&&!s)if((Do(t)!=="body"||ml(i))&&(a=mf(t)),r){const l=cs(t,!0,s,t);o.x=l.x+t.clientLeft,o.y=l.y+t.clientTop}else i&&(o.x=lS(i));const u=h.left+a.scrollLeft-o.x,d=h.top+a.scrollTop-o.y;return{x:u,y:d,width:h.width,height:h.height}}function km(e){return Bn(e).position==="static"}function fS(e,t){return!er(e)||Bn(e).position==="fixed"?null:t?t(e):e.offsetParent}function hS(e,t){const n=pn(e);if(gf(e))return n;if(!er(e)){let i=pi(e);for(;i&&!Ao(i);){if(Zn(i)&&!km(i))return i;i=pi(i)}return n}let r=fS(e,t);for(;r&&YF(r)&&km(r);)r=fS(r,t);return r&&Ao(r)&&km(r)&&!Sm(r)?n:r||GF(e)||n}const oI=async function(e){const t=this.getOffsetParent||hS,n=this.getDimensions,r=await n(e.floating);return{reference:sI(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function aI(e){return Bn(e).direction==="rtl"}const lI={convertOffsetParentRelativeRectToViewportRelativeRect:QF,getDocumentElement:kr,getClippingRect:rI,getOffsetParent:hS,getElementRects:oI,getClientRects:JF,getDimensions:iI,getScale:Mo,isElement:Zn,isRTL:aI};function uI(e,t){let n=null,r;const i=kr(e);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function h(a,o){a===void 0&&(a=!1),o===void 0&&(o=1),s();const{left:u,top:d,width:l,height:c}=e.getBoundingClientRect();if(a||t(),!l||!c)return;const f=hf(d),p=hf(i.clientWidth-(u+l)),m=hf(i.clientHeight-(d+c)),g=hf(u),y={rootMargin:-f+"px "+-p+"px "+-m+"px "+-g+"px",threshold:dn(0,Jn(1,o))||1};let b=!0;function w(C){const S=C[0].intersectionRatio;if(S!==o){if(!b)return h();S?h(!1,S):r=setTimeout(()=>{h(!1,1e-7)},1e3)}b=!1}try{n=new IntersectionObserver(w,{...y,root:i.ownerDocument})}catch{n=new IntersectionObserver(w,y)}n.observe(e)}return h(!0),s}function cI(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:h=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:o=!1}=r,u=Em(e),d=i||s?[...u?vl(u):[],...vl(t)]:[];d.forEach(v=>{i&&v.addEventListener("scroll",n,{passive:!0}),s&&v.addEventListener("resize",n)});const l=u&&a?uI(u,n):null;let c=-1,f=null;h&&(f=new ResizeObserver(v=>{let[y]=v;y&&y.target===u&&f&&(f.unobserve(t),cancelAnimationFrame(c),c=requestAnimationFrame(()=>{var b;(b=f)==null||b.observe(t)})),n()}),u&&!o&&f.observe(u),f.observe(t));let p,m=o?cs(e):null;o&&g();function g(){const v=cs(e);m&&(v.x!==m.x||v.y!==m.y||v.width!==m.width||v.height!==m.height)&&n(),m=v,p=requestAnimationFrame(g)}return n(),()=>{var v;d.forEach(y=>{i&&y.removeEventListener("scroll",n),s&&y.removeEventListener("resize",n)}),l==null||l(),(v=f)==null||v.disconnect(),f=null,o&&cancelAnimationFrame(p)}}const fI=UF,hI=WF,dI=VF,pI=XF,dS=$F,gI=(e,t,n)=>{const r=new Map,i={platform:lI,...n},s={...i.platform,_c:r};return NF(e,t,{...i,platform:s})};var vf=typeof document<"u"?k.useLayoutEffect:k.useEffect;function yf(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,i;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!yf(e[r],t[r]))return!1;return!0}if(i=Object.keys(e),n=i.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&e.$$typeof)&&!yf(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function pS(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function gS(e,t){const n=pS(e);return Math.round(t*n)/n}function mS(e){const t=k.useRef(e);return vf(()=>{t.current=e}),t}function mI(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:h}={},transform:a=!0,whileElementsMounted:o,open:u}=e,[d,l]=k.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[c,f]=k.useState(r);yf(c,r)||f(r);const[p,m]=k.useState(null),[g,v]=k.useState(null),y=k.useCallback(ie=>{ie!==S.current&&(S.current=ie,m(ie))},[]),b=k.useCallback(ie=>{ie!==_.current&&(_.current=ie,v(ie))},[]),w=s||p,C=h||g,S=k.useRef(null),_=k.useRef(null),T=k.useRef(d),R=o!=null,F=mS(o),$=mS(i),G=k.useCallback(()=>{if(!S.current||!_.current)return;const ie={placement:t,strategy:n,middleware:c};$.current&&(ie.platform=$.current),gI(S.current,_.current,ie).then(V=>{const E={...V,isPositioned:!0};ne.current&&!yf(T.current,E)&&(T.current=E,bo.flushSync(()=>{l(E)}))})},[c,t,n,$]);vf(()=>{u===!1&&T.current.isPositioned&&(T.current.isPositioned=!1,l(ie=>({...ie,isPositioned:!1})))},[u]);const ne=k.useRef(!1);vf(()=>(ne.current=!0,()=>{ne.current=!1}),[]),vf(()=>{if(w&&(S.current=w),C&&(_.current=C),w&&C){if(F.current)return F.current(w,C,G);G()}},[w,C,G,F,R]);const X=k.useMemo(()=>({reference:S,floating:_,setReference:y,setFloating:b}),[y,b]),J=k.useMemo(()=>({reference:w,floating:C}),[w,C]),re=k.useMemo(()=>{const ie={position:n,left:0,top:0};if(!J.floating)return ie;const V=gS(J.floating,d.x),E=gS(J.floating,d.y);return a?{...ie,transform:"translate("+V+"px, "+E+"px)",...pS(J.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:E}},[n,a,J.floating,d.x,d.y]);return k.useMemo(()=>({...d,update:G,refs:X,elements:J,floatingStyles:re}),[d,G,X,J,re])}const vI=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:i}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?dS({element:r.current,padding:i}).fn(n):{}:r?dS({element:r,padding:i}).fn(n):{}}}},yI=(e,t)=>({...fI(e),options:[e,t]}),bI=(e,t)=>({...hI(e),options:[e,t]}),wI=(e,t)=>({...dI(e),options:[e,t]}),xI=(e,t)=>({...pI(e),options:[e,t]}),CI=(e,t)=>({...vI(e),options:[e,t]});function SI(e){return t=>{e.forEach(n=>{typeof n=="function"?n(t):n!=null&&(n.current=t)})}}function Tm({floatingWidth:e,ref:t,disablePositioning:n=!1,placement:r="bottom",offset:i=2,showArrow:s=!1,maxHeight:h,shiftCrossAxis:a=!0,fallbackPlacements:o}){const u=k.useRef(null),d={placement:r,strategy:"fixed"};n||(d.whileElementsMounted=cI,d.middleware=[yI(i),bI({padding:16,crossAxis:a,mainAxis:!0}),wI({padding:16,fallbackPlacements:o}),xI({apply({rects:v,availableHeight:y,availableWidth:b,elements:w}){e==="matchTrigger"&&h!=null?Object.assign(w.floating.style,{width:`${v.reference.width}px`,maxWidth:`${b}`,maxHeight:`${Math.min(y,h)}px`}):h!=null&&Object.assign(w.floating.style,{maxHeight:`${Math.min(y,h)}px`})},padding:16})],s&&d.middleware.push(CI({element:u})));const l=mI(d),c=k.useMemo(()=>SI([t,l.refs.setReference]),[l.refs.setReference,t]),{x:f,y:p}=l.middlewareData.arrow||{},m={top:"bottom",right:"left",bottom:"top",left:"right"}[l.placement.split("-")[0]],g={left:f,top:p,right:"",bottom:"",[m]:"-4px"};return{...l,reference:c,arrowRef:u,arrowStyle:g}}function vS(e,t){const{children:n,items:r,role:i="listbox",virtualFocus:s,focusLoopingMode:h="stay",autoFocusFirstItem:a=!0,onItemSelected:o,clearInputOnItemSelection:u,blurReferenceOnItemSelection:d,floatingWidth:l="matchTrigger",floatingMinWidth:c,floatingMaxHeight:f,offset:p,placement:m,showCheckmark:g,showEmptyMessage:v,maxItems:y,isAsync:b,allowCustomValue:w,clearSelectionOnInputClear:C}=e,S=e.selectionMode||"none",T=`${k.useId()}-listbox`,[R,F]=fi(e.inputValue,e.defaultInputValue||"",e.onInputValueChange),[$,G]=k.useState("all"),ne=PF({children:n,items:r,inputValue:b?void 0:R,maxItems:y}),X=$==="all"?ne.collection:ne.filteredCollection,J=k.useRef([]),re=k.useMemo(()=>[...X.values()].map(z=>z.isDisabled?null:z.textLabel),[X]),{selectedValues:ie,selectValues:V}=EI(e),[E,P]=fi(e.isOpen,e.defaultIsOpen,e.onOpenChange),[A,j]=k.useState(null),H=Tm({floatingWidth:l,ref:t,placement:m,offset:p,maxHeight:f??420,shiftCrossAxis:!s}),{refs:M,strategy:O,x:I,y:B}=H,W=S==="none"?void 0:X.get(ie[0]),U=S==="none"||W==null?void 0:W.index,ee=z=>{if(S!=="none"){const K=[...X.values()][z];K&&V(K.value)}},se=k.useCallback((z,K)=>{var ue,we;const te=[...X.values()],N=!te.find(ve=>!ve.isDisabled),q=X.size-1;if(K==null||!X.size||K>q||K<0||N){j(null);return}K=_I(te,K,h,z),j(K),K!=null&&(s?(ue=J.current[K])==null||ue.scrollIntoView({block:"nearest"}):(we=J.current[K])==null||we.focus())},[X,s,h]),fe=k.useCallback(z=>{F(z.target.value),G(z.target.value.trim()?"filtered":"all"),z.target.value?P(!0):C&&V(""),a&&A==null?se("increment",0):j(null)},[F,P,G,V,C,se,a,A]);return{handleItemSelection:z=>{const K=M.reference.current;S!=="none"?V(z):K&&"focus"in K&&K.focus(),s&&(F(u?"":`${z}`),d&&K&&"blur"in K&&K.blur()),G("all"),P(!1),o==null||o(z),j(null)},onInputChange:fe,focusLoopingMode:h,floatingWidth:l,floatingMinWidth:c,floatingMaxHeight:f,showCheckmark:g,collection:X,collections:ne,virtualFocus:s,focusItem:se,showEmptyMessage:v&&!!R,allowCustomValue:w,refs:M,reference:H.reference,floating:M.setFloating,positionStyle:{position:O,top:B??"",left:I??""},listContent:re,listItemsRef:J,listboxId:T,role:i,state:{activeIndex:A,setActiveIndex:j,selectedIndex:U,setSelectedIndex:ee,selectionMode:S,selectedValues:ie,selectValues:V,inputValue:R,setInputValue:F,isOpen:E,setIsOpen:P,setActiveCollection:G}}}function _I(e,t,n,r){var s;const i=e.length-1;for(;(s=e[t])!=null&&s.isDisabled;)if(r==="increment"){if(t++,t>=i)if(n==="loop")t=0;else return n==="stay"?t-1:null}else if(t--,t<0)if(n==="loop")t=i;else return n==="stay"?t+1:null;return t}function EI(e){const{selectionMode:t,allowEmptySelection:n}=e,r=t==="single"||t==="multiple",[i,s]=fi(r?e.selectedValue:void 0,r?e.defaultSelectedValue:void 0,r?e.onSelectionChange:void 0),h=k.useMemo(()=>typeof i>"u"?[]:Array.isArray(i)?i:[i],[i]),a=k.useCallback(o=>{const u=Array.isArray(o)?o:[o];t==="single"?s(u[0]):u.forEach(d=>{const l=h.indexOf(d);l===-1?(h.push(d),s([...h])):(h.length>1||n)&&(h.splice(l,1),s([...h]))})},[n,h,t,s]);return{selectedValues:h,selectValues:a}}const yS=k.createContext(null);function Om(){return k.useContext(yS)}const Pm=be(x.jsx("path",{d:"M9 16.17 4.83 12l-1.42 1.41L9 19 21 7l-1.41-1.41L9 16.17z"}),"CheckOutlined"),kI=de.forwardRef((e,t)=>{let{startIcon:n,capitalizeFirst:r,children:i,description:s,endIcon:h,endSection:a,isDisabled:o,isActive:u,isSelected:d,showCheckmark:l,elementType:c="div",radius:f,padding:p,...m}=e;!n&&l&&(n=x.jsx(Pm,{size:"sm",className:ce("text-primary",!d&&"invisible")}));const g=ce("icon-sm rounded overflow-hidden flex-shrink-0",!o&&"text-muted"),v=ce(!o&&"text-muted"),y=c;return x.jsxs(y,{...m,"aria-disabled":o,className:TI(e),ref:t,children:[n&&x.jsx("div",{className:g,children:n}),x.jsxs("div",{className:ce("min-w-auto mr-auto w-full overflow-hidden overflow-ellipsis",r&&"first-letter:capitalize"),children:[i,s&&x.jsx("div",{className:ce("mt-4 whitespace-normal text-xs",o?"text-disabled":"text-muted"),children:s})]}),(h||a)&&x.jsx("div",{className:h?g:v,children:h||a})]})});function TI({className:e,isSelected:t,isActive:n,isDisabled:r,showCheckmark:i,endIcon:s,endSection:h,radius:a,padding:o}){let u="";r?u="text-disabled pointer-events-none":t?n?u="bg-primary/focus":u="bg-primary/selected hover:bg-primary/focus":n?u="hover:bg-fg-base/15 bg-focus":u="hover:bg-hover";let d;return o?d=o:i?s||h?d="pl-8 pr-8 py-8":d="pl-8 pr-24 py-8":d="px-20 py-8",ce("w-full select-none outline-none cursor-pointer","text-sm truncate flex items-center gap-10",!r&&"text-main",d,u,e,a)}function bf({children:e,value:t,startIcon:n,endIcon:r,endSection:i,description:s,capitalizeFirst:h,textLabel:a,isDisabled:o,onSelected:u,onClick:d,...l}){var F;const{collection:c,showCheckmark:f,virtualFocus:p,listboxId:m,role:g,listItemsRef:v,handleItemSelection:y,state:{selectedValues:b,activeIndex:w,setActiveIndex:C}}=Om(),S=b.includes(t),_=(F=c.get(t))==null?void 0:F.index,T=w===_;if(_==null)return null;const R=T&&!o?-1:0;return x.jsx(kI,{...l,onFocus:()=>{p||C(_)},onPointerEnter:$=>{C(_),p||$.currentTarget.focus()},onPointerDown:$=>{p&&$.preventDefault()},onKeyDown:$=>{($.key==="Enter"||$.key===" ")&&($.preventDefault(),y(t),u==null||u())},onClick:$=>{y(t),u==null||u(),d==null||d($)},ref:$=>v.current[_]=$,id:`${m}-${_}`,role:g==="menu"?"menuitem":"option",tabIndex:p?void 0:R,"aria-selected":T&&S,showCheckmark:f,isDisabled:o,isActive:T,isSelected:S,startIcon:n,description:s,endIcon:r,endSection:i,capitalizeFirst:h,"data-value":t,children:e})}var wf=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},xf=typeof window>"u"||"Deno"in globalThis;function Nn(){}function OI(e,t){return typeof e=="function"?e(t):e}function PI(e){return typeof e=="number"&&e>=0&&e!==1/0}function DI(e,t){return Math.max(e+(t||0)-Date.now(),0)}function bS(e,t){return typeof e=="function"?e(t):e}function AI(e,t){return typeof e=="function"?e(t):e}function wS(e,t){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:h,stale:a}=e;if(h){if(r){if(t.queryHash!==Dm(h,t.options))return!1}else if(!bl(t.queryKey,h))return!1}if(n!=="all"){const o=t.isActive();if(n==="active"&&!o||n==="inactive"&&o)return!1}return!(typeof a=="boolean"&&t.isStale()!==a||i&&i!==t.state.fetchStatus||s&&!s(t))}function xS(e,t){const{exact:n,status:r,predicate:i,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(yl(t.options.mutationKey)!==yl(s))return!1}else if(!bl(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||i&&!i(t))}function Dm(e,t){return((t==null?void 0:t.queryKeyHashFn)||yl)(e)}function yl(e){return JSON.stringify(e,(t,n)=>Am(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function bl(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!bl(e[n],t[n])):!1}function CS(e,t){if(e===t)return e;const n=SS(e)&&SS(t);if(n||Am(e)&&Am(t)){const r=n?e:Object.keys(e),i=r.length,s=n?t:Object.keys(t),h=s.length,a=n?[]:{};let o=0;for(let u=0;u<h;u++){const d=n?u:s[u];(!n&&r.includes(d)||n)&&e[d]===void 0&&t[d]===void 0?(a[d]=void 0,o++):(a[d]=CS(e[d],t[d]),a[d]===e[d]&&e[d]!==void 0&&o++)}return i===h&&o===i?e:a}return t}function SS(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Am(e){if(!_S(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!_S(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function _S(e){return Object.prototype.toString.call(e)==="[object Object]"}function MI(e){return new Promise(t=>{setTimeout(t,e)})}function jI(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?CS(e,t):t}function RI(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function FI(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var ES=Symbol(),kS=(e,t)=>!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===ES?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn,II=(a5=class extends wf{constructor(){super();Ie(this,xs,void 0);Ie(this,Ci,void 0);Ie(this,$o,void 0);Oe(this,$o,t=>{if(!xf&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){oe(this,Ci)||this.setEventListener(oe(this,$o))}onUnsubscribe(){var t;this.hasListeners()||((t=oe(this,Ci))==null||t.call(this),Oe(this,Ci,void 0))}setEventListener(t){var n;Oe(this,$o,t),(n=oe(this,Ci))==null||n.call(this),Oe(this,Ci,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){oe(this,xs)!==t&&(Oe(this,xs,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof oe(this,xs)=="boolean"?oe(this,xs):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},xs=new WeakMap,Ci=new WeakMap,$o=new WeakMap,a5),TS=new II,LI=(l5=class extends wf{constructor(){super();Ie(this,Vo,!0);Ie(this,Si,void 0);Ie(this,Ho,void 0);Oe(this,Ho,t=>{if(!xf&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){oe(this,Si)||this.setEventListener(oe(this,Ho))}onUnsubscribe(){var t;this.hasListeners()||((t=oe(this,Si))==null||t.call(this),Oe(this,Si,void 0))}setEventListener(t){var n;Oe(this,Ho,t),(n=oe(this,Si))==null||n.call(this),Oe(this,Si,t(this.setOnline.bind(this)))}setOnline(t){oe(this,Vo)!==t&&(Oe(this,Vo,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return oe(this,Vo)}},Vo=new WeakMap,Si=new WeakMap,Ho=new WeakMap,l5),Cf=new LI;function zI(e){return Math.min(1e3*2**e,3e4)}function OS(e){return(e??"online")==="online"?Cf.isOnline():!0}var PS=class{constructor(e){this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function Mm(e){return e instanceof PS}function DS(e){let t=!1,n=0,r=!1,i,s,h;const a=new Promise((v,y)=>{s=v,h=y}),o=v=>{var y;r||(p(new PS(v)),(y=e.abort)==null||y.call(e))},u=()=>{t=!0},d=()=>{t=!1},l=()=>TS.isFocused()&&(e.networkMode==="always"||Cf.isOnline())&&e.canRun(),c=()=>OS(e.networkMode)&&e.canRun(),f=v=>{var y;r||(r=!0,(y=e.onSuccess)==null||y.call(e,v),i==null||i(),s(v))},p=v=>{var y;r||(r=!0,(y=e.onError)==null||y.call(e,v),i==null||i(),h(v))},m=()=>new Promise(v=>{var y;i=b=>{(r||l())&&v(b)},(y=e.onPause)==null||y.call(e)}).then(()=>{var v;i=void 0,r||(v=e.onContinue)==null||v.call(e)}),g=()=>{if(r)return;let v;const y=n===0?e.initialPromise:void 0;try{v=y??e.fn()}catch(b){v=Promise.reject(b)}Promise.resolve(v).then(f).catch(b=>{var T;if(r)return;const w=e.retry??(xf?0:3),C=e.retryDelay??zI,S=typeof C=="function"?C(n,b):C,_=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,b);if(t||!_){p(b);return}n++,(T=e.onFail)==null||T.call(e,n,b),MI(S).then(()=>l()?void 0:m()).then(()=>{t?p(b):g()})})};return{promise:a,cancel:o,continue:()=>(i==null||i(),a),cancelRetry:u,continueRetry:d,canStart:c,start:()=>(c()?g():m().then(g),a)}}function BI(){let e=[],t=0,n=c=>{c()},r=c=>{c()},i=c=>setTimeout(c,0);const s=c=>{i=c},h=c=>{let f;t++;try{f=c()}finally{t--,t||u()}return f},a=c=>{t?e.push(c):i(()=>{n(c)})},o=c=>(...f)=>{a(()=>{c(...f)})},u=()=>{const c=e;e=[],c.length&&i(()=>{r(()=>{c.forEach(f=>{n(f)})})})};return{batch:h,batchCalls:o,schedule:a,setNotifyFunction:c=>{n=c},setBatchNotifyFunction:c=>{r=c},setScheduler:s}}var Vt=BI(),AS=(u5=class{constructor(){Ie(this,Cs,void 0)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),PI(this.gcTime)&&Oe(this,Cs,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(xf?1/0:5*60*1e3))}clearGcTimeout(){oe(this,Cs)&&(clearTimeout(oe(this,Cs)),Oe(this,Cs,void 0))}},Cs=new WeakMap,u5),NI=(c5=class extends AS{constructor(t){super();Ie(this,Un);Ie(this,Uo,void 0);Ie(this,Wo,void 0);Ie(this,Pn,void 0);Ie(this,Ft,void 0);Ie(this,$l,void 0);Ie(this,Ss,void 0);Oe(this,Ss,!1),Oe(this,$l,t.defaultOptions),this.setOptions(t.options),this.observers=[],Oe(this,Pn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,Oe(this,Uo,t.state||VI(this.options)),this.state=oe(this,Uo),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=oe(this,Ft))==null?void 0:t.promise}setOptions(t){this.options={...oe(this,$l),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&oe(this,Pn).remove(this)}setData(t,n){const r=jI(this.state.data,t,this.options);return It(this,Un,Rr).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){It(this,Un,Rr).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,i;const n=(r=oe(this,Ft))==null?void 0:r.promise;return(i=oe(this,Ft))==null||i.cancel(t),n?n.then(Nn).catch(Nn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(oe(this,Uo))}isActive(){return this.observers.some(t=>AI(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!DI(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=oe(this,Ft))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=oe(this,Ft))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),oe(this,Pn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(oe(this,Ft)&&(oe(this,Ss)?oe(this,Ft).cancel({revert:!0}):oe(this,Ft).cancelRetry()),this.scheduleGc()),oe(this,Pn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||It(this,Un,Rr).call(this,{type:"invalidate"})}fetch(t,n){var o,u,d;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(oe(this,Ft))return oe(this,Ft).continueRetry(),oe(this,Ft).promise}if(t&&this.setOptions(t),!this.options.queryFn){const l=this.observers.find(c=>c.options.queryFn);l&&this.setOptions(l.options)}const r=new AbortController,i=l=>{Object.defineProperty(l,"signal",{enumerable:!0,get:()=>(Oe(this,Ss,!0),r.signal)})},s=()=>{const l=kS(this.options,n),c={queryKey:this.queryKey,meta:this.meta};return i(c),Oe(this,Ss,!1),this.options.persister?this.options.persister(l,c,this):l(c)},h={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};i(h),(o=this.options.behavior)==null||o.onFetch(h,this),Oe(this,Wo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((u=h.fetchOptions)==null?void 0:u.meta))&&It(this,Un,Rr).call(this,{type:"fetch",meta:(d=h.fetchOptions)==null?void 0:d.meta});const a=l=>{var c,f,p,m;Mm(l)&&l.silent||It(this,Un,Rr).call(this,{type:"error",error:l}),Mm(l)||((f=(c=oe(this,Pn).config).onError)==null||f.call(c,l,this),(m=(p=oe(this,Pn).config).onSettled)==null||m.call(p,this.state.data,l,this)),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return Oe(this,Ft,DS({initialPromise:n==null?void 0:n.initialPromise,fn:h.fetchFn,abort:r.abort.bind(r),onSuccess:l=>{var c,f,p,m;if(l===void 0){a(new Error(`${this.queryHash} data is undefined`));return}this.setData(l),(f=(c=oe(this,Pn).config).onSuccess)==null||f.call(c,l,this),(m=(p=oe(this,Pn).config).onSettled)==null||m.call(p,l,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:a,onFail:(l,c)=>{It(this,Un,Rr).call(this,{type:"failed",failureCount:l,error:c})},onPause:()=>{It(this,Un,Rr).call(this,{type:"pause"})},onContinue:()=>{It(this,Un,Rr).call(this,{type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode,canRun:()=>!0})),oe(this,Ft).start()}},Uo=new WeakMap,Wo=new WeakMap,Pn=new WeakMap,Ft=new WeakMap,$l=new WeakMap,Ss=new WeakMap,Un=new WeakSet,Rr=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...$I(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=t.error;return Mm(i)&&i.revert&&oe(this,Wo)?{...oe(this,Wo),fetchStatus:"idle"}:{...r,error:i,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),Vt.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),oe(this,Pn).notify({query:this,type:"updated",action:t})})},c5);function $I(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:OS(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function VI(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var HI=(f5=class extends wf{constructor(t={}){super();Ie(this,rr,void 0);this.config=t,Oe(this,rr,new Map)}build(t,n,r){const i=n.queryKey,s=n.queryHash??Dm(i,n);let h=this.get(s);return h||(h=new NI({cache:this,queryKey:i,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(i)}),this.add(h)),h}add(t){oe(this,rr).has(t.queryHash)||(oe(this,rr).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=oe(this,rr).get(t.queryHash);n&&(t.destroy(),n===t&&oe(this,rr).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){Vt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return oe(this,rr).get(t)}getAll(){return[...oe(this,rr).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>wS(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>wS(t,r)):n}notify(t){Vt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){Vt.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){Vt.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},rr=new WeakMap,f5),UI=(h5=class extends AS{constructor(t){super();Ie(this,sr);Ie(this,ir,void 0);Ie(this,Ht,void 0);Ie(this,_s,void 0);this.mutationId=t.mutationId,Oe(this,Ht,t.mutationCache),Oe(this,ir,[]),this.state=t.state||WI(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){oe(this,ir).includes(t)||(oe(this,ir).push(t),this.clearGcTimeout(),oe(this,Ht).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){Oe(this,ir,oe(this,ir).filter(n=>n!==t)),this.scheduleGc(),oe(this,Ht).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){oe(this,ir).length||(this.state.status==="pending"?this.scheduleGc():oe(this,Ht).remove(this))}continue(){var t;return((t=oe(this,_s))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var i,s,h,a,o,u,d,l,c,f,p,m,g,v,y,b,w,C,S,_;Oe(this,_s,DS({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(T,R)=>{It(this,sr,Ti).call(this,{type:"failed",failureCount:T,error:R})},onPause:()=>{It(this,sr,Ti).call(this,{type:"pause"})},onContinue:()=>{It(this,sr,Ti).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>oe(this,Ht).canRun(this)}));const n=this.state.status==="pending",r=!oe(this,_s).canStart();try{if(!n){It(this,sr,Ti).call(this,{type:"pending",variables:t,isPaused:r}),await((s=(i=oe(this,Ht).config).onMutate)==null?void 0:s.call(i,t,this));const R=await((a=(h=this.options).onMutate)==null?void 0:a.call(h,t));R!==this.state.context&&It(this,sr,Ti).call(this,{type:"pending",context:R,variables:t,isPaused:r})}const T=await oe(this,_s).start();return await((u=(o=oe(this,Ht).config).onSuccess)==null?void 0:u.call(o,T,t,this.state.context,this)),await((l=(d=this.options).onSuccess)==null?void 0:l.call(d,T,t,this.state.context)),await((f=(c=oe(this,Ht).config).onSettled)==null?void 0:f.call(c,T,null,this.state.variables,this.state.context,this)),await((m=(p=this.options).onSettled)==null?void 0:m.call(p,T,null,t,this.state.context)),It(this,sr,Ti).call(this,{type:"success",data:T}),T}catch(T){try{throw await((v=(g=oe(this,Ht).config).onError)==null?void 0:v.call(g,T,t,this.state.context,this)),await((b=(y=this.options).onError)==null?void 0:b.call(y,T,t,this.state.context)),await((C=(w=oe(this,Ht).config).onSettled)==null?void 0:C.call(w,void 0,T,this.state.variables,this.state.context,this)),await((_=(S=this.options).onSettled)==null?void 0:_.call(S,void 0,T,t,this.state.context)),T}finally{It(this,sr,Ti).call(this,{type:"error",error:T})}}finally{oe(this,Ht).runNext(this)}}},ir=new WeakMap,Ht=new WeakMap,_s=new WeakMap,sr=new WeakSet,Ti=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),Vt.batch(()=>{oe(this,ir).forEach(r=>{r.onMutationUpdate(t)}),oe(this,Ht).notify({mutation:this,type:"updated",action:t})})},h5);function WI(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var XI=(d5=class extends wf{constructor(t={}){super();Ie(this,mn,void 0);Ie(this,Vl,void 0);this.config=t,Oe(this,mn,new Map),Oe(this,Vl,Date.now())}build(t,n,r){const i=new UI({mutationCache:this,mutationId:++oh(this,Vl)._,options:t.defaultMutationOptions(n),state:r});return this.add(i),i}add(t){const n=Sf(t),r=oe(this,mn).get(n)??[];r.push(t),oe(this,mn).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=Sf(t);if(oe(this,mn).has(n)){const i=(r=oe(this,mn).get(n))==null?void 0:r.filter(s=>s!==t);i&&(i.length===0?oe(this,mn).delete(n):oe(this,mn).set(n,i))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=oe(this,mn).get(Sf(t)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=oe(this,mn).get(Sf(t)))==null?void 0:r.find(i=>i!==t&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){Vt.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...oe(this,mn).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>xS(n,r))}findAll(t={}){return this.getAll().filter(n=>xS(t,n))}notify(t){Vt.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return Vt.batch(()=>Promise.all(t.map(n=>n.continue().catch(Nn))))}},mn=new WeakMap,Vl=new WeakMap,d5);function Sf(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function YI(e){return{onFetch:(t,n)=>{const r=async()=>{var p,m,g,v,y;const i=t.options,s=(g=(m=(p=t.fetchOptions)==null?void 0:p.meta)==null?void 0:m.fetchMore)==null?void 0:g.direction,h=((v=t.state.data)==null?void 0:v.pages)||[],a=((y=t.state.data)==null?void 0:y.pageParams)||[],o={pages:[],pageParams:[]};let u=!1;const d=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(t.signal.aborted?u=!0:t.signal.addEventListener("abort",()=>{u=!0}),t.signal)})},l=kS(t.options,t.fetchOptions),c=async(b,w,C)=>{if(u)return Promise.reject();if(w==null&&b.pages.length)return Promise.resolve(b);const S={queryKey:t.queryKey,pageParam:w,direction:C?"backward":"forward",meta:t.options.meta};d(S);const _=await l(S),{maxPages:T}=t.options,R=C?FI:RI;return{pages:R(b.pages,_,T),pageParams:R(b.pageParams,w,T)}};let f;if(s&&h.length){const b=s==="backward",w=b?GI:MS,C={pages:h,pageParams:a},S=w(i,C);f=await c(C,S,b)}else{f=await c(o,a[0]??i.initialPageParam);const b=e??h.length;for(let w=1;w<b;w++){const C=MS(i,f);f=await c(f,C)}}return f};t.options.persister?t.fetchFn=()=>{var i,s;return(s=(i=t.options).persister)==null?void 0:s.call(i,r,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=r}}}function MS(e,{pages:t,pageParams:n}){const r=t.length-1;return e.getNextPageParam(t[r],t,n[r],n)}function GI(e,{pages:t,pageParams:n}){var r;return(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n)}var KI=(p5=class{constructor(e={}){Ie(this,nt,void 0);Ie(this,_i,void 0);Ie(this,Ei,void 0);Ie(this,Xo,void 0);Ie(this,Yo,void 0);Ie(this,ki,void 0);Ie(this,Go,void 0);Ie(this,Ko,void 0);Oe(this,nt,e.queryCache||new HI),Oe(this,_i,e.mutationCache||new XI),Oe(this,Ei,e.defaultOptions||{}),Oe(this,Xo,new Map),Oe(this,Yo,new Map),Oe(this,ki,0)}mount(){oh(this,ki)._++,oe(this,ki)===1&&(Oe(this,Go,TS.subscribe(async e=>{e&&(await this.resumePausedMutations(),oe(this,nt).onFocus())})),Oe(this,Ko,Cf.subscribe(async e=>{e&&(await this.resumePausedMutations(),oe(this,nt).onOnline())})))}unmount(){var e,t;oh(this,ki)._--,oe(this,ki)===0&&((e=oe(this,Go))==null||e.call(this),Oe(this,Go,void 0),(t=oe(this,Ko))==null||t.call(this),Oe(this,Ko,void 0))}isFetching(e){return oe(this,nt).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return oe(this,_i).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=oe(this,nt).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=oe(this,nt).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(bS(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return oe(this,nt).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),i=oe(this,nt).get(r.queryHash),s=i==null?void 0:i.state.data,h=OI(t,s);if(h!==void 0)return oe(this,nt).build(this,r).setData(h,{...n,manual:!0})}setQueriesData(e,t,n){return Vt.batch(()=>oe(this,nt).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=oe(this,nt).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=oe(this,nt);Vt.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=oe(this,nt),r={type:"active",...e};return Vt.batch(()=>(n.findAll(e).forEach(i=>{i.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=Vt.batch(()=>oe(this,nt).findAll(e).map(i=>i.cancel(n)));return Promise.all(r).then(Nn).catch(Nn)}invalidateQueries(e={},t={}){return Vt.batch(()=>{if(oe(this,nt).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=Vt.batch(()=>oe(this,nt).findAll(e).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(Nn)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(Nn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=oe(this,nt).build(this,t);return n.isStaleByTime(bS(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(Nn).catch(Nn)}fetchInfiniteQuery(e){return e.behavior=YI(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(Nn).catch(Nn)}resumePausedMutations(){return Cf.isOnline()?oe(this,_i).resumePausedMutations():Promise.resolve()}getQueryCache(){return oe(this,nt)}getMutationCache(){return oe(this,_i)}getDefaultOptions(){return oe(this,Ei)}setDefaultOptions(e){Oe(this,Ei,e)}setQueryDefaults(e,t){oe(this,Xo).set(yl(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...oe(this,Xo).values()];let n={};return t.forEach(r=>{bl(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){oe(this,Yo).set(yl(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...oe(this,Yo).values()];let n={};return t.forEach(r=>{bl(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...oe(this,Ei).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Dm(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===ES&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...oe(this,Ei).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){oe(this,nt).clear(),oe(this,_i).clear()}},nt=new WeakMap,_i=new WeakMap,Ei=new WeakMap,Xo=new WeakMap,Yo=new WeakMap,ki=new WeakMap,Go=new WeakMap,Ko=new WeakMap,p5);function jS(e,t){return function(){return e.apply(t,arguments)}}const{toString:qI}=Object.prototype,{getPrototypeOf:jm}=Object,_f=(e=>t=>{const n=qI.call(t);return e[n]||(e[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),$n=e=>(e=e.toLowerCase(),t=>_f(t)===e),Ef=e=>t=>typeof t===e,{isArray:jo}=Array,wl=Ef("undefined");function QI(e){return e!==null&&!wl(e)&&e.constructor!==null&&!wl(e.constructor)&&kn(e.constructor.isBuffer)&&e.constructor.isBuffer(e)}const RS=$n("ArrayBuffer");function JI(e){let t;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?t=ArrayBuffer.isView(e):t=e&&e.buffer&&RS(e.buffer),t}const ZI=Ef("string"),kn=Ef("function"),FS=Ef("number"),kf=e=>e!==null&&typeof e=="object",eL=e=>e===!0||e===!1,Tf=e=>{if(_f(e)!=="object")return!1;const t=jm(e);return(t===null||t===Object.prototype||Object.getPrototypeOf(t)===null)&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)},tL=$n("Date"),nL=$n("File"),rL=$n("Blob"),iL=$n("FileList"),sL=e=>kf(e)&&kn(e.pipe),oL=e=>{let t;return e&&(typeof FormData=="function"&&e instanceof FormData||kn(e.append)&&((t=_f(e))==="formdata"||t==="object"&&kn(e.toString)&&e.toString()==="[object FormData]"))},aL=$n("URLSearchParams"),[lL,uL,cL,fL]=["ReadableStream","Request","Response","Headers"].map($n),hL=e=>e.trim?e.trim():e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function xl(e,t,{allOwnKeys:n=!1}={}){if(e===null||typeof e>"u")return;let r,i;if(typeof e!="object"&&(e=[e]),jo(e))for(r=0,i=e.length;r<i;r++)t.call(null,e[r],r,e);else{const s=n?Object.getOwnPropertyNames(e):Object.keys(e),h=s.length;let a;for(r=0;r<h;r++)a=s[r],t.call(null,e[a],a,e)}}function IS(e,t){t=t.toLowerCase();const n=Object.keys(e);let r=n.length,i;for(;r-- >0;)if(i=n[r],t===i.toLowerCase())return i;return null}const LS=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),zS=e=>!wl(e)&&e!==LS;function Rm(){const{caseless:e}=zS(this)&&this||{},t={},n=(r,i)=>{const s=e&&IS(t,i)||i;Tf(t[s])&&Tf(r)?t[s]=Rm(t[s],r):Tf(r)?t[s]=Rm({},r):jo(r)?t[s]=r.slice():t[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&xl(arguments[r],n);return t}const dL=(e,t,n,{allOwnKeys:r}={})=>(xl(t,(i,s)=>{n&&kn(i)?e[s]=jS(i,n):e[s]=i},{allOwnKeys:r}),e),pL=e=>(e.charCodeAt(0)===65279&&(e=e.slice(1)),e),gL=(e,t,n,r)=>{e.prototype=Object.create(t.prototype,r),e.prototype.constructor=e,Object.defineProperty(e,"super",{value:t.prototype}),n&&Object.assign(e.prototype,n)},mL=(e,t,n,r)=>{let i,s,h;const a={};if(t=t||{},e==null)return t;do{for(i=Object.getOwnPropertyNames(e),s=i.length;s-- >0;)h=i[s],(!r||r(h,e,t))&&!a[h]&&(t[h]=e[h],a[h]=!0);e=n!==!1&&jm(e)}while(e&&(!n||n(e,t))&&e!==Object.prototype);return t},vL=(e,t,n)=>{e=String(e),(n===void 0||n>e.length)&&(n=e.length),n-=t.length;const r=e.indexOf(t,n);return r!==-1&&r===n},yL=e=>{if(!e)return null;if(jo(e))return e;let t=e.length;if(!FS(t))return null;const n=new Array(t);for(;t-- >0;)n[t]=e[t];return n},bL=(e=>t=>e&&t instanceof e)(typeof Uint8Array<"u"&&jm(Uint8Array)),wL=(e,t)=>{const r=(e&&e[Symbol.iterator]).call(e);let i;for(;(i=r.next())&&!i.done;){const s=i.value;t.call(e,s[0],s[1])}},xL=(e,t)=>{let n;const r=[];for(;(n=e.exec(t))!==null;)r.push(n);return r},CL=$n("HTMLFormElement"),SL=e=>e.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),BS=(({hasOwnProperty:e})=>(t,n)=>e.call(t,n))(Object.prototype),_L=$n("RegExp"),NS=(e,t)=>{const n=Object.getOwnPropertyDescriptors(e),r={};xl(n,(i,s)=>{let h;(h=t(i,s,e))!==!1&&(r[s]=h||i)}),Object.defineProperties(e,r)},EL=e=>{NS(e,(t,n)=>{if(kn(e)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=e[n];if(kn(r)){if(t.enumerable=!1,"writable"in t){t.writable=!1;return}t.set||(t.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},kL=(e,t)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return jo(e)?r(e):r(String(e).split(t)),n},TL=()=>{},OL=(e,t)=>e!=null&&Number.isFinite(e=+e)?e:t,Fm="abcdefghijklmnopqrstuvwxyz",$S="0123456789",VS={DIGIT:$S,ALPHA:Fm,ALPHA_DIGIT:Fm+Fm.toUpperCase()+$S},PL=(e=16,t=VS.ALPHA_DIGIT)=>{let n="";const{length:r}=t;for(;e--;)n+=t[Math.random()*r|0];return n};function DL(e){return!!(e&&kn(e.append)&&e[Symbol.toStringTag]==="FormData"&&e[Symbol.iterator])}const AL=e=>{const t=new Array(10),n=(r,i)=>{if(kf(r)){if(t.indexOf(r)>=0)return;if(!("toJSON"in r)){t[i]=r;const s=jo(r)?[]:{};return xl(r,(h,a)=>{const o=n(h,i+1);!wl(o)&&(s[a]=o)}),t[i]=void 0,s}}return r};return n(e,0)},ML=$n("AsyncFunction"),Q={isArray:jo,isArrayBuffer:RS,isBuffer:QI,isFormData:oL,isArrayBufferView:JI,isString:ZI,isNumber:FS,isBoolean:eL,isObject:kf,isPlainObject:Tf,isReadableStream:lL,isRequest:uL,isResponse:cL,isHeaders:fL,isUndefined:wl,isDate:tL,isFile:nL,isBlob:rL,isRegExp:_L,isFunction:kn,isStream:sL,isURLSearchParams:aL,isTypedArray:bL,isFileList:iL,forEach:xl,merge:Rm,extend:dL,trim:hL,stripBOM:pL,inherits:gL,toFlatObject:mL,kindOf:_f,kindOfTest:$n,endsWith:vL,toArray:yL,forEachEntry:wL,matchAll:xL,isHTMLForm:CL,hasOwnProperty:BS,hasOwnProp:BS,reduceDescriptors:NS,freezeMethods:EL,toObjectSet:kL,toCamelCase:SL,noop:TL,toFiniteNumber:OL,findKey:IS,global:LS,isContextDefined:zS,ALPHABET:VS,generateString:PL,isSpecCompliantForm:DL,toJSONObject:AL,isAsyncFn:ML,isThenable:e=>e&&(kf(e)||kn(e))&&kn(e.then)&&kn(e.catch)};function ke(e,t,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=e,this.name="AxiosError",t&&(this.code=t),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i)}Q.inherits(ke,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Q.toJSONObject(this.config),code:this.code,status:this.response&&this.response.status?this.response.status:null}}});const HS=ke.prototype,US={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(e=>{US[e]={value:e}}),Object.defineProperties(ke,US),Object.defineProperty(HS,"isAxiosError",{value:!0}),ke.from=(e,t,n,r,i,s)=>{const h=Object.create(HS);return Q.toFlatObject(e,h,function(o){return o!==Error.prototype},a=>a!=="isAxiosError"),ke.call(h,e.message,t,n,r,i),h.cause=e,h.name=e.name,s&&Object.assign(h,s),h};const jL=null;function Im(e){return Q.isPlainObject(e)||Q.isArray(e)}function WS(e){return Q.endsWith(e,"[]")?e.slice(0,-2):e}function XS(e,t,n){return e?e.concat(t).map(function(i,s){return i=WS(i),!n&&s?"["+i+"]":i}).join(n?".":""):t}function RL(e){return Q.isArray(e)&&!e.some(Im)}const FL=Q.toFlatObject(Q,{},null,function(t){return/^is[A-Z]/.test(t)});function Of(e,t,n){if(!Q.isObject(e))throw new TypeError("target must be an object");t=t||new FormData,n=Q.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(m,g){return!Q.isUndefined(g[m])});const r=n.metaTokens,i=n.visitor||d,s=n.dots,h=n.indexes,o=(n.Blob||typeof Blob<"u"&&Blob)&&Q.isSpecCompliantForm(t);if(!Q.isFunction(i))throw new TypeError("visitor must be a function");function u(p){if(p===null)return"";if(Q.isDate(p))return p.toISOString();if(!o&&Q.isBlob(p))throw new ke("Blob is not supported. Use a Buffer instead.");return Q.isArrayBuffer(p)||Q.isTypedArray(p)?o&&typeof Blob=="function"?new Blob([p]):Buffer.from(p):p}function d(p,m,g){let v=p;if(p&&!g&&typeof p=="object"){if(Q.endsWith(m,"{}"))m=r?m:m.slice(0,-2),p=JSON.stringify(p);else if(Q.isArray(p)&&RL(p)||(Q.isFileList(p)||Q.endsWith(m,"[]"))&&(v=Q.toArray(p)))return m=WS(m),v.forEach(function(b,w){!(Q.isUndefined(b)||b===null)&&t.append(h===!0?XS([m],w,s):h===null?m:m+"[]",u(b))}),!1}return Im(p)?!0:(t.append(XS(g,m,s),u(p)),!1)}const l=[],c=Object.assign(FL,{defaultVisitor:d,convertValue:u,isVisitable:Im});function f(p,m){if(!Q.isUndefined(p)){if(l.indexOf(p)!==-1)throw Error("Circular reference detected in "+m.join("."));l.push(p),Q.forEach(p,function(v,y){(!(Q.isUndefined(v)||v===null)&&i.call(t,v,Q.isString(y)?y.trim():y,m,c))===!0&&f(v,m?m.concat(y):[y])}),l.pop()}}if(!Q.isObject(e))throw new TypeError("data must be an object");return f(e),t}function YS(e){const t={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(e).replace(/[!'()~]|%20|%00/g,function(r){return t[r]})}function Lm(e,t){this._pairs=[],e&&Of(e,this,t)}const GS=Lm.prototype;GS.append=function(t,n){this._pairs.push([t,n])},GS.toString=function(t){const n=t?function(r){return t.call(this,r,YS)}:YS;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function IL(e){return encodeURIComponent(e).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function KS(e,t,n){if(!t)return e;const r=n&&n.encode||IL,i=n&&n.serialize;let s;if(i?s=i(t,n):s=Q.isURLSearchParams(t)?t.toString():new Lm(t,n).toString(r),s){const h=e.indexOf("#");h!==-1&&(e=e.slice(0,h)),e+=(e.indexOf("?")===-1?"?":"&")+s}return e}class LL{constructor(){this.handlers=[]}use(t,n,r){return this.handlers.push({fulfilled:t,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(t){this.handlers[t]&&(this.handlers[t]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(t){Q.forEach(this.handlers,function(r){r!==null&&t(r)})}}const qS=LL,QS={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},zL={isBrowser:!0,classes:{URLSearchParams:typeof URLSearchParams<"u"?URLSearchParams:Lm,FormData:typeof FormData<"u"?FormData:null,Blob:typeof Blob<"u"?Blob:null},protocols:["http","https","file","blob","url","data"]},zm=typeof window<"u"&&typeof document<"u",BL=(e=>zm&&["ReactNative","NativeScript","NS"].indexOf(e)<0)(typeof navigator<"u"&&navigator.product),NL=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),$L=zm&&window.location.href||"http://localhost",Vn={...Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:zm,hasStandardBrowserEnv:BL,hasStandardBrowserWebWorkerEnv:NL,origin:$L},Symbol.toStringTag,{value:"Module"})),...zL};function VL(e,t){return Of(e,new Vn.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return Vn.isNode&&Q.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},t))}function HL(e){return Q.matchAll(/\w+|\[(\w*)]/g,e).map(t=>t[0]==="[]"?"":t[1]||t[0])}function UL(e){const t={},n=Object.keys(e);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],t[s]=e[s];return t}function JS(e){function t(n,r,i,s){let h=n[s++];if(h==="__proto__")return!0;const a=Number.isFinite(+h),o=s>=n.length;return h=!h&&Q.isArray(i)?i.length:h,o?(Q.hasOwnProp(i,h)?i[h]=[i[h],r]:i[h]=r,!a):((!i[h]||!Q.isObject(i[h]))&&(i[h]=[]),t(n,r,i[h],s)&&Q.isArray(i[h])&&(i[h]=UL(i[h])),!a)}if(Q.isFormData(e)&&Q.isFunction(e.entries)){const n={};return Q.forEachEntry(e,(r,i)=>{t(HL(r),i,n,0)}),n}return null}function WL(e,t,n){if(Q.isString(e))try{return(t||JSON.parse)(e),Q.trim(e)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(e)}const Bm={transitional:QS,adapter:["xhr","http","fetch"],transformRequest:[function(t,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=Q.isObject(t);if(s&&Q.isHTMLForm(t)&&(t=new FormData(t)),Q.isFormData(t))return i?JSON.stringify(JS(t)):t;if(Q.isArrayBuffer(t)||Q.isBuffer(t)||Q.isStream(t)||Q.isFile(t)||Q.isBlob(t)||Q.isReadableStream(t))return t;if(Q.isArrayBufferView(t))return t.buffer;if(Q.isURLSearchParams(t))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),t.toString();let a;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return VL(t,this.formSerializer).toString();if((a=Q.isFileList(t))||r.indexOf("multipart/form-data")>-1){const o=this.env&&this.env.FormData;return Of(a?{"files[]":t}:t,o&&new o,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),WL(t)):t}],transformResponse:[function(t){const n=this.transitional||Bm.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Q.isResponse(t)||Q.isReadableStream(t))return t;if(t&&Q.isString(t)&&(r&&!this.responseType||i)){const h=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(t)}catch(a){if(h)throw a.name==="SyntaxError"?ke.from(a,ke.ERR_BAD_RESPONSE,this,null,this.response):a}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Vn.classes.FormData,Blob:Vn.classes.Blob},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Q.forEach(["delete","get","head","post","put","patch"],e=>{Bm.headers[e]={}});const Nm=Bm,XL=Q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),YL=e=>{const t={};let n,r,i;return e&&e.split(`
`).forEach(function(h){i=h.indexOf(":"),n=h.substring(0,i).trim().toLowerCase(),r=h.substring(i+1).trim(),!(!n||t[n]&&XL[n])&&(n==="set-cookie"?t[n]?t[n].push(r):t[n]=[r]:t[n]=t[n]?t[n]+", "+r:r)}),t},ZS=Symbol("internals");function Cl(e){return e&&String(e).trim().toLowerCase()}function Pf(e){return e===!1||e==null?e:Q.isArray(e)?e.map(Pf):String(e)}function GL(e){const t=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(e);)t[r[1]]=r[2];return t}const KL=e=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(e.trim());function $m(e,t,n,r,i){if(Q.isFunction(r))return r.call(this,t,n);if(i&&(t=n),!!Q.isString(t)){if(Q.isString(r))return t.indexOf(r)!==-1;if(Q.isRegExp(r))return r.test(t)}}function qL(e){return e.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(t,n,r)=>n.toUpperCase()+r)}function QL(e,t){const n=Q.toCamelCase(" "+t);["get","set","has"].forEach(r=>{Object.defineProperty(e,r+n,{value:function(i,s,h){return this[r].call(this,t,i,s,h)},configurable:!0})})}class Df{constructor(t){t&&this.set(t)}set(t,n,r){const i=this;function s(a,o,u){const d=Cl(o);if(!d)throw new Error("header name must be a non-empty string");const l=Q.findKey(i,d);(!l||i[l]===void 0||u===!0||u===void 0&&i[l]!==!1)&&(i[l||o]=Pf(a))}const h=(a,o)=>Q.forEach(a,(u,d)=>s(u,d,o));if(Q.isPlainObject(t)||t instanceof this.constructor)h(t,n);else if(Q.isString(t)&&(t=t.trim())&&!KL(t))h(YL(t),n);else if(Q.isHeaders(t))for(const[a,o]of t.entries())s(o,a,r);else t!=null&&s(n,t,r);return this}get(t,n){if(t=Cl(t),t){const r=Q.findKey(this,t);if(r){const i=this[r];if(!n)return i;if(n===!0)return GL(i);if(Q.isFunction(n))return n.call(this,i,r);if(Q.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(t,n){if(t=Cl(t),t){const r=Q.findKey(this,t);return!!(r&&this[r]!==void 0&&(!n||$m(this,this[r],r,n)))}return!1}delete(t,n){const r=this;let i=!1;function s(h){if(h=Cl(h),h){const a=Q.findKey(r,h);a&&(!n||$m(r,r[a],a,n))&&(delete r[a],i=!0)}}return Q.isArray(t)?t.forEach(s):s(t),i}clear(t){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!t||$m(this,this[s],s,t,!0))&&(delete this[s],i=!0)}return i}normalize(t){const n=this,r={};return Q.forEach(this,(i,s)=>{const h=Q.findKey(r,s);if(h){n[h]=Pf(i),delete n[s];return}const a=t?qL(s):String(s).trim();a!==s&&delete n[s],n[a]=Pf(i),r[a]=!0}),this}concat(...t){return this.constructor.concat(this,...t)}toJSON(t){const n=Object.create(null);return Q.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=t&&Q.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([t,n])=>t+": "+n).join(`
`)}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(t){return t instanceof this?t:new this(t)}static concat(t,...n){const r=new this(t);return n.forEach(i=>r.set(i)),r}static accessor(t){const r=(this[ZS]=this[ZS]={accessors:{}}).accessors,i=this.prototype;function s(h){const a=Cl(h);r[a]||(QL(i,h),r[a]=!0)}return Q.isArray(t)?t.forEach(s):s(t),this}}Df.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]),Q.reduceDescriptors(Df.prototype,({value:e},t)=>{let n=t[0].toUpperCase()+t.slice(1);return{get:()=>e,set(r){this[n]=r}}}),Q.freezeMethods(Df);const Hn=Df;function Vm(e,t){const n=this||Nm,r=t||n,i=Hn.from(r.headers);let s=r.data;return Q.forEach(e,function(a){s=a.call(n,s,i.normalize(),t?t.status:void 0)}),i.normalize(),s}function e_(e){return!!(e&&e.__CANCEL__)}function Ro(e,t,n){ke.call(this,e??"canceled",ke.ERR_CANCELED,t,n),this.name="CanceledError"}Q.inherits(Ro,ke,{__CANCEL__:!0});function t_(e,t,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?e(n):t(new ke("Request failed with status code "+n.status,[ke.ERR_BAD_REQUEST,ke.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function JL(e){const t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(e);return t&&t[1]||""}function ZL(e,t){e=e||10;const n=new Array(e),r=new Array(e);let i=0,s=0,h;return t=t!==void 0?t:1e3,function(o){const u=Date.now(),d=r[s];h||(h=u),n[i]=o,r[i]=u;let l=s,c=0;for(;l!==i;)c+=n[l++],l=l%e;if(i=(i+1)%e,i===s&&(s=(s+1)%e),u-h<t)return;const f=d&&u-d;return f?Math.round(c*1e3/f):void 0}}function ez(e,t){let n=0;const r=1e3/t;let i=null;return function(){const h=this===!0,a=Date.now();if(h||a-n>r)return i&&(clearTimeout(i),i=null),n=a,e.apply(null,arguments);i||(i=setTimeout(()=>(i=null,n=Date.now(),e.apply(null,arguments)),r-(a-n)))}}const Af=(e,t,n=3)=>{let r=0;const i=ZL(50,250);return ez(s=>{const h=s.loaded,a=s.lengthComputable?s.total:void 0,o=h-r,u=i(o),d=h<=a;r=h;const l={loaded:h,total:a,progress:a?h/a:void 0,bytes:o,rate:u||void 0,estimated:u&&a&&d?(a-h)/u:void 0,event:s,lengthComputable:a!=null};l[t?"download":"upload"]=!0,e(l)},n)},tz=Vn.hasStandardBrowserEnv?function(){const t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a");let r;function i(s){let h=s;return t&&(n.setAttribute("href",h),h=n.href),n.setAttribute("href",h),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return r=i(window.location.href),function(h){const a=Q.isString(h)?i(h):h;return a.protocol===r.protocol&&a.host===r.host}}():function(){return function(){return!0}}(),nz=Vn.hasStandardBrowserEnv?{write(e,t,n,r,i,s){const h=[e+"="+encodeURIComponent(t)];Q.isNumber(n)&&h.push("expires="+new Date(n).toGMTString()),Q.isString(r)&&h.push("path="+r),Q.isString(i)&&h.push("domain="+i),s===!0&&h.push("secure"),document.cookie=h.join("; ")},read(e){const t=document.cookie.match(new RegExp("(^|;\\s*)("+e+")=([^;]*)"));return t?decodeURIComponent(t[3]):null},remove(e){this.write(e,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function rz(e){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(e)}function iz(e,t){return t?e.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):e}function n_(e,t){return e&&!rz(t)?iz(e,t):t}const r_=e=>e instanceof Hn?{...e}:e;function fs(e,t){t=t||{};const n={};function r(u,d,l){return Q.isPlainObject(u)&&Q.isPlainObject(d)?Q.merge.call({caseless:l},u,d):Q.isPlainObject(d)?Q.merge({},d):Q.isArray(d)?d.slice():d}function i(u,d,l){if(Q.isUndefined(d)){if(!Q.isUndefined(u))return r(void 0,u,l)}else return r(u,d,l)}function s(u,d){if(!Q.isUndefined(d))return r(void 0,d)}function h(u,d){if(Q.isUndefined(d)){if(!Q.isUndefined(u))return r(void 0,u)}else return r(void 0,d)}function a(u,d,l){if(l in t)return r(u,d);if(l in e)return r(void 0,u)}const o={url:s,method:s,data:s,baseURL:h,transformRequest:h,transformResponse:h,paramsSerializer:h,timeout:h,timeoutMessage:h,withCredentials:h,withXSRFToken:h,adapter:h,responseType:h,xsrfCookieName:h,xsrfHeaderName:h,onUploadProgress:h,onDownloadProgress:h,decompress:h,maxContentLength:h,maxBodyLength:h,beforeRedirect:h,transport:h,httpAgent:h,httpsAgent:h,cancelToken:h,socketPath:h,responseEncoding:h,validateStatus:a,headers:(u,d)=>i(r_(u),r_(d),!0)};return Q.forEach(Object.keys(Object.assign({},e,t)),function(d){const l=o[d]||i,c=l(e[d],t[d],d);Q.isUndefined(c)&&l!==a||(n[d]=c)}),n}const i_=e=>{const t=fs({},e);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:h,auth:a}=t;t.headers=h=Hn.from(h),t.url=KS(n_(t.baseURL,t.url),e.params,e.paramsSerializer),a&&h.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):"")));let o;if(Q.isFormData(n)){if(Vn.hasStandardBrowserEnv||Vn.hasStandardBrowserWebWorkerEnv)h.setContentType(void 0);else if((o=h.getContentType())!==!1){const[u,...d]=o?o.split(";").map(l=>l.trim()).filter(Boolean):[];h.setContentType([u||"multipart/form-data",...d].join("; "))}}if(Vn.hasStandardBrowserEnv&&(r&&Q.isFunction(r)&&(r=r(t)),r||r!==!1&&tz(t.url))){const u=i&&s&&nz.read(s);u&&h.set(i,u)}return t},sz=typeof XMLHttpRequest<"u"&&function(e){return new Promise(function(n,r){const i=i_(e);let s=i.data;const h=Hn.from(i.headers).normalize();let{responseType:a}=i,o;function u(){i.cancelToken&&i.cancelToken.unsubscribe(o),i.signal&&i.signal.removeEventListener("abort",o)}let d=new XMLHttpRequest;d.open(i.method.toUpperCase(),i.url,!0),d.timeout=i.timeout;function l(){if(!d)return;const f=Hn.from("getAllResponseHeaders"in d&&d.getAllResponseHeaders()),m={data:!a||a==="text"||a==="json"?d.responseText:d.response,status:d.status,statusText:d.statusText,headers:f,config:e,request:d};t_(function(v){n(v),u()},function(v){r(v),u()},m),d=null}"onloadend"in d?d.onloadend=l:d.onreadystatechange=function(){!d||d.readyState!==4||d.status===0&&!(d.responseURL&&d.responseURL.indexOf("file:")===0)||setTimeout(l)},d.onabort=function(){d&&(r(new ke("Request aborted",ke.ECONNABORTED,i,d)),d=null)},d.onerror=function(){r(new ke("Network Error",ke.ERR_NETWORK,i,d)),d=null},d.ontimeout=function(){let p=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const m=i.transitional||QS;i.timeoutErrorMessage&&(p=i.timeoutErrorMessage),r(new ke(p,m.clarifyTimeoutError?ke.ETIMEDOUT:ke.ECONNABORTED,i,d)),d=null},s===void 0&&h.setContentType(null),"setRequestHeader"in d&&Q.forEach(h.toJSON(),function(p,m){d.setRequestHeader(m,p)}),Q.isUndefined(i.withCredentials)||(d.withCredentials=!!i.withCredentials),a&&a!=="json"&&(d.responseType=i.responseType),typeof i.onDownloadProgress=="function"&&d.addEventListener("progress",Af(i.onDownloadProgress,!0)),typeof i.onUploadProgress=="function"&&d.upload&&d.upload.addEventListener("progress",Af(i.onUploadProgress)),(i.cancelToken||i.signal)&&(o=f=>{d&&(r(!f||f.type?new Ro(null,e,d):f),d.abort(),d=null)},i.cancelToken&&i.cancelToken.subscribe(o),i.signal&&(i.signal.aborted?o():i.signal.addEventListener("abort",o)));const c=JL(i.url);if(c&&Vn.protocols.indexOf(c)===-1){r(new ke("Unsupported protocol "+c+":",ke.ERR_BAD_REQUEST,e));return}d.send(s||null)})},oz=(e,t)=>{let n=new AbortController,r;const i=function(o){if(!r){r=!0,h();const u=o instanceof Error?o:this.reason;n.abort(u instanceof ke?u:new Ro(u instanceof Error?u.message:u))}};let s=t&&setTimeout(()=>{i(new ke(`timeout ${t} of ms exceeded`,ke.ETIMEDOUT))},t);const h=()=>{e&&(s&&clearTimeout(s),s=null,e.forEach(o=>{o&&(o.removeEventListener?o.removeEventListener("abort",i):o.unsubscribe(i))}),e=null)};e.forEach(o=>o&&o.addEventListener&&o.addEventListener("abort",i));const{signal:a}=n;return a.unsubscribe=h,[a,()=>{s&&clearTimeout(s),s=null}]},az=function*(e,t){let n=e.byteLength;if(!t||n<t){yield e;return}let r=0,i;for(;r<n;)i=r+t,yield e.slice(r,i),r=i},lz=async function*(e,t,n){for await(const r of e)yield*az(ArrayBuffer.isView(r)?r:await n(String(r)),t)},s_=(e,t,n,r,i)=>{const s=lz(e,t,i);let h=0;return new ReadableStream({type:"bytes",async pull(a){const{done:o,value:u}=await s.next();if(o){a.close(),r();return}let d=u.byteLength;n&&n(h+=d),a.enqueue(new Uint8Array(u))},cancel(a){return r(a),s.return()}},{highWaterMark:2})},o_=(e,t)=>{const n=e!=null;return r=>setTimeout(()=>t({lengthComputable:n,total:e,loaded:r}))},Mf=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",a_=Mf&&typeof ReadableStream=="function",Hm=Mf&&(typeof TextEncoder=="function"?(e=>t=>e.encode(t))(new TextEncoder):async e=>new Uint8Array(await new Response(e).arrayBuffer())),uz=a_&&(()=>{let e=!1;const t=new Request(Vn.origin,{body:new ReadableStream,method:"POST",get duplex(){return e=!0,"half"}}).headers.has("Content-Type");return e&&!t})(),l_=64*1024,Um=a_&&!!(()=>{try{return Q.isReadableStream(new Response("").body)}catch{}})(),jf={stream:Um&&(e=>e.body)};Mf&&(e=>{["text","arrayBuffer","blob","formData","stream"].forEach(t=>{!jf[t]&&(jf[t]=Q.isFunction(e[t])?n=>n[t]():(n,r)=>{throw new ke(`Response type '${t}' is not supported`,ke.ERR_NOT_SUPPORT,r)})})})(new Response);const cz=async e=>{if(e==null)return 0;if(Q.isBlob(e))return e.size;if(Q.isSpecCompliantForm(e))return(await new Request(e).arrayBuffer()).byteLength;if(Q.isArrayBufferView(e))return e.byteLength;if(Q.isURLSearchParams(e)&&(e=e+""),Q.isString(e))return(await Hm(e)).byteLength},fz=async(e,t)=>{const n=Q.toFiniteNumber(e.getContentLength());return n??cz(t)},Wm={http:jL,xhr:sz,fetch:Mf&&(async e=>{let{url:t,method:n,data:r,signal:i,cancelToken:s,timeout:h,onDownloadProgress:a,onUploadProgress:o,responseType:u,headers:d,withCredentials:l="same-origin",fetchOptions:c}=i_(e);u=u?(u+"").toLowerCase():"text";let[f,p]=i||s||h?oz([i,s],h):[],m,g;const v=()=>{!m&&setTimeout(()=>{f&&f.unsubscribe()}),m=!0};let y;try{if(o&&uz&&n!=="get"&&n!=="head"&&(y=await fz(d,r))!==0){let S=new Request(t,{method:"POST",body:r,duplex:"half"}),_;Q.isFormData(r)&&(_=S.headers.get("content-type"))&&d.setContentType(_),S.body&&(r=s_(S.body,l_,o_(y,Af(o)),null,Hm))}Q.isString(l)||(l=l?"cors":"omit"),g=new Request(t,{...c,signal:f,method:n.toUpperCase(),headers:d.normalize().toJSON(),body:r,duplex:"half",withCredentials:l});let b=await fetch(g);const w=Um&&(u==="stream"||u==="response");if(Um&&(a||w)){const S={};["status","statusText","headers"].forEach(T=>{S[T]=b[T]});const _=Q.toFiniteNumber(b.headers.get("content-length"));b=new Response(s_(b.body,l_,a&&o_(_,Af(a,!0)),w&&v,Hm),S)}u=u||"text";let C=await jf[Q.findKey(jf,u)||"text"](b,e);return!w&&v(),p&&p(),await new Promise((S,_)=>{t_(S,_,{data:C,headers:Hn.from(b.headers),status:b.status,statusText:b.statusText,config:e,request:g})})}catch(b){throw v(),b&&b.name==="TypeError"&&/fetch/i.test(b.message)?Object.assign(new ke("Network Error",ke.ERR_NETWORK,e,g),{cause:b.cause||b}):ke.from(b,b&&b.code,e,g)}})};Q.forEach(Wm,(e,t)=>{if(e){try{Object.defineProperty(e,"name",{value:t})}catch{}Object.defineProperty(e,"adapterName",{value:t})}});const u_=e=>`- ${e}`,hz=e=>Q.isFunction(e)||e===null||e===!1,c_={getAdapter:e=>{e=Q.isArray(e)?e:[e];const{length:t}=e;let n,r;const i={};for(let s=0;s<t;s++){n=e[s];let h;if(r=n,!hz(n)&&(r=Wm[(h=String(n)).toLowerCase()],r===void 0))throw new ke(`Unknown adapter '${h}'`);if(r)break;i[h||"#"+s]=r}if(!r){const s=Object.entries(i).map(([a,o])=>`adapter ${a} `+(o===!1?"is not supported by the environment":"is not available in the build"));let h=t?s.length>1?`since :
`+s.map(u_).join(`
`):" "+u_(s[0]):"as no adapter specified";throw new ke("There is no suitable adapter to dispatch the request "+h,"ERR_NOT_SUPPORT")}return r},adapters:Wm};function Xm(e){if(e.cancelToken&&e.cancelToken.throwIfRequested(),e.signal&&e.signal.aborted)throw new Ro(null,e)}function f_(e){return Xm(e),e.headers=Hn.from(e.headers),e.data=Vm.call(e,e.transformRequest),["post","put","patch"].indexOf(e.method)!==-1&&e.headers.setContentType("application/x-www-form-urlencoded",!1),c_.getAdapter(e.adapter||Nm.adapter)(e).then(function(r){return Xm(e),r.data=Vm.call(e,e.transformResponse,r),r.headers=Hn.from(r.headers),r},function(r){return e_(r)||(Xm(e),r&&r.response&&(r.response.data=Vm.call(e,e.transformResponse,r.response),r.response.headers=Hn.from(r.response.headers))),Promise.reject(r)})}const h_="1.7.2",Ym={};["object","boolean","number","function","string","symbol"].forEach((e,t)=>{Ym[e]=function(r){return typeof r===e||"a"+(t<1?"n ":" ")+e}});const d_={};Ym.transitional=function(t,n,r){function i(s,h){return"[Axios v"+h_+"] Transitional option '"+s+"'"+h+(r?". "+r:"")}return(s,h,a)=>{if(t===!1)throw new ke(i(h," has been removed"+(n?" in "+n:"")),ke.ERR_DEPRECATED);return n&&!d_[h]&&(d_[h]=!0,console.warn(i(h," has been deprecated since v"+n+" and will be removed in the near future"))),t?t(s,h,a):!0}};function dz(e,t,n){if(typeof e!="object")throw new ke("options must be an object",ke.ERR_BAD_OPTION_VALUE);const r=Object.keys(e);let i=r.length;for(;i-- >0;){const s=r[i],h=t[s];if(h){const a=e[s],o=a===void 0||h(a,s,e);if(o!==!0)throw new ke("option "+s+" must be "+o,ke.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new ke("Unknown option "+s,ke.ERR_BAD_OPTION)}}const Gm={assertOptions:dz,validators:Ym},gi=Gm.validators;class Rf{constructor(t){this.defaults=t,this.interceptors={request:new qS,response:new qS}}async request(t,n){try{return await this._request(t,n)}catch(r){if(r instanceof Error){let i;Error.captureStackTrace?Error.captureStackTrace(i={}):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(t,n){typeof t=="string"?(n=n||{},n.url=t):n=t||{},n=fs(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&Gm.assertOptions(r,{silentJSONParsing:gi.transitional(gi.boolean),forcedJSONParsing:gi.transitional(gi.boolean),clarifyTimeoutError:gi.transitional(gi.boolean)},!1),i!=null&&(Q.isFunction(i)?n.paramsSerializer={serialize:i}:Gm.assertOptions(i,{encode:gi.function,serialize:gi.function},!0)),n.method=(n.method||this.defaults.method||"get").toLowerCase();let h=s&&Q.merge(s.common,s[n.method]);s&&Q.forEach(["delete","get","head","post","put","patch","common"],p=>{delete s[p]}),n.headers=Hn.concat(h,s);const a=[];let o=!0;this.interceptors.request.forEach(function(m){typeof m.runWhen=="function"&&m.runWhen(n)===!1||(o=o&&m.synchronous,a.unshift(m.fulfilled,m.rejected))});const u=[];this.interceptors.response.forEach(function(m){u.push(m.fulfilled,m.rejected)});let d,l=0,c;if(!o){const p=[f_.bind(this),void 0];for(p.unshift.apply(p,a),p.push.apply(p,u),c=p.length,d=Promise.resolve(n);l<c;)d=d.then(p[l++],p[l++]);return d}c=a.length;let f=n;for(l=0;l<c;){const p=a[l++],m=a[l++];try{f=p(f)}catch(g){m.call(this,g);break}}try{d=f_.call(this,f)}catch(p){return Promise.reject(p)}for(l=0,c=u.length;l<c;)d=d.then(u[l++],u[l++]);return d}getUri(t){t=fs(this.defaults,t);const n=n_(t.baseURL,t.url);return KS(n,t.params,t.paramsSerializer)}}Q.forEach(["delete","get","head","options"],function(t){Rf.prototype[t]=function(n,r){return this.request(fs(r||{},{method:t,url:n,data:(r||{}).data}))}}),Q.forEach(["post","put","patch"],function(t){function n(r){return function(s,h,a){return this.request(fs(a||{},{method:t,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:h}))}}Rf.prototype[t]=n(),Rf.prototype[t+"Form"]=n(!0)});const Ff=Rf;class Km{constructor(t){if(typeof t!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const h=new Promise(a=>{r.subscribe(a),s=a}).then(i);return h.cancel=function(){r.unsubscribe(s)},h},t(function(s,h,a){r.reason||(r.reason=new Ro(s,h,a),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(t){if(this.reason){t(this.reason);return}this._listeners?this._listeners.push(t):this._listeners=[t]}unsubscribe(t){if(!this._listeners)return;const n=this._listeners.indexOf(t);n!==-1&&this._listeners.splice(n,1)}static source(){let t;return{token:new Km(function(i){t=i}),cancel:t}}}const pz=Km;function gz(e){return function(n){return e.apply(null,n)}}function mz(e){return Q.isObject(e)&&e.isAxiosError===!0}const qm={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(qm).forEach(([e,t])=>{qm[t]=e});const vz=qm;function p_(e){const t=new Ff(e),n=jS(Ff.prototype.request,t);return Q.extend(n,Ff.prototype,t,{allOwnKeys:!0}),Q.extend(n,t,null,{allOwnKeys:!0}),n.create=function(i){return p_(fs(e,i))},n}const lt=p_(Nm);lt.Axios=Ff,lt.CanceledError=Ro,lt.CancelToken=pz,lt.isCancel=e_,lt.VERSION=h_,lt.toFormData=Of,lt.AxiosError=ke,lt.Cancel=lt.CanceledError,lt.all=function(t){return Promise.all(t)},lt.spread=gz,lt.isAxiosError=mz,lt.mergeConfig=fs,lt.AxiosHeaders=Hn,lt.formToJSON=e=>JS(Q.isHTMLForm(e)?new FormData(e):e),lt.getAdapter=c_.getAdapter,lt.HttpStatusCode=vz,lt.default=lt;const g_=lt;function Qm(e,t){var n;return g_.isAxiosError(e)&&((n=e.response)==null?void 0:n.status)==t}const m_=new KI({defaultOptions:{queries:{staleTime:3e4,retry:(e,t)=>!Qm(t,401)&&!Qm(t,403)&&!Qm(t,404)&&e<2}}}),If=g_.create();If.defaults.withCredentials=!0,If.defaults.responseType="json",If.defaults.headers={common:{Accept:"application/json"}};const yz=["auth","secure","log-viewer","horizon"];If.interceptors.request.use(e=>{var n,r,i,s;!yz.some(h=>{var a;return(a=e.url)==null?void 0:a.startsWith(h)})&&!um(e==null?void 0:e.url)&&(e.url=`api/v1/${e.url}`);const t=(n=e.method)==null?void 0:n.toUpperCase();return t==="GET"&&Array.isArray((r=e.params)==null?void 0:r.with)&&(e.params.with=e.params.with.join(",")),t==="GET"&&Array.isArray((i=e.params)==null?void 0:i.load)&&(e.params.load=e.params.load.join(",")),t==="GET"&&Array.isArray((s=e.params)==null?void 0:s.loadCount)&&(e.params.loadCount=e.params.loadCount.join(",")),(t==="PUT"||t==="DELETE"||t==="PATCH")&&(e.headers={...e.headers,"X-HTTP-Method-Override":t},e.method="POST",e.params={...e.params,_method:t}),e});const v_=["bootstrapData"];function bz(){return m_.getQueryData(v_)}const wz=typeof window<"u"&&window.bootstrapData?xz(window.bootstrapData):void 0;m_.setQueryData(v_,wz);function xz(e){return typeof e=="string"?JSON.parse(e):e}const Cz=768;function Sz(){return rm()||typeof window>"u"?bz().is_mobile_device:window.screen.width<=Cz}const Lf={initial:{opacity:0,y:5},animate:{opacity:1,y:0},exit:{opacity:0,y:5},transition:{type:"tween",duration:.125}};function Jm(){const{width:e,height:t}=uR();return{"--be-viewport-height":`${t}px`,"--be-viewport-width":`${e}px`}}let Sl=null,_z=new Set,_l=new Map,hs=!1,Zm=!1;function e0(e,t){for(let n of _z)n(e,t)}function Ez(e){return!(e.metaKey||!OC()&&e.altKey||e.ctrlKey||e.key==="Control"||e.key==="Shift"||e.key==="Meta")}function zf(e){hs=!0,Ez(e)&&(Sl="keyboard",e0("keyboard",e))}function Tn(e){Sl="pointer",(e.type==="mousedown"||e.type==="pointerdown")&&(hs=!0,e0("pointer",e))}function y_(e){cR(e)&&(hs=!0,Sl="virtual")}function b_(e){e.target===window||e.target===document||(!hs&&!Zm&&(Sl="virtual",e0("virtual",e)),hs=!1,Zm=!1)}function w_(){hs=!1,Zm=!0}function x_(e){if(typeof window>"u"||_l.get(rf(e)))return;const t=rf(e),n=Dt(e);let r=t.HTMLElement.prototype.focus;t.HTMLElement.prototype.focus=function(){hs=!0,r.apply(this,arguments)},n.addEventListener("keydown",zf,!0),n.addEventListener("keyup",zf,!0),n.addEventListener("click",y_,!0),t.addEventListener("focus",b_,!0),t.addEventListener("blur",w_,!1),typeof PointerEvent<"u"?(n.addEventListener("pointerdown",Tn,!0),n.addEventListener("pointermove",Tn,!0),n.addEventListener("pointerup",Tn,!0)):(n.addEventListener("mousedown",Tn,!0),n.addEventListener("mousemove",Tn,!0),n.addEventListener("mouseup",Tn,!0)),t.addEventListener("beforeunload",()=>{C_(e)},{once:!0}),_l.set(t,{focus:r})}const C_=(e,t)=>{const n=rf(e),r=Dt(e);t&&r.removeEventListener("DOMContentLoaded",t),_l.has(n)&&(n.HTMLElement.prototype.focus=_l.get(n).focus,r.removeEventListener("keydown",zf,!0),r.removeEventListener("keyup",zf,!0),r.removeEventListener("click",y_,!0),n.removeEventListener("focus",b_,!0),n.removeEventListener("blur",w_,!1),typeof PointerEvent<"u"?(r.removeEventListener("pointerdown",Tn,!0),r.removeEventListener("pointermove",Tn,!0),r.removeEventListener("pointerup",Tn,!0)):(r.removeEventListener("mousedown",Tn,!0),r.removeEventListener("mousemove",Tn,!0),r.removeEventListener("mouseup",Tn,!0)),_l.delete(n))};function kz(e){const t=Dt(e);let n;return t.readyState!=="loading"?x_(e):(n=()=>{x_(e)},t.addEventListener("DOMContentLoaded",n)),()=>C_(e,n)}typeof document<"u"&&kz();function Tz(){return Sl}function Oz(e){const t=Dt(e);if(Tz()==="virtual"){let n=t.activeElement;lR(()=>{t.activeElement===n&&e.isConnected&&TC(e)})}else TC(e)}function Pz(e){const t=rf(e);if(!(e instanceof t.HTMLElement)&&!(e instanceof t.SVGElement))return!1;let{display:n,visibility:r}=e.style,i=n!=="none"&&r!=="hidden"&&r!=="collapse";if(i){const{getComputedStyle:s}=e.ownerDocument.defaultView;let{display:h,visibility:a}=s(e);i=h!=="none"&&a!=="hidden"&&a!=="collapse"}return i}function Dz(e,t){return!e.hasAttribute("hidden")&&!e.hasAttribute("data-react-aria-prevent-focus")&&(e.nodeName==="DETAILS"&&t&&t.nodeName!=="SUMMARY"?e.hasAttribute("open"):!0)}function S_(e,t){return e.nodeName!=="#comment"&&Pz(e)&&Dz(e,t)&&(!e.parentElement||S_(e.parentElement,e))}const t0=de.createContext(null);let Ye=null;function Bf(e){let{children:t,contain:n,restoreFocus:r,autoFocus:i}=e,s=k.useRef(null),h=k.useRef(null),a=k.useRef([]),{parentNode:o}=k.useContext(t0)||{},u=k.useMemo(()=>new s0({scopeRef:a}),[a]);fn(()=>{let c=o||ut.root;if(ut.getTreeNode(c.scopeRef)&&Ye&&!Nf(Ye,c.scopeRef)){let f=ut.getTreeNode(Ye);f&&(c=f)}c.addChild(u),ut.addNode(u)},[u,o]),fn(()=>{let c=ut.getTreeNode(a);c&&(c.contain=!!n)},[n]),fn(()=>{var c;let f=(c=s.current)===null||c===void 0?void 0:c.nextSibling,p=[];for(;f&&f!==h.current;)p.push(f),f=f.nextSibling;a.current=p},[t]),Lz(a,r,n),Fz(a,n),Bz(a,r,n),Iz(a,i),k.useEffect(()=>{const c=Dt(a.current?a.current[0]:void 0).activeElement;let f=null;if(Mt(c,a.current)){for(let p of ut.traverse())p.scopeRef&&Mt(c,p.scopeRef.current)&&(f=p);f===ut.getTreeNode(a)&&(Ye=f.scopeRef)}},[a]),fn(()=>()=>{var c,f,p;let m=(p=(f=ut.getTreeNode(a))===null||f===void 0||(c=f.parent)===null||c===void 0?void 0:c.scopeRef)!==null&&p!==void 0?p:null;(a===Ye||Nf(a,Ye))&&(!m||ut.getTreeNode(m))&&(Ye=m),ut.removeTreeNode(a)},[a]);let d=k.useMemo(()=>Mz(a),[]),l=k.useMemo(()=>({focusManager:d,parentNode:u}),[u,d]);return de.createElement(t0.Provider,{value:l},de.createElement("span",{"data-focus-scope-start":!0,hidden:!0,ref:s}),t,de.createElement("span",{"data-focus-scope-end":!0,hidden:!0,ref:h}))}function Az(){var e;return(e=k.useContext(t0))===null||e===void 0?void 0:e.focusManager}function Mz(e){return{focusNext(t={}){let n=e.current,{from:r,tabbable:i,wrap:s,accept:h}=t,a=r||Dt(n[0]).activeElement,o=n[0].previousElementSibling,u=ds(n),d=Or(u,{tabbable:i,accept:h},n);d.currentNode=Mt(a,n)?a:o;let l=d.nextNode();return!l&&s&&(d.currentNode=o,l=d.nextNode()),l&&Tr(l,!0),l},focusPrevious(t={}){let n=e.current,{from:r,tabbable:i,wrap:s,accept:h}=t,a=r||Dt(n[0]).activeElement,o=n[n.length-1].nextElementSibling,u=ds(n),d=Or(u,{tabbable:i,accept:h},n);d.currentNode=Mt(a,n)?a:o;let l=d.previousNode();return!l&&s&&(d.currentNode=o,l=d.previousNode()),l&&Tr(l,!0),l},focusFirst(t={}){let n=e.current,{tabbable:r,accept:i}=t,s=ds(n),h=Or(s,{tabbable:r,accept:i},n);h.currentNode=n[0].previousElementSibling;let a=h.nextNode();return a&&Tr(a,!0),a},focusLast(t={}){let n=e.current,{tabbable:r,accept:i}=t,s=ds(n),h=Or(s,{tabbable:r,accept:i},n);h.currentNode=n[n.length-1].nextElementSibling;let a=h.previousNode();return a&&Tr(a,!0),a}}}const n0=["input:not([disabled]):not([type=hidden])","select:not([disabled])","textarea:not([disabled])","button:not([disabled])","a[href]","area[href]","summary","iframe","object","embed","audio[controls]","video[controls]","[contenteditable]"],jz=n0.join(":not([hidden]),")+",[tabindex]:not([disabled]):not([hidden])";n0.push('[tabindex]:not([tabindex="-1"]):not([disabled])');const Rz=n0.join(':not([hidden]):not([tabindex="-1"]),');function ds(e){return e[0].parentElement}function El(e){let t=ut.getTreeNode(Ye);for(;t&&t.scopeRef!==e;){if(t.contain)return!1;t=t.parent}return!0}function Fz(e,t){let n=k.useRef(),r=k.useRef();fn(()=>{let i=e.current;if(!t){r.current&&(cancelAnimationFrame(r.current),r.current=void 0);return}const s=Dt(i?i[0]:void 0);let h=u=>{if(u.key!=="Tab"||u.altKey||u.ctrlKey||u.metaKey||!El(e)||u.isComposing)return;let d=s.activeElement,l=e.current;if(!l||!Mt(d,l))return;let c=ds(l),f=Or(c,{tabbable:!0},l);if(!d)return;f.currentNode=d;let p=u.shiftKey?f.previousNode():f.nextNode();p||(f.currentNode=u.shiftKey?l[l.length-1].nextElementSibling:l[0].previousElementSibling,p=u.shiftKey?f.previousNode():f.nextNode()),u.preventDefault(),p&&Tr(p,!0)},a=u=>{(!Ye||Nf(Ye,e))&&Mt(u.target,e.current)?(Ye=e,n.current=u.target):El(e)&&!r0(u.target,e)?n.current?n.current.focus():Ye&&Ye.current&&$f(Ye.current):El(e)&&(n.current=u.target)},o=u=>{r.current&&cancelAnimationFrame(r.current),r.current=requestAnimationFrame(()=>{if(s.activeElement&&El(e)&&!r0(s.activeElement,e))if(Ye=e,s.body.contains(u.target)){var d;n.current=u.target,(d=n.current)===null||d===void 0||d.focus()}else Ye.current&&$f(Ye.current)})};return s.addEventListener("keydown",h,!1),s.addEventListener("focusin",a,!1),i==null||i.forEach(u=>u.addEventListener("focusin",a,!1)),i==null||i.forEach(u=>u.addEventListener("focusout",o,!1)),()=>{s.removeEventListener("keydown",h,!1),s.removeEventListener("focusin",a,!1),i==null||i.forEach(u=>u.removeEventListener("focusin",a,!1)),i==null||i.forEach(u=>u.removeEventListener("focusout",o,!1))}},[e,t]),fn(()=>()=>{r.current&&cancelAnimationFrame(r.current)},[r])}function __(e){return r0(e)}function Mt(e,t){return!e||!t?!1:t.some(n=>n.contains(e))}function r0(e,t=null){if(e instanceof Element&&e.closest("[data-react-aria-top-layer]"))return!0;for(let{scopeRef:n}of ut.traverse(ut.getTreeNode(t)))if(n&&Mt(e,n.current))return!0;return!1}function Nf(e,t){var n;let r=(n=ut.getTreeNode(t))===null||n===void 0?void 0:n.parent;for(;r;){if(r.scopeRef===e)return!0;r=r.parent}return!1}function Tr(e,t=!1){if(e!=null&&!t)try{Oz(e)}catch{}else if(e!=null)try{e.focus()}catch{}}function $f(e,t=!0){let n=e[0].previousElementSibling,r=ds(e),i=Or(r,{tabbable:t},e);i.currentNode=n;let s=i.nextNode();t&&!s&&(r=ds(e),i=Or(r,{tabbable:!1},e),i.currentNode=n,s=i.nextNode()),Tr(s)}function Iz(e,t){const n=de.useRef(t);k.useEffect(()=>{if(n.current){Ye=e;const r=Dt(e.current?e.current[0]:void 0);!Mt(r.activeElement,Ye.current)&&e.current&&$f(e.current)}n.current=!1},[e])}function Lz(e,t,n){fn(()=>{if(t||n)return;let r=e.current;const i=Dt(r?r[0]:void 0);let s=h=>{let a=h.target;Mt(a,e.current)?Ye=e:__(a)||(Ye=null)};return i.addEventListener("focusin",s,!1),r==null||r.forEach(h=>h.addEventListener("focusin",s,!1)),()=>{i.removeEventListener("focusin",s,!1),r==null||r.forEach(h=>h.removeEventListener("focusin",s,!1))}},[e,t,n])}function zz(e){let t=ut.getTreeNode(Ye);for(;t&&t.scopeRef!==e;){if(t.nodeToRestore)return!1;t=t.parent}return(t==null?void 0:t.scopeRef)===e}function Bz(e,t,n){const r=k.useRef(typeof document<"u"?Dt(e.current?e.current[0]:void 0).activeElement:null);fn(()=>{let i=e.current;const s=Dt(i?i[0]:void 0);if(!t||n)return;let h=()=>{(!Ye||Nf(Ye,e))&&Mt(s.activeElement,e.current)&&(Ye=e)};return s.addEventListener("focusin",h,!1),i==null||i.forEach(a=>a.addEventListener("focusin",h,!1)),()=>{s.removeEventListener("focusin",h,!1),i==null||i.forEach(a=>a.removeEventListener("focusin",h,!1))}},[e,n]),fn(()=>{const i=Dt(e.current?e.current[0]:void 0);if(!t)return;let s=h=>{if(h.key!=="Tab"||h.altKey||h.ctrlKey||h.metaKey||!El(e)||h.isComposing)return;let a=i.activeElement;if(!Mt(a,e.current))return;let o=ut.getTreeNode(e);if(!o)return;let u=o.nodeToRestore,d=Or(i.body,{tabbable:!0});d.currentNode=a;let l=h.shiftKey?d.previousNode():d.nextNode();if((!u||!i.body.contains(u)||u===i.body)&&(u=void 0,o.nodeToRestore=void 0),(!l||!Mt(l,e.current))&&u){d.currentNode=u;do l=h.shiftKey?d.previousNode():d.nextNode();while(Mt(l,e.current));h.preventDefault(),h.stopPropagation(),l?Tr(l,!0):__(u)?Tr(u,!0):a.blur()}};return n||i.addEventListener("keydown",s,!0),()=>{n||i.removeEventListener("keydown",s,!0)}},[e,t,n]),fn(()=>{const i=Dt(e.current?e.current[0]:void 0);if(!t)return;let s=ut.getTreeNode(e);if(s){var h;return s.nodeToRestore=(h=r.current)!==null&&h!==void 0?h:void 0,()=>{let a=ut.getTreeNode(e);if(!a)return;let o=a.nodeToRestore;if(t&&o&&(Mt(i.activeElement,e.current)||i.activeElement===i.body&&zz(e))){let u=ut.clone();requestAnimationFrame(()=>{if(i.activeElement===i.body){let d=u.getTreeNode(e);for(;d;){if(d.nodeToRestore&&d.nodeToRestore.isConnected){Tr(d.nodeToRestore);return}d=d.parent}for(d=u.getTreeNode(e);d;){if(d.scopeRef&&d.scopeRef.current&&ut.getTreeNode(d.scopeRef)){$f(d.scopeRef.current,!0);return}d=d.parent}}})}}}},[e,t])}function Or(e,t,n){let r=t!=null&&t.tabbable?Rz:jz,i=Dt(e).createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode(s){var h;return!(t==null||(h=t.from)===null||h===void 0)&&h.contains(s)?NodeFilter.FILTER_REJECT:s.matches(r)&&S_(s)&&(!n||Mt(s,n))&&(!(t!=null&&t.accept)||t.accept(s))?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});return t!=null&&t.from&&(i.currentNode=t.from),i}class i0{get size(){return this.fastMap.size}getTreeNode(t){return this.fastMap.get(t)}addTreeNode(t,n,r){let i=this.fastMap.get(n??null);if(!i)return;let s=new s0({scopeRef:t});i.addChild(s),s.parent=i,this.fastMap.set(t,s),r&&(s.nodeToRestore=r)}addNode(t){this.fastMap.set(t.scopeRef,t)}removeTreeNode(t){if(t===null)return;let n=this.fastMap.get(t);if(!n)return;let r=n.parent;for(let s of this.traverse())s!==n&&n.nodeToRestore&&s.nodeToRestore&&n.scopeRef&&n.scopeRef.current&&Mt(s.nodeToRestore,n.scopeRef.current)&&(s.nodeToRestore=n.nodeToRestore);let i=n.children;r&&(r.removeChild(n),i.size>0&&i.forEach(s=>r&&r.addChild(s))),this.fastMap.delete(n.scopeRef)}*traverse(t=this.root){if(t.scopeRef!=null&&(yield t),t.children.size>0)for(let n of t.children)yield*this.traverse(n)}clone(){var t;let n=new i0;var r;for(let i of this.traverse())n.addTreeNode(i.scopeRef,(r=(t=i.parent)===null||t===void 0?void 0:t.scopeRef)!==null&&r!==void 0?r:null,i.nodeToRestore);return n}constructor(){this.fastMap=new Map,this.root=new s0({scopeRef:null}),this.fastMap.set(null,this.root)}}class s0{addChild(t){this.children.add(t),t.parent=this}removeChild(t){this.children.delete(t),t.parent=void 0}constructor(t){this.children=new Set,this.contain=!1,this.scopeRef=t.scopeRef}}let ut=new i0;const Vf=k.forwardRef(({children:e,style:t,autoFocus:n=!1,restoreFocus:r=!0,isDismissable:i,isContextMenu:s,isOpen:h,onClose:a,triggerRef:o,arrowRef:u,arrowStyle:d,onPointerLeave:l,onPointerEnter:c},f)=>{const p=Jm(),m=as(f),{domProps:g}=Nz({isDismissable:i,isOpen:h,onClose:a,triggerRef:o,isContextMenu:s},m);return x.jsx(Pt.div,{className:"isolate z-popover",role:"presentation",ref:m,style:{...p,...t,position:"fixed"},...Lf,..._r(g,{onPointerLeave:l,onPointerEnter:c}),children:x.jsx(Bf,{restoreFocus:r,autoFocus:n,contain:!1,children:e})})}),kl=[];function Nz({onClose:e,isDismissable:t=!0,triggerRef:n,isContextMenu:r=!1},i){const s=k.useRef({isPointerDown:!1,isContextMenu:r,onClose:e}),h=s.current;h.isContextMenu=r,h.onClose=e;const a=k.useCallback(p=>{const m=p.target;if(m){const g=m.ownerDocument;if(!g||!g.documentElement.contains(m))return!1}return i.current&&!i.current.contains(m)},[i]),o=k.useCallback(()=>kl[kl.length-1]===i,[i]),u=k.useCallback(()=>{o()&&h.onClose()},[o,h]),d=k.useCallback(p=>{var m,g;return n.current&&"contains"in n.current?(g=(m=n.current).contains)==null?void 0:g.call(m,p):!1},[n]),l=k.useCallback(p=>{d(p.target)||o()&&(p.stopPropagation(),p.preventDefault())},[d,o]),c=k.useCallback(p=>{d(p.target)||(o()&&(p.stopPropagation(),p.preventDefault()),(!h.isContextMenu||p.button!==2)&&u())},[d,u,h,o]);return k.useEffect(()=>{kl.push(i);const p=y=>{a(y)&&(l(y),s.current.isPointerDown=!0)},m=y=>{s.current.isPointerDown&&a(y)&&(s.current.isPointerDown=!1,c(y))},g=y=>{y.preventDefault(),a(y)&&u()},v=y=>{if(!n.current)return;const b=y.target;let w;n.current instanceof Node?w=n.current:"contextElement"in n.current&&(w=n.current.contextElement),(!(b instanceof Node)||!w||b.contains(w))&&h.onClose()};return document.addEventListener("pointerdown",p,!0),document.addEventListener("pointerup",m,!0),document.addEventListener("contextmenu",g,!0),document.addEventListener("scroll",v,!0),()=>{const y=kl.indexOf(i);y>=0&&kl.splice(y,1),document.removeEventListener("pointerdown",p,!0),document.removeEventListener("pointerup",m,!0),document.removeEventListener("contextmenu",g,!0),document.removeEventListener("scroll",v,!0)}},[i,a,h,c,l,n,d,u]),{domProps:{onKeyDown:p=>{p.key==="Escape"&&(p.stopPropagation(),p.preventDefault(),u())}}}}const $z={initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},transition:{duration:.2}};function o0({position:e="absolute",className:t,isTransparent:n=!1,disableInitialTransition:r,...i}){return x.jsx(Pt.div,{...i,className:ce(t,!n&&"bg-background/80","inset-0 z-10 h-full w-full",e,"backdrop-blur-sm"),"aria-hidden":!0,initial:r?void 0:{opacity:0},animate:{opacity:1},exit:{opacity:0},...$z,transition:{duration:.15}})}const E_=k.forwardRef(({children:e,autoFocus:t=!1,restoreFocus:n=!0,isDismissable:r,isOpen:i,onClose:s},h)=>{const a=Jm(),o=as(h);return x.jsxs("div",{className:"isolate z-tray fixed inset-0",style:a,children:[x.jsx(o0,{onClick:()=>{r&&s()}},"tray-underlay"),x.jsx(Pt.div,{ref:o,className:"absolute bottom-0 left-0 right-0 w-full z-20 rounded-t overflow-hidden max-w-375 max-h-tray mx-auto pb-safe-area",role:"presentation",initial:{opacity:0,y:"100%"},animate:{opacity:1,y:0},exit:{opacity:0,y:"100%"},transition:{type:"tween",duration:.2},children:x.jsx(Bf,{restoreFocus:n,autoFocus:t,contain:!0,children:e})})]})});function a0(e,t){if(e===t)return!0;if(!e||!t)return!1;const n=Object.keys(e),r=Object.keys(t),i=n.length;if(r.length!==i)return!1;for(let s=0;s<i;s++){const h=n[s];if(e[h]!==t[h]||!Object.prototype.hasOwnProperty.call(t,h))return!1}return!0}const k_=k.createContext(null);function Vz(){return k.useContext(k_)}function Hf(){const{data:{i18n:e}}=Vz();return{locale:e,localeCode:(e==null?void 0:e.language)||"en",lines:e==null?void 0:e.lines}}function T_(e,{message:t,values:n}){const r=t.match(/\[(.+?)]/),i=n==null?void 0:n.count;if(r&&r[1]&&!Number.isNaN(i)){const[s,h]=r,a=h.split("|");if(!a.length)return t;const u=Hz(e).select(i);let d=a.find(c=>c.startsWith(u));d||(d=a[0]);const l=d.substring(d.indexOf(" ")+1);return t.replace(s,l)}return t}const Hz=gl(e=>new Intl.PluralRules(e));function O_(e,t){return e==null?!1:Object.hasOwn!==void 0?Object.hasOwn(e,t):Object.hasOwnProperty(t)}const xe=k.memo(e=>{const{message:t,values:n}=e,{lines:r,localeCode:i}=Hf();let s;if(O_(r,t)?s=r==null?void 0:r[t]:O_(r,t==null?void 0:t.toLowerCase())?s=r==null?void 0:r[t==null?void 0:t.toLowerCase()]:s=t,!n||!s)return x.jsx(k.Fragment,{children:s});s=T_(i,{message:s,values:n});const h=[],a=[];if(Object.entries(n).forEach(([o,u])=>{typeof u=="function"?a.push(o):k.isValidElement(u)?h.push(o):u!=null&&(s=s==null?void 0:s.replace(`:${o}`,`${u}`))}),a.length||h.length){const o=[];if(a.length){const c=a.join("");o.push(`(<[${c}]>.+?<\\/[${c}]>)`)}if(h.length){const c=h.join("|");o.push(`(:(?:${c}))`)}const u=new RegExp(o.join("|"),"gm"),l=s.split(u).filter(Boolean).map((c,f)=>{if(c.startsWith("<")&&c.endsWith(">")){const p=c.match(/<([a-z]+)>(.+?)<\/([a-z]+)>/);if(p){const[,m,g]=p,v=n==null?void 0:n[m];if(typeof v=="function"){const y=v(g);return k.cloneElement(y,{key:f})}}}if(c.startsWith(":")){const p=c.replace(":",""),m=n==null?void 0:n[p];if(k.isValidElement(m))return k.cloneElement(m,{key:f})}return c});return x.jsx(k.Fragment,{children:l})}return x.jsx(k.Fragment,{children:s})},Uz);function Uz(e,t){const{values:n,...r}=e,{values:i,...s}=t;return a0(i,n)&&a0(r,s)}function P_({listbox:e,children:t,isLoading:n,mobileOverlay:r=E_,searchField:i,onClose:s,prepend:h,className:a,...o}){const u=Sz(),{floatingWidth:d,floatingMinWidth:l="min-w-180",collection:c,showEmptyMessage:f,state:{isOpen:p,setIsOpen:m},positionStyle:g,floating:v,refs:y}=e,b=!h&&u?r:Vf,w=ce("text-base sm:text-sm outline-none bg max-h-inherit flex flex-col",!h&&"shadow-xl border py-4",a,b===Vf&&"rounded-panel",b===Vf&&d==="auto"?`max-w-288 ${l}`:""),C=k.useMemo(()=>{let T=0;const R=[];return[...c.values()].reduce((F,$)=>{if(!$.section)F.push(k.cloneElement($.element,{key:$.element.key||$.element.props.value}));else if(!R.includes($.section)){const G=k.cloneElement($.section,{key:$.section.key||T,index:T});F.push(G),R.push($.section),T++}return F},[])},[c]),S=C.length>0||f&&!n,_=S?x.jsxs("div",{className:w,role:"presentation",children:[i,x.jsx(Wz,{isLoading:n,...o,children:C})]}):null;return x.jsxs(yS.Provider,{value:e,children:[t,h?_:Li&&bo.createPortal(x.jsx(Sr,{children:p&&S&&x.jsx(b,{triggerRef:y.reference,restoreFocus:!0,isOpen:p,onClose:()=>{s==null||s(),m(!1)},isDismissable:!0,style:g,ref:v,children:_})}),Li)]})}function Wz({className:e,children:t,isLoading:n,...r}){const{role:i,listboxId:s,virtualFocus:h,focusItem:a,state:{activeIndex:o,setActiveIndex:u,selectedIndex:d}}=Om(),l=k.useRef(!0),c=k.useRef(null);return k.useEffect(()=>()=>u(null),[u]),k.useEffect(()=>{if(l.current){const f=o??d;f==null&&!h?requestAnimationFrame(()=>{var p;(p=c.current)==null||p.focus({preventScroll:!0})}):f!=null&&requestAnimationFrame(()=>{a("increment",f)})}l.current=!1},[o,d,a,h]),x.jsx("div",{tabIndex:h?void 0:-1,role:i,id:s,className:"flex-auto overflow-y-auto overscroll-contain outline-none",ref:c,...r,children:t.length?t:x.jsx(Xz,{})})}function Xz(){return x.jsx("div",{className:"px-8 py-4 text-sm italic text-muted",children:x.jsx(xe,{message:"There are no items matching your query"})})}function D_({state:{isOpen:e,setIsOpen:t,selectedIndex:n,activeIndex:r,setInputValue:i,setActiveIndex:s},focusLoopingMode:h,collection:a,focusItem:o,handleItemSelection:u,allowCustomValue:d}){const l=p=>{if(!(e||!p.currentTarget.contains(p.target))){if(p.key==="ArrowDown")return p.preventDefault(),t(!0),o("increment",n??0),!0;if(p.key==="ArrowUp")return p.preventDefault(),t(!0),o("decrement",n??a.size-1),!0;if(p.key==="Enter"||p.key==="Space")return p.preventDefault(),t(!0),o("increment",n??0),!0}},c=p=>{const m=Math.max(0,a.size-1);if(!(!e||!p.currentTarget.contains(p.target)))switch(p.key){case"ArrowDown":return p.preventDefault(),r==null?o("increment",0):r>=m?h==="loop"?o("increment",0):h==="deselect"&&s(null):o("increment",r+1),!0;case"ArrowUp":return p.preventDefault(),r==null?o("decrement",m):r<=0?h==="loop"?o("decrement",m):h==="deselect"&&s(null):o("decrement",r-1),!0;case"Home":return p.preventDefault(),o("increment",0),!0;case"End":return p.preventDefault(),o("decrement",m),!0;case"Tab":return t(!1),!0}};return{handleTriggerKeyDown:l,handleListboxKeyboardNavigation:c,handleListboxSearchFieldKeydown:p=>{var g,v;if(p.key==="Enter"&&r!=null&&a.size){p.preventDefault();const[y,b]=[...a.entries()][r];y&&(u(y),(v=(g=b.element.props).onSelected)==null||v.call(g));return}p.key==="Escape"&&e&&(t(!1),d||i("")),l(p)||c(p)}}}const l0=new Map;function Yz(e){const{localeCode:t}=Hf(),n=t+(e?Object.entries(e).sort((i,s)=>i[0]<s[0]?-1:1).join():"");if(l0.has(n))return l0.get(n);const r=new Intl.Collator(t,e);return l0.set(n,r),r}function A_(){const e=Yz({usage:"search",sensitivity:"base"}),t=k.useRef({search:"",timeout:void 0}).current,n=(i,s)=>{let h=s??0;for(;h!=null;){const a=i[h],o=a==null?void 0:a.slice(0,t.search.length);if(o&&e.compare(o,t.search)===0)return h;if(h<i.length-1)h++;else return null}return null};return{findMatchingItem:(i,s,h=0)=>{const a=Gz(i.key);if(!a||i.ctrlKey||i.metaKey)return null;a===" "&&t.search.trim().length>0&&(i.preventDefault(),i.stopPropagation()),t.search+=a;let o=n(s,h);return o==null&&(o=n(s,0)),clearTimeout(t.timeout),t.timeout=setTimeout(()=>{t.search=""},500),o??null}}}function Gz(e){return e.length===1||!/^[A-Z]/i.test(e)?e:""}function Kz(e,{noSSR:t}={noSSR:!0}){const n=typeof window<"u"&&typeof window.matchMedia=="function",[r,i]=k.useState(t?()=>n?window.matchMedia(e).matches:!1:null);return k.useEffect(()=>{if(!n)return;const s=window.matchMedia(e),h=()=>{i(s.matches)};return s.addEventListener("change",h),t||h(),()=>{s.removeEventListener("change",h)}},[n,e,t]),typeof window>"u"?null:r}function Uf(e){return Kz("(max-width: 768px)",e)}const M_=be(x.jsx("path",{d:"M15.5 14h-.79l-.28-.27C15.41 12.59 16 11.11 16 9.5 16 5.91 13.09 3 9.5 3S3 5.91 3 9.5 5.91 16 9.5 16c1.61 0 3.09-.59 4.23-1.57l.27.28v.79l5 4.99L20.49 19l-4.99-5zm-6 0C7.01 14 5 11.99 5 9.5S7.01 5 9.5 5 14 7.01 14 9.5 11.99 14 9.5 14z"}),"SearchOutlined");var qz=e=>e.type==="checkbox",Qz=e=>e instanceof Date,j_=e=>e==null;const Jz=e=>typeof e=="object";var Fo=e=>!j_(e)&&!Array.isArray(e)&&Jz(e)&&!Qz(e),Zz=e=>Fo(e)&&e.target?qz(e.target)?e.target.checked:e.target.value:e,eB=e=>e.substring(0,e.search(/\.\d+(\.|$)/))||e,tB=(e,t)=>e.has(eB(t)),nB=e=>{const t=e.constructor&&e.constructor.prototype;return Fo(t)&&t.hasOwnProperty("isPrototypeOf")},rB=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function u0(e){let t;const n=Array.isArray(e);if(e instanceof Date)t=new Date(e);else if(e instanceof Set)t=new Set(e);else if(!(rB&&(e instanceof Blob||e instanceof FileList))&&(n||Fo(e)))if(t=n?[]:{},!n&&!nB(e))t=e;else for(const r in e)e.hasOwnProperty(r)&&(t[r]=u0(e[r]));else return e;return t}var R_=e=>Array.isArray(e)?e.filter(Boolean):[],c0=e=>e===void 0,jt=(e,t,n)=>{if(!t||!Fo(e))return n;const r=R_(t.split(/[,[\].]+?/)).reduce((i,s)=>j_(i)?i:i[s],e);return c0(r)||r===e?c0(e[t])?n:e[t]:r},F_=e=>typeof e=="boolean",iB=e=>/^\w*$/.test(e),sB=e=>R_(e.replace(/["|']|\]/g,"").split(/\.|\[/)),I_=(e,t,n)=>{let r=-1;const i=iB(t)?[t]:sB(t),s=i.length,h=s-1;for(;++r<s;){const a=i[r];let o=n;if(r!==h){const u=e[a];o=Fo(u)||Array.isArray(u)?u:isNaN(+i[r+1])?{}:[]}if(a==="__proto__")return;e[a]=o,e=e[a]}return e};const L_={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},f0={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},oB=de.createContext(null),h0=()=>de.useContext(oB);var aB=(e,t,n,r=!0)=>{const i={defaultValues:t._defaultValues};for(const s in e)Object.defineProperty(i,s,{get:()=>{const h=s;return t._proxyFormState[h]!==f0.all&&(t._proxyFormState[h]=!r||f0.all),n&&(n[h]=!0),e[h]}});return i},lB=e=>Fo(e)&&!Object.keys(e).length,uB=(e,t,n,r)=>{n(e);const{name:i,...s}=e;return lB(s)||Object.keys(s).length>=Object.keys(t).length||Object.keys(s).find(h=>t[h]===(!r||f0.all))},cB=e=>Array.isArray(e)?e:[e],z_=(e,t,n)=>!e||!t||e===t||cB(e).some(r=>r&&(n?r===t:r.startsWith(t)||t.startsWith(r)));function B_(e){const t=de.useRef(e);t.current=e,de.useEffect(()=>{const n=!e.disabled&&t.current.subject&&t.current.subject.subscribe({next:t.current.next});return()=>{n&&n.unsubscribe()}},[e.disabled])}function fB(e){const t=h0(),{control:n=t.control,disabled:r,name:i,exact:s}=e||{},[h,a]=de.useState(n._formState),o=de.useRef(!0),u=de.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1}),d=de.useRef(i);return d.current=i,B_({disabled:r,next:l=>o.current&&z_(d.current,l.name,s)&&uB(l,u.current,n._updateFormState)&&a({...n._formState,...l}),subject:n._subjects.state}),de.useEffect(()=>(o.current=!0,u.current.isValid&&n._updateValid(!0),()=>{o.current=!1}),[n]),aB(h,n,u.current,!1)}var hB=e=>typeof e=="string",dB=(e,t,n,r,i)=>hB(e)?(r&&t.watch.add(e),jt(n,e,i)):Array.isArray(e)?e.map(s=>(r&&t.watch.add(s),jt(n,s))):(r&&(t.watchAll=!0),n);function pB(e){const t=h0(),{control:n=t.control,name:r,defaultValue:i,disabled:s,exact:h}=e||{},a=de.useRef(r);a.current=r,B_({disabled:s,subject:n._subjects.values,next:d=>{z_(a.current,d.name,h)&&u(u0(dB(a.current,n._names,d.values||n._formValues,!1,i)))}});const[o,u]=de.useState(n._getWatch(r,i));return de.useEffect(()=>n._removeUnmounted()),o}function gB(e){const t=h0(),{name:n,disabled:r,control:i=t.control,shouldUnregister:s}=e,h=tB(i._names.array,n),a=pB({control:i,name:n,defaultValue:jt(i._formValues,n,jt(i._defaultValues,n,e.defaultValue)),exact:!0}),o=fB({control:i,name:n}),u=de.useRef(i.register(n,{...e.rules,value:a,...F_(e.disabled)?{disabled:e.disabled}:{}}));return de.useEffect(()=>{const d=i._options.shouldUnregister||s,l=(c,f)=>{const p=jt(i._fields,c);p&&p._f&&(p._f.mount=f)};if(l(n,!0),d){const c=u0(jt(i._options.defaultValues,n));I_(i._defaultValues,n,c),c0(jt(i._formValues,n))&&I_(i._formValues,n,c)}return()=>{(h?d&&!i._state.action:d)?i.unregister(n):l(n,!1)}},[n,i,h,s]),de.useEffect(()=>{jt(i._fields,n)&&i._updateDisabledField({disabled:r,fields:i._fields,name:n,value:jt(i._fields,n)._f.value})},[r,n,i]),{field:{name:n,value:a,...F_(r)||o.disabled?{disabled:o.disabled||r}:{},onChange:de.useCallback(d=>u.current.onChange({target:{value:Zz(d),name:n},type:L_.CHANGE}),[n]),onBlur:de.useCallback(()=>u.current.onBlur({target:{value:jt(i._formValues,n),name:n},type:L_.BLUR}),[n,i]),ref:d=>{const l=jt(i._fields,n);l&&d&&(l._f.ref={focus:()=>d.focus(),select:()=>d.select(),setCustomValidity:c=>d.setCustomValidity(c),reportValidity:()=>d.reportValidity()})}},formState:o,fieldState:Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!jt(o.errors,n)},isDirty:{enumerable:!0,get:()=>!!jt(o.dirtyFields,n)},isTouched:{enumerable:!0,get:()=>!!jt(o.touchedFields,n)},isValidating:{enumerable:!0,get:()=>!!jt(o.validatingFields,n)},error:{enumerable:!0,get:()=>jt(o.errors,n)}})}}function ps(e={}){const{size:t="md",startAppend:n,endAppend:r,className:i,labelPosition:s,labelDisplay:h="block",inputClassName:a,inputWrapperClassName:o,unstyled:u,invalid:d,disabled:l,background:c="bg-transparent",flexibleHeight:f,inputShadow:p="shadow-sm",descriptionPosition:m="bottom",inputRing:g,inputFontSize:v,labelSuffix:y}={...e};if(u)return{label:"",input:a||"",wrapper:i||"",inputWrapper:o||"",adornment:"",append:{size:"",radius:""},size:{font:"",height:""},description:"",error:""};const b=bB({size:e.size,flexibleHeight:f});v&&(b.font=v);const w=n||r,S=g||`focus:ring ${d?"focus:ring-danger/focus focus:border-danger/60":"focus:ring-primary/focus focus:border-primary/60"}`,_=yB(e);return{label:ce(h,"first-letter:capitalize text-left whitespace-nowrap",l&&"text-disabled",b.font,y?"":s==="side"?"mr-16":"mb-4"),input:ce("block text-left relative w-full appearance-none transition-shadow text",c,_.input,mB(e),!l&&`${S} focus:outline-none ${p}`,l&&"text-disabled cursor-not-allowed",a,b.font,b.height,vB(e)),adornment:wB(t),append:{size:vm(t),radius:_.append},wrapper:ce(i,b.font,{"flex items-center":s==="side"}),inputWrapper:ce("isolate relative",o,w&&"flex items-stretch"),size:b,description:`text-muted ${m==="bottom"?"pt-10":"pb-10"} text-xs`,error:"text-danger pt-10 text-xs"}}function mB({startAppend:e,endAppend:t,inputBorder:n,invalid:r}){if(n)return n;const i=e||t,s=r?"border-danger":"border-divider";return i?e?`${s} border-y border-r`:`${s} border-y border-l`:`${s} border`}function vB({startAdornment:e,endAdornment:t,inputRadius:n}){return n==="rounded-full"?ce(e?"pl-54":"pl-28",t?"pr-54":"pr-28"):ce(e?"pl-46":"pl-12",t?"pr-46":"pr-12")}function yB(e){const{startAppend:t,endAppend:n,inputRadius:r}=e,i=t||n;return r==="rounded-full"?{input:ce(!i&&"rounded-full",t&&"rounded-r-full rounded-l-none",n&&"rounded-l-full rounded-r-none"),append:t?"rounded-l-full":"rounded-r-full"}:r==="rounded-none"?{input:"",append:""}:r?{input:r,append:r}:{input:ce(!i&&"rounded-input",t&&"rounded-r-input rounded-l-none",n&&"rounded-l-input rounded-r-none"),append:t?"rounded-l-input":"rounded-r-input"}}function bB({size:e,flexibleHeight:t}){switch(e){case"2xs":return{font:"text-xs",height:t?"min-h-24":"h-24"};case"xs":return{font:"text-xs",height:t?"min-h-30":"h-30"};case"sm":return{font:"text-sm",height:t?"min-h-36":"h-36"};case"lg":return{font:"text-md md:text-lg",height:t?"min-h-50":"h-50"};case"xl":return{font:"text-xl",height:t?"min-h-60":"h-60"};default:return{font:"text-sm",height:t?"min-h-42":"h-42"}}}function wB(e){switch(e){case"2xs":return"icon-2xs";case"xs":return"icon-xs";case"sm":return"icon-sm";case"md":return"icon-sm";case"lg":return"icon-lg";case"xl":return"icon-xl";default:return""}}function N_({children:e,direction:t,className:n,position:r=t==="start"?"left-0":"right-0"}){return e?x.jsx("div",{className:ce("pointer-events-none absolute top-0 z-10 flex h-full min-w-42 items-center justify-center text-muted",r,n),children:e}):null}function $_(e,t){const n=(t==null?void 0:t.copy)??!0,r=n?{...e}:e;return Object.keys(r).forEach(i=>{const s=i;t!=null&&t.arrays&&Array.isArray(r[s])&&r[s].length===0?delete r[s]:t!=null&&t.deep&&r[s]&&typeof r[s]=="object"?(r[s]=$_(r[s],t),Object.keys(r[s]).length===0&&delete r[s]):(r[s]==null||r[s]==="")&&delete r[s]}),n?r:e}const V_=de.forwardRef((e,t)=>{const{children:n,description:r,errorMessage:i,descriptionProps:s={},errorMessageProps:h={},startAdornment:a,endAdornment:o,adornmentPosition:u,startAppend:d,endAppend:l,fieldClassNames:c,disabled:f,wrapperProps:p}=e;return x.jsxs("div",{className:c.wrapper,ref:t,...p,children:[x.jsx(xB,{...e}),x.jsxs("div",{className:c.inputWrapper,children:[x.jsx(N_,{direction:"start",className:c.adornment,position:u,children:a}),d&&x.jsx(H_,{style:c.append,disabled:f,children:d}),n,l&&x.jsx(H_,{style:c.append,disabled:f,children:l}),x.jsx(N_,{direction:"end",className:c.adornment,position:u,children:o})]}),r&&!i&&x.jsx("div",{className:c.description,...s,children:r}),i&&x.jsx("div",{className:c.error,...h,children:i})]})});function xB({labelElementType:e,fieldClassNames:t,labelProps:n,label:r,labelSuffix:i,labelSuffixPosition:s="spaced",required:h}){if(!r)return null;const a=e||"label",o=x.jsxs(a,{className:t.label,...n,children:[r,h&&x.jsx("span",{className:"text-danger",children:" *"})]});return i?x.jsxs("div",{className:ce("mb-4 flex w-full gap-4",s==="spaced"?"items-end":"items-center"),children:[o,x.jsx("div",{className:ce("text-xs text-muted",s==="spaced"?"ml-auto":""),children:i})]}):o}function H_({children:e,style:t,disabled:n}){return de.cloneElement(e,{...e.props,disabled:e.props.disabled||n,...$_(t)})}function d0({autoFocus:e,autoSelectText:t},n){const r=k.useRef(e);k.useEffect(()=>{r.current&&n.current&&requestAnimationFrame(()=>{var i,s;(i=n.current)==null||i.focus(),t&&((s=n.current)==null?void 0:s.nodeName.toLowerCase())==="input"&&n.current.select()}),r.current=!1},[n,t])}function U_(e){const{focusRef:t,labelElementType:n="label",label:r,labelSuffix:i,labelSuffixPosition:s,autoFocus:h,autoSelectText:a,labelPosition:o,descriptionPosition:u,size:d,errorMessage:l,description:c,flexibleHeight:f,startAdornment:p,endAdornment:m,startAppend:g,adornmentPosition:v,endAppend:y,className:b,inputClassName:w,inputWrapperClassName:C,unstyled:S,background:_,invalid:T,disabled:R,id:F,inputRadius:$,inputBorder:G,inputShadow:ne,inputRing:X,inputFontSize:J,...re}=e;d0(e,t);const ie=k.useId(),V=F||ie,E=`${V}-label`,P=`${V}-description`,A=`${V}-error`,j={id:E,htmlFor:n==="label"?V:void 0},H={id:P},M={id:A},I={"aria-label":!e.label&&!e["aria-label"]&&e.placeholder?e.placeholder:e["aria-label"],"aria-invalid":T||void 0,id:V,disabled:R,...re},B=[];r&&B.push(j.id),I["aria-labelledby"]&&B.push(I["aria-labelledby"]),I["aria-labelledby"]=B.length?B.join(" "):void 0;const W=[];return c&&W.push(H.id),l&&W.push(M.id),I["aria-describedby"]&&W.push(I["aria-describedby"]),I["aria-describedby"]=W.length?W.join(" "):void 0,{fieldProps:{errorMessageProps:M,descriptionProps:H,labelProps:j,disabled:R,label:r,labelSuffix:i,labelSuffixPosition:s,autoFocus:h,autoSelectText:a,labelPosition:o,descriptionPosition:u,size:d,errorMessage:l,description:c,flexibleHeight:f,startAdornment:p,endAdornment:m,startAppend:g,adornmentPosition:v,endAppend:y,className:b,inputClassName:w,inputWrapperClassName:C,unstyled:S,background:_,invalid:T},inputProps:I}}const Pr=k.forwardRef(({inputElementType:e="input",flexibleHeight:t,inputRef:n,inputTestId:r,...i},s)=>{const h=as(n),{fieldProps:a,inputProps:o}=U_({...i,focusRef:h}),u=e==="textarea",d=u?"textarea":"input",l=ps({...i,flexibleHeight:t||e==="textarea"});return e==="textarea"&&!i.unstyled&&(l.input=`${l.input} py-12`),x.jsx(V_,{ref:s,fieldClassNames:l,...a,children:x.jsx(d,{"data-testid":r,ref:h,...o,rows:u?o.rows||4:void 0,className:l.input})})});de.forwardRef(({name:e,...t},n)=>{const{field:{onChange:r,onBlur:i,value:s="",ref:h},fieldState:{invalid:a,error:o}}=gB({name:e}),u={onChange:r,onBlur:i,value:s??"",invalid:a,errorMessage:o==null?void 0:o.message,inputRef:h,name:e};return x.jsx(Pr,{ref:n,..._r(u,t)})});const CB=k.forwardRef((e,t)=>{const{searchPlaceholder:n,showSearchField:r,children:[i,s],floatingWidth:h="auto",isLoading:a}=e,o=k.useId(),u=Uf(),d=vS({...e,clearInputOnItemSelection:!0,showEmptyMessage:r,floatingWidth:u?"auto":h,virtualFocus:r,role:r?"listbox":"menu",focusLoopingMode:r?"stay":"loop",children:s.props.children},t),{state:{isOpen:l,setIsOpen:c,activeIndex:f,inputValue:p,setInputValue:m},listboxId:g,focusItem:v,listContent:y,reference:b,onInputChange:w}=d,{handleTriggerKeyDown:C,handleListboxKeyboardNavigation:S,handleListboxSearchFieldKeydown:_}=D_(d),{findMatchingItem:T}=A_(),R=F=>{if(!l)return;const $=T(F,y,f);$!=null&&v("increment",$)};return x.jsx(P_,{onClick:F=>F.stopPropagation(),listbox:d,onKeyDownCapture:r?void 0:R,onKeyDown:S,onClose:r?()=>m(""):void 0,"aria-labelledby":o,isLoading:a,searchField:r?x.jsx(Pr,{size:"sm",placeholder:n,startAdornment:x.jsx(M_,{}),className:"flex-shrink-0 px-8 pb-8 pt-4",autoFocus:!0,"aria-expanded":l?"true":"false","aria-haspopup":"listbox","aria-controls":l?g:void 0,"aria-autocomplete":"list",autoComplete:"off",autoCorrect:"off",spellCheck:"false",value:p,onChange:w,onKeyDown:F=>{_(F)}}):null,children:k.cloneElement(i,{id:o,"aria-expanded":l?"true":"false","aria-haspopup":"menu","aria-controls":l?g:void 0,ref:b,onKeyDown:C,onClick:Qt(F=>{var $,G;(G=($=i.props)==null?void 0:$.onClick)==null||G.call($,F),c(!l)})})})});function SB({children:e}){return e}function _B({item:e,button:t}){return x.jsxs(CB,{children:[t,x.jsx(SB,{children:(e.menuItems||[]).map(n=>x.jsx(bf,{value:n.label,onSelected:()=>{n.action(D().editor)},children:n.label},n.label))})]})}const Ne=k.forwardRef(({children:e,size:t="md",iconSize:n=t&&t.length<=3?t:"md",variant:r="text",radius:i="rounded-button",className:s,padding:h,equalWidth:a=!0,badge:o,...u},d)=>{const l=ce(vm(t,{padding:h,equalWidth:a,variant:r}),s,o&&"relative");return x.jsxs(Er,{...u,ref:d,radius:i,variant:r,className:l,children:[k.cloneElement(e,{size:n}),o]})});function EB({icon:e,className:t,size:n}){let r;return de.isValidElement(e)?r=de.cloneElement(e,{className:"svg-iconEl"}):typeof e=="string"?r=x.jsx("img",{className:"w-font h-font",src:e,alt:""}):Array.isArray(e)?r=de.createElement(yO(e),{size:n}):r=de.createElement(e,{size:n}),x.jsx("span",{className:ce(t,"leading-none"),children:r})}const p0=de.memo(EB);function g0({value:e}){return e?typeof e=="string"?x.jsx(xe,{message:e}):x.jsx(xe,{...e}):null}function kB({item:e}){const t=e.label?x.jsx(OB,{item:e}):x.jsx(TB,{item:e});return e.menuItems?x.jsx(_B,{item:e,button:t}):de.cloneElement(t,{onClick:()=>{var n;(n=e.action)==null||n.call(e,D().editor)}})}const TB=k.forwardRef(({item:e,...t},n)=>x.jsx(Ne,{ref:n,radius:"rounded-full",size:"sm",...t,children:x.jsx(p0,{icon:e.icon})})),OB=k.forwardRef(({item:e,...t},n)=>x.jsx(At,{ref:n,radius:"rounded-full",size:"xs",color:e.buttonColor||"primary",variant:e.buttonVariant||"flat",startIcon:e.icon&&x.jsx(p0,{icon:e.icon}),...t,children:x.jsx(g0,{value:e.label})}));function Wf({children:e,color:t,variant:n,radius:r="rounded-button",size:i,className:s,value:h,onChange:a,multiple:o,disabled:u}){const d=f=>h===void 0?!1:o?h.includes(f):f===h,l=f=>{const p=[...h],m=h.indexOf(f);return m>-1?p.splice(m,1):p.push(f),p},c=de.Children.map(e,(f,p)=>{if(de.isValidElement(f)){const m=d(f.props.value),g=m?"primary":t;return de.cloneElement(f,{color:m?"primary":t,variant:n,size:i,radius:null,disabled:f.props.disabled||u,...f.props,onClick:v=>{f.props.onClick&&f.props.onClick(v),a&&(o?a==null||a(l(f.props.value)):a==null||a(f.props.value))},className:ce(f.props.className,m?"z-20":"z-10",PB(p,e,r,g))})}});return x.jsx("div",{className:ce(r,"isolate inline-flex",s),children:c})}function PB(e,t,n,r){return e===0?ce(n,"rounded-tr-none rounded-br-none",!r&&"border-r-transparent disabled:border-r-transparent"):e===t.length-1?ce(n,"rounded-tl-none rounded-bl-none -ml-1"):ce("rounded-none -ml-1",!r&&"border-r-transparent disabled:border-r-transparent")}const DB=be(x.jsx("path",{d:"M12.5 8c-2.65 0-5.05.99-6.9 2.6L2 7v9h9l-3.62-3.62c1.39-1.16 3.16-1.88 5.12-1.88 3.54 0 6.55 2.31 7.6 5.5l2.37-.78C21.08 11.03 17.15 8 12.5 8z"}),"UndoOutlined"),AB=be(x.jsx("path",{d:"M18.4 10.6C16.55 8.99 14.15 8 11.5 8c-4.65 0-8.58 3.03-9.96 7.22L3.9 16c1.05-3.19 4.05-5.5 7.6-5.5 1.95 0 3.73.72 5.12 1.88L13 16h9V7l-3.6 3.6z"}),"RedoOutlined");function MB(){const e=he(n=>n.history.canUndo),t=he(n=>n.history.canRedo);return x.jsxs(Wf,{variant:"outline",children:[x.jsx(Ne,{equalWidth:!1,size:"xs",padding:"pl-12 pr-10",radius:"rounded-full",disabled:!e,onClick:()=>{L().history.undo()},children:x.jsx(DB,{})},"undo"),x.jsx(Ne,{equalWidth:!1,padding:"pl-10 pr-12",size:"xs",radius:"rounded-full",disabled:!t,onClick:()=>{L().history.redo()},children:x.jsx(AB,{})},"redo")]})}const jB=be(x.jsx("path",{d:"M19 13H5v-2h14v2z"}),"RemoveOutlined"),RB=be(x.jsx("path",{d:"M19 13h-6v6h-2v-6H5v-2h6V5h2v6h6v2z"}),"AddOutlined");function FB(){var n,r;const e=he(i=>i.zoom)||1;return he(i=>{var s,h;return(h=(s=i.config.tools)==null?void 0:s.zoom)==null?void 0:h.allowUserZoom})??!0?x.jsxs("div",{className:"flex items-center select-none",children:[x.jsx(Ne,{size:"sm",disabled:!((n=L().zoom)!=null&&n.canZoomOut()),onClick:()=>{L().zoom.zoomOut(L().zoom.step)},children:x.jsx(jB,{})}),x.jsxs("div",{className:"w-[4ch] text-sm text-center",children:[Math.round(e*100),"%"]}),x.jsx(Ne,{size:"sm",disabled:!((r=L().zoom)!=null&&r.canZoomIn()),onClick:()=>{L().zoom.zoomIn(L().zoom.step)},children:x.jsx(RB,{})})]}):null}function m0({item:e}){switch(e.type){case"undoWidget":return x.jsx(MB,{});case"zoomWidget":return x.jsx(FB,{});case"button":return x.jsx(kB,{item:e});case"image":return x.jsx("img",{className:"h-30 object-cover",src:hn(e.src),alt:""});default:return null}}const mi=be(x.jsx("path",{d:"M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41z"}),"CloseOutlined");function Xf(){var r;let e=he(i=>{var s;return((s=i.config.ui)==null?void 0:s.mode)===Wh.OVERLAY});const{width:t}=he(i=>i.stageSize),n=t<=700;return n&&((r=D().config.ui)!=null&&r.forceOverlayModeOnMobile)&&(e=!0),{isModal:e,isMobile:n}}function IB(){const{isModal:e,isMobile:t}=Xf(),n=he(o=>{var u;return(u=o.config.ui)==null?void 0:u.allowEditorClose})??!0,r=he(o=>{var u,d;return(d=(u=o.config.ui)==null?void 0:u.menubar)==null?void 0:d.items}),{left:i,center:s,right:h}=k.useMemo(()=>LB(r||[],t),[r,t]),a=e&&t&&n&&x.jsx(Ne,{size:"sm",className:"ml-10",onClick:()=>{D().editor.close()},children:x.jsx(mi,{})});return x.jsxs(Pt.div,{className:qC,...QC,children:[x.jsx("div",{className:"mr-auto flex items-center gap-8",children:i.map((o,u)=>x.jsx(m0,{item:o},u))}),x.jsx("div",{className:"flex items-center gap-10",children:s.map((o,u)=>x.jsx(m0,{item:o},u))}),x.jsx("div",{className:"ml-auto flex items-center gap-8",children:h.map((o,u)=>x.jsx(m0,{item:o},u))}),a]})}function LB(e,t){const n={left:[],center:[],right:[]};(e||[]).filter(i=>!t&&!i.mobileOnly||t&&!i.desktopOnly).forEach(i=>{i.align==="left"?n.left.push({...i,position:i.position??1}):i.align==="right"?n.right.push({...i,position:i.position??1}):n.center.push({...i,position:i.position??1})});const r=Object.entries(n).map(([i,s])=>[i,s.sort((h,a)=>(h.position??0)-(a.position??0))]);return Object.fromEntries(r)}function zB(){const e=he(n=>{var r;return(r=n.crop.zoneRect)==null?void 0:r.width})||1,t=he(n=>{var r;return(r=n.crop.zoneRect)==null?void 0:r.height})||1;return x.jsx("div",{className:"text-sm",children:`${e}x${t}`})}function BB(){const e=he(t=>t.activeTool);return x.jsxs(Pt.div,{className:qC,...QC,children:[x.jsx(NB,{}),$B(e),x.jsx(VB,{})]})}function NB(){const{isMobile:e}=Xf(),t=he(n=>n.dirty);return e?x.jsx(Ne,{size:"sm",onClick:()=>{D().cancelChanges()},children:x.jsx(mi,{})}):x.jsx(At,{variant:"outline",size:"xs",startIcon:x.jsx(mi,{}),radius:"rounded-full",className:"min-w-92",onClick:()=>{D().cancelChanges()},children:t?x.jsx(xe,{message:"Cancel"}):x.jsx(xe,{message:"Close"})})}function $B(e){var n,r;if(!e)return null;const t=x.jsx("div",{className:"capitalize text-sm",children:x.jsx(xe,{message:e})});switch(e){case Le.CROP:return((r=(n=D().config.tools)==null?void 0:n.crop)==null?void 0:r.allowCustomRatio)??!0?x.jsx(zB,{}):t;default:return t}}function VB(){const{isMobile:e}=Xf(),t=he(n=>n.dirty);return e?x.jsx(Ne,{size:"sm",disabled:!t,onClick:()=>{D().applyChanges()},children:x.jsx(Pm,{})}):x.jsx(At,{variant:"flat",color:"primary",size:"xs",disabled:!t,startIcon:x.jsx(Pm,{}),radius:"rounded-full",onClick:()=>{D().applyChanges()},children:x.jsx(xe,{message:"Apply"})})}function W_(){const e=he(t=>t.activeTool);return x.jsx(Sr,{initial:!1,children:e?x.jsx(BB,{},"activeToolbar"):x.jsx(IB,{},"mainToolbar")})}const HB={newCanvas:ae("Loading Canvas"),mainImage:ae("Loading Image"),state:ae("Loading State"),merge:ae("Processing Image")};function UB(){const[e,t]=k.useState(!1);return k.useEffect(()=>{he.subscribe(n=>n.loading,n=>{n&&t(n)})},[]),x.jsx(Sr,{children:e&&x.jsx(Pt.div,{initial:{y:"60%",opacity:0},animate:{y:0,opacity:1},exit:{y:"-60%",opacity:0},transition:{type:"tween",duration:.3},onAnimationComplete:()=>{setTimeout(()=>{t(!1)},400)},className:"absolute z-loading-indicator inset-0 m-auto p-6 w-144 h-32 text-center text-sm bg-paper rounded-full shadow-lg",children:x.jsx(xe,{...HB[e]})})})}function WB(e,t,n){return Math.max(t,Math.min(e,n))}const pt={toVector(e,t){return e===void 0&&(e=t),Array.isArray(e)?e:[e,e]},add(e,t){return[e[0]+t[0],e[1]+t[1]]},sub(e,t){return[e[0]-t[0],e[1]-t[1]]},addTo(e,t){e[0]+=t[0],e[1]+=t[1]},subTo(e,t){e[0]-=t[0],e[1]-=t[1]}};function X_(e,t,n){return t===0||Math.abs(t)===1/0?Math.pow(e,n*5):e*t*n/(t+n*e)}function Y_(e,t,n,r=.15){return r===0?WB(e,t,n):e<t?-X_(t-e,n-t,r)+t:e>n?+X_(e-n,n-t,r)+n:e}function XB(e,[t,n],[r,i]){const[[s,h],[a,o]]=e;return[Y_(t,s,h,r),Y_(n,a,o,i)]}function YB(e,t){if(typeof e!="object"||e===null)return e;var n=e[Symbol.toPrimitive];if(n!==void 0){var r=n.call(e,t||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(t==="string"?String:Number)(e)}function GB(e){var t=YB(e,"string");return typeof t=="symbol"?t:String(t)}function Rt(e,t,n){return t=GB(t),t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G_(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function Je(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?G_(Object(n),!0).forEach(function(r){Rt(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):G_(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}const K_={pointer:{start:"down",change:"move",end:"up"},mouse:{start:"down",change:"move",end:"up"},touch:{start:"start",change:"move",end:"end"},gesture:{start:"start",change:"change",end:"end"}};function q_(e){return e?e[0].toUpperCase()+e.slice(1):""}const KB=["enter","leave"];function qB(e=!1,t){return e&&!KB.includes(t)}function QB(e,t="",n=!1){const r=K_[e],i=r&&r[t]||t;return"on"+q_(e)+q_(i)+(qB(n,i)?"Capture":"")}const JB=["gotpointercapture","lostpointercapture"];function ZB(e){let t=e.substring(2).toLowerCase();const n=!!~t.indexOf("passive");n&&(t=t.replace("passive",""));const r=JB.includes(t)?"capturecapture":"capture",i=!!~t.indexOf(r);return i&&(t=t.replace("capture","")),{device:t,capture:i,passive:n}}function eN(e,t=""){const n=K_[e],r=n&&n[t]||t;return e+r}function Yf(e){return"touches"in e}function Q_(e){return Yf(e)?"touch":"pointerType"in e?e.pointerType:"mouse"}function tN(e){return Array.from(e.touches).filter(t=>{var n,r;return t.target===e.currentTarget||((n=e.currentTarget)===null||n===void 0||(r=n.contains)===null||r===void 0?void 0:r.call(n,t.target))})}function nN(e){return e.type==="touchend"||e.type==="touchcancel"?e.changedTouches:e.targetTouches}function J_(e){return Yf(e)?nN(e)[0]:e}function v0(e,t){try{const n=t.clientX-e.clientX,r=t.clientY-e.clientY,i=(t.clientX+e.clientX)/2,s=(t.clientY+e.clientY)/2,h=Math.hypot(n,r);return{angle:-(Math.atan2(n,r)*180)/Math.PI,distance:h,origin:[i,s]}}catch{}return null}function rN(e){return tN(e).map(t=>t.identifier)}function Z_(e,t){const[n,r]=Array.from(e.touches).filter(i=>t.includes(i.identifier));return v0(n,r)}function y0(e){const t=J_(e);return Yf(e)?t.identifier:t.pointerId}function e4(e){const t=J_(e);return[t.clientX,t.clientY]}const t4=40,n4=800;function iN(e){let{deltaX:t,deltaY:n,deltaMode:r}=e;return r===1?(t*=t4,n*=t4):r===2&&(t*=n4,n*=n4),[t,n]}function sN(e){const t={};if("buttons"in e&&(t.buttons=e.buttons),"shiftKey"in e){const{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s}=e;Object.assign(t,{shiftKey:n,altKey:r,metaKey:i,ctrlKey:s})}return t}function Gf(e,...t){return typeof e=="function"?e(...t):e}function oN(){}function aN(...e){return e.length===0?oN:e.length===1?e[0]:function(){let t;for(const n of e)t=n.apply(this,arguments)||t;return t}}function r4(e,t){return Object.assign({},t,e||{})}const lN=32;class i4{constructor(t,n,r){this.ctrl=t,this.args=n,this.key=r,this.state||(this.state={},this.computeValues([0,0]),this.computeInitial(),this.init&&this.init(),this.reset())}get state(){return this.ctrl.state[this.key]}set state(t){this.ctrl.state[this.key]=t}get shared(){return this.ctrl.state.shared}get eventStore(){return this.ctrl.gestureEventStores[this.key]}get timeoutStore(){return this.ctrl.gestureTimeoutStores[this.key]}get config(){return this.ctrl.config[this.key]}get sharedConfig(){return this.ctrl.config.shared}get handler(){return this.ctrl.handlers[this.key]}reset(){const{state:t,shared:n,ingKey:r,args:i}=this;n[r]=t._active=t.active=t._blocked=t._force=!1,t._step=[!1,!1],t.intentional=!1,t._movement=[0,0],t._distance=[0,0],t._direction=[0,0],t._delta=[0,0],t._bounds=[[-1/0,1/0],[-1/0,1/0]],t.args=i,t.axis=void 0,t.memo=void 0,t.elapsedTime=t.timeDelta=0,t.direction=[0,0],t.distance=[0,0],t.overflow=[0,0],t._movementBound=[!1,!1],t.velocity=[0,0],t.movement=[0,0],t.delta=[0,0],t.timeStamp=0}start(t){const n=this.state,r=this.config;n._active||(this.reset(),this.computeInitial(),n._active=!0,n.target=t.target,n.currentTarget=t.currentTarget,n.lastOffset=r.from?Gf(r.from,n):n.offset,n.offset=n.lastOffset,n.startTime=n.timeStamp=t.timeStamp)}computeValues(t){const n=this.state;n._values=t,n.values=this.config.transform(t)}computeInitial(){const t=this.state;t._initial=t._values,t.initial=t.values}compute(t){const{state:n,config:r,shared:i}=this;n.args=this.args;let s=0;if(t&&(n.event=t,r.preventDefault&&t.cancelable&&n.event.preventDefault(),n.type=t.type,i.touches=this.ctrl.pointerIds.size||this.ctrl.touchIds.size,i.locked=!!document.pointerLockElement,Object.assign(i,sN(t)),i.down=i.pressed=i.buttons%2===1||i.touches>0,s=t.timeStamp-n.timeStamp,n.timeStamp=t.timeStamp,n.elapsedTime=n.timeStamp-n.startTime),n._active){const S=n._delta.map(Math.abs);pt.addTo(n._distance,S)}this.axisIntent&&this.axisIntent(t);const[h,a]=n._movement,[o,u]=r.threshold,{_step:d,values:l}=n;if(r.hasCustomTransform?(d[0]===!1&&(d[0]=Math.abs(h)>=o&&l[0]),d[1]===!1&&(d[1]=Math.abs(a)>=u&&l[1])):(d[0]===!1&&(d[0]=Math.abs(h)>=o&&Math.sign(h)*o),d[1]===!1&&(d[1]=Math.abs(a)>=u&&Math.sign(a)*u)),n.intentional=d[0]!==!1||d[1]!==!1,!n.intentional)return;const c=[0,0];if(r.hasCustomTransform){const[S,_]=l;c[0]=d[0]!==!1?S-d[0]:0,c[1]=d[1]!==!1?_-d[1]:0}else c[0]=d[0]!==!1?h-d[0]:0,c[1]=d[1]!==!1?a-d[1]:0;this.restrictToAxis&&!n._blocked&&this.restrictToAxis(c);const f=n.offset,p=n._active&&!n._blocked||n.active;p&&(n.first=n._active&&!n.active,n.last=!n._active&&n.active,n.active=i[this.ingKey]=n._active,t&&(n.first&&("bounds"in r&&(n._bounds=Gf(r.bounds,n)),this.setup&&this.setup()),n.movement=c,this.computeOffset()));const[m,g]=n.offset,[[v,y],[b,w]]=n._bounds;n.overflow=[m<v?-1:m>y?1:0,g<b?-1:g>w?1:0],n._movementBound[0]=n.overflow[0]?n._movementBound[0]===!1?n._movement[0]:n._movementBound[0]:!1,n._movementBound[1]=n.overflow[1]?n._movementBound[1]===!1?n._movement[1]:n._movementBound[1]:!1;const C=n._active?r.rubberband||[0,0]:[0,0];if(n.offset=XB(n._bounds,n.offset,C),n.delta=pt.sub(n.offset,f),this.computeMovement(),p&&(!n.last||s>lN)){n.delta=pt.sub(n.offset,f);const S=n.delta.map(Math.abs);pt.addTo(n.distance,S),n.direction=n.delta.map(Math.sign),n._direction=n._delta.map(Math.sign),!n.first&&s>0&&(n.velocity=[S[0]/s,S[1]/s],n.timeDelta=s)}}emit(){const t=this.state,n=this.shared,r=this.config;if(t._active||this.clean(),(t._blocked||!t.intentional)&&!t._force&&!r.triggerAllEvents)return;const i=this.handler(Je(Je(Je({},n),t),{},{[this.aliasKey]:t.values}));i!==void 0&&(t.memo=i)}clean(){this.eventStore.clean(),this.timeoutStore.clean()}}function uN([e,t],n){const r=Math.abs(e),i=Math.abs(t);if(r>i&&r>n)return"x";if(i>r&&i>n)return"y"}class cN extends i4{constructor(...t){super(...t),Rt(this,"aliasKey","xy")}reset(){super.reset(),this.state.axis=void 0}init(){this.state.offset=[0,0],this.state.lastOffset=[0,0]}computeOffset(){this.state.offset=pt.add(this.state.lastOffset,this.state.movement)}computeMovement(){this.state.movement=pt.sub(this.state.offset,this.state.lastOffset)}axisIntent(t){const n=this.state,r=this.config;if(!n.axis&&t){const i=typeof r.axisThreshold=="object"?r.axisThreshold[Q_(t)]:r.axisThreshold;n.axis=uN(n._movement,i)}n._blocked=(r.lockDirection||!!r.axis)&&!n.axis||!!r.axis&&r.axis!==n.axis}restrictToAxis(t){if(this.config.axis||this.config.lockDirection)switch(this.state.axis){case"x":t[1]=0;break;case"y":t[0]=0;break}}}const fN=e=>e,s4=.15,o4={enabled(e=!0){return e},eventOptions(e,t,n){return Je(Je({},n.shared.eventOptions),e)},preventDefault(e=!1){return e},triggerAllEvents(e=!1){return e},rubberband(e=0){switch(e){case!0:return[s4,s4];case!1:return[0,0];default:return pt.toVector(e)}},from(e){if(typeof e=="function")return e;if(e!=null)return pt.toVector(e)},transform(e,t,n){const r=e||n.shared.transform;return this.hasCustomTransform=!!r,r||fN},threshold(e){return pt.toVector(e,0)}},hN=0,Tl=Je(Je({},o4),{},{axis(e,t,{axis:n}){if(this.lockDirection=n==="lock",!this.lockDirection)return n},axisThreshold(e=hN){return e},bounds(e={}){if(typeof e=="function")return s=>Tl.bounds(e(s));if("current"in e)return()=>e.current;if(typeof HTMLElement=="function"&&e instanceof HTMLElement)return e;const{left:t=-1/0,right:n=1/0,top:r=-1/0,bottom:i=1/0}=e;return[[t,n],[r,i]]}}),a4={ArrowRight:(e,t=1)=>[e*t,0],ArrowLeft:(e,t=1)=>[-1*e*t,0],ArrowUp:(e,t=1)=>[0,-1*e*t],ArrowDown:(e,t=1)=>[0,e*t]};class dN extends cN{constructor(...t){super(...t),Rt(this,"ingKey","dragging")}reset(){super.reset();const t=this.state;t._pointerId=void 0,t._pointerActive=!1,t._keyboardActive=!1,t._preventScroll=!1,t._delayed=!1,t.swipe=[0,0],t.tap=!1,t.canceled=!1,t.cancel=this.cancel.bind(this)}setup(){const t=this.state;if(t._bounds instanceof HTMLElement){const n=t._bounds.getBoundingClientRect(),r=t.currentTarget.getBoundingClientRect(),i={left:n.left-r.left+t.offset[0],right:n.right-r.right+t.offset[0],top:n.top-r.top+t.offset[1],bottom:n.bottom-r.bottom+t.offset[1]};t._bounds=Tl.bounds(i)}}cancel(){const t=this.state;t.canceled||(t.canceled=!0,t._active=!1,setTimeout(()=>{this.compute(),this.emit()},0))}setActive(){this.state._active=this.state._pointerActive||this.state._keyboardActive}clean(){this.pointerClean(),this.state._pointerActive=!1,this.state._keyboardActive=!1,super.clean()}pointerDown(t){const n=this.config,r=this.state;if(t.buttons!=null&&(Array.isArray(n.pointerButtons)?!n.pointerButtons.includes(t.buttons):n.pointerButtons!==-1&&n.pointerButtons!==t.buttons))return;const i=this.ctrl.setEventIds(t);n.pointerCapture&&t.target.setPointerCapture(t.pointerId),!(i&&i.size>1&&r._pointerActive)&&(this.start(t),this.setupPointer(t),r._pointerId=y0(t),r._pointerActive=!0,this.computeValues(e4(t)),this.computeInitial(),n.preventScrollAxis&&Q_(t)!=="mouse"?(r._active=!1,this.setupScrollPrevention(t)):n.delay>0?(this.setupDelayTrigger(t),n.triggerAllEvents&&(this.compute(t),this.emit())):this.startPointerDrag(t))}startPointerDrag(t){const n=this.state;n._active=!0,n._preventScroll=!0,n._delayed=!1,this.compute(t),this.emit()}pointerMove(t){const n=this.state,r=this.config;if(!n._pointerActive)return;const i=y0(t);if(n._pointerId!==void 0&&i!==n._pointerId)return;const s=e4(t);if(document.pointerLockElement===t.target?n._delta=[t.movementX,t.movementY]:(n._delta=pt.sub(s,n._values),this.computeValues(s)),pt.addTo(n._movement,n._delta),this.compute(t),n._delayed&&n.intentional){this.timeoutStore.remove("dragDelay"),n.active=!1,this.startPointerDrag(t);return}if(r.preventScrollAxis&&!n._preventScroll)if(n.axis)if(n.axis===r.preventScrollAxis||r.preventScrollAxis==="xy"){n._active=!1,this.clean();return}else{this.timeoutStore.remove("startPointerDrag"),this.startPointerDrag(t);return}else return;this.emit()}pointerUp(t){this.ctrl.setEventIds(t);try{this.config.pointerCapture&&t.target.hasPointerCapture(t.pointerId)&&t.target.releasePointerCapture(t.pointerId)}catch{}const n=this.state,r=this.config;if(!n._active||!n._pointerActive)return;const i=y0(t);if(n._pointerId!==void 0&&i!==n._pointerId)return;this.state._pointerActive=!1,this.setActive(),this.compute(t);const[s,h]=n._distance;if(n.tap=s<=r.tapsThreshold&&h<=r.tapsThreshold,n.tap&&r.filterTaps)n._force=!0;else{const[a,o]=n._delta,[u,d]=n._movement,[l,c]=r.swipe.velocity,[f,p]=r.swipe.distance,m=r.swipe.duration;if(n.elapsedTime<m){const g=Math.abs(a/n.timeDelta),v=Math.abs(o/n.timeDelta);g>l&&Math.abs(u)>f&&(n.swipe[0]=Math.sign(a)),v>c&&Math.abs(d)>p&&(n.swipe[1]=Math.sign(o))}}this.emit()}pointerClick(t){!this.state.tap&&t.detail>0&&(t.preventDefault(),t.stopPropagation())}setupPointer(t){const n=this.config,r=n.device;n.pointerLock&&t.currentTarget.requestPointerLock(),n.pointerCapture||(this.eventStore.add(this.sharedConfig.window,r,"change",this.pointerMove.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"end",this.pointerUp.bind(this)),this.eventStore.add(this.sharedConfig.window,r,"cancel",this.pointerUp.bind(this)))}pointerClean(){this.config.pointerLock&&document.pointerLockElement===this.state.currentTarget&&document.exitPointerLock()}preventScroll(t){this.state._preventScroll&&t.cancelable&&t.preventDefault()}setupScrollPrevention(t){this.state._preventScroll=!1,pN(t);const n=this.eventStore.add(this.sharedConfig.window,"touch","change",this.preventScroll.bind(this),{passive:!1});this.eventStore.add(this.sharedConfig.window,"touch","end",n),this.eventStore.add(this.sharedConfig.window,"touch","cancel",n),this.timeoutStore.add("startPointerDrag",this.startPointerDrag.bind(this),this.config.preventScrollDelay,t)}setupDelayTrigger(t){this.state._delayed=!0,this.timeoutStore.add("dragDelay",()=>{this.state._step=[0,0],this.startPointerDrag(t)},this.config.delay)}keyDown(t){const n=a4[t.key];if(n){const r=this.state,i=t.shiftKey?10:t.altKey?.1:1;this.start(t),r._delta=n(this.config.keyboardDisplacement,i),r._keyboardActive=!0,pt.addTo(r._movement,r._delta),this.compute(t),this.emit()}}keyUp(t){t.key in a4&&(this.state._keyboardActive=!1,this.setActive(),this.compute(t),this.emit())}bind(t){const n=this.config.device;t(n,"start",this.pointerDown.bind(this)),this.config.pointerCapture&&(t(n,"change",this.pointerMove.bind(this)),t(n,"end",this.pointerUp.bind(this)),t(n,"cancel",this.pointerUp.bind(this)),t("lostPointerCapture","",this.pointerUp.bind(this))),this.config.keys&&(t("key","down",this.keyDown.bind(this)),t("key","up",this.keyUp.bind(this))),this.config.filterTaps&&t("click","",this.pointerClick.bind(this),{capture:!0,passive:!1})}}function pN(e){"persist"in e&&typeof e.persist=="function"&&e.persist()}const Ol=typeof window<"u"&&window.document&&window.document.createElement;function l4(){return Ol&&"ontouchstart"in window}function gN(){return l4()||Ol&&window.navigator.maxTouchPoints>1}function mN(){return Ol&&"onpointerdown"in window}function vN(){return Ol&&"exitPointerLock"in window.document}function yN(){try{return"constructor"in GestureEvent}catch{return!1}}const On={isBrowser:Ol,gesture:yN(),touch:l4(),touchscreen:gN(),pointer:mN(),pointerLock:vN()},bN=250,wN=180,xN=.5,CN=50,SN=250,_N=10,u4={mouse:0,touch:0,pen:8},EN=Je(Je({},Tl),{},{device(e,t,{pointer:{touch:n=!1,lock:r=!1,mouse:i=!1}={}}){return this.pointerLock=r&&On.pointerLock,On.touch&&n?"touch":this.pointerLock?"mouse":On.pointer&&!i?"pointer":On.touch?"touch":"mouse"},preventScrollAxis(e,t,{preventScroll:n}){if(this.preventScrollDelay=typeof n=="number"?n:n||n===void 0&&e?bN:void 0,!(!On.touchscreen||n===!1))return e||(n!==void 0?"y":void 0)},pointerCapture(e,t,{pointer:{capture:n=!0,buttons:r=1,keys:i=!0}={}}){return this.pointerButtons=r,this.keys=i,!this.pointerLock&&this.device==="pointer"&&n},threshold(e,t,{filterTaps:n=!1,tapsThreshold:r=3,axis:i=void 0}){const s=pt.toVector(e,n?r:i?1:0);return this.filterTaps=n,this.tapsThreshold=r,s},swipe({velocity:e=xN,distance:t=CN,duration:n=SN}={}){return{velocity:this.transform(pt.toVector(e)),distance:this.transform(pt.toVector(t)),duration:n}},delay(e=0){switch(e){case!0:return wN;case!1:return 0;default:return e}},axisThreshold(e){return e?Je(Je({},u4),e):u4},keyboardDisplacement(e=_N){return e}});function kN(e){const[t,n]=e.overflow,[r,i]=e._delta,[s,h]=e._direction;(t<0&&r>0&&s<0||t>0&&r<0&&s>0)&&(e._movement[0]=e._movementBound[0]),(n<0&&i>0&&h<0||n>0&&i<0&&h>0)&&(e._movement[1]=e._movementBound[1])}const TN=30,ON=100;class PN extends i4{constructor(...t){super(...t),Rt(this,"ingKey","pinching"),Rt(this,"aliasKey","da")}init(){this.state.offset=[1,0],this.state.lastOffset=[1,0],this.state._pointerEvents=new Map}reset(){super.reset();const t=this.state;t._touchIds=[],t.canceled=!1,t.cancel=this.cancel.bind(this),t.turns=0}computeOffset(){const{type:t,movement:n,lastOffset:r}=this.state;t==="wheel"?this.state.offset=pt.add(n,r):this.state.offset=[(1+n[0])*r[0],n[1]+r[1]]}computeMovement(){const{offset:t,lastOffset:n}=this.state;this.state.movement=[t[0]/n[0],t[1]-n[1]]}axisIntent(){const t=this.state,[n,r]=t._movement;if(!t.axis){const i=Math.abs(n)*TN-Math.abs(r);i<0?t.axis="angle":i>0&&(t.axis="scale")}}restrictToAxis(t){this.config.lockDirection&&(this.state.axis==="scale"?t[1]=0:this.state.axis==="angle"&&(t[0]=0))}cancel(){const t=this.state;t.canceled||setTimeout(()=>{t.canceled=!0,t._active=!1,this.compute(),this.emit()},0)}touchStart(t){this.ctrl.setEventIds(t);const n=this.state,r=this.ctrl.touchIds;if(n._active&&n._touchIds.every(s=>r.has(s))||r.size<2)return;this.start(t),n._touchIds=Array.from(r).slice(0,2);const i=Z_(t,n._touchIds);i&&this.pinchStart(t,i)}pointerStart(t){if(t.buttons!=null&&t.buttons%2!==1)return;this.ctrl.setEventIds(t),t.target.setPointerCapture(t.pointerId);const n=this.state,r=n._pointerEvents,i=this.ctrl.pointerIds;if(n._active&&Array.from(r.keys()).every(h=>i.has(h))||(r.size<2&&r.set(t.pointerId,t),n._pointerEvents.size<2))return;this.start(t);const s=v0(...Array.from(r.values()));s&&this.pinchStart(t,s)}pinchStart(t,n){const r=this.state;r.origin=n.origin,this.computeValues([n.distance,n.angle]),this.computeInitial(),this.compute(t),this.emit()}touchMove(t){if(!this.state._active)return;const n=Z_(t,this.state._touchIds);n&&this.pinchMove(t,n)}pointerMove(t){const n=this.state._pointerEvents;if(n.has(t.pointerId)&&n.set(t.pointerId,t),!this.state._active)return;const r=v0(...Array.from(n.values()));r&&this.pinchMove(t,r)}pinchMove(t,n){const r=this.state,i=r._values[1],s=n.angle-i;let h=0;Math.abs(s)>270&&(h+=Math.sign(s)),this.computeValues([n.distance,n.angle-360*h]),r.origin=n.origin,r.turns=h,r._movement=[r._values[0]/r._initial[0]-1,r._values[1]-r._initial[1]],this.compute(t),this.emit()}touchEnd(t){this.ctrl.setEventIds(t),this.state._active&&this.state._touchIds.some(n=>!this.ctrl.touchIds.has(n))&&(this.state._active=!1,this.compute(t),this.emit())}pointerEnd(t){const n=this.state;this.ctrl.setEventIds(t);try{t.target.releasePointerCapture(t.pointerId)}catch{}n._pointerEvents.has(t.pointerId)&&n._pointerEvents.delete(t.pointerId),n._active&&n._pointerEvents.size<2&&(n._active=!1,this.compute(t),this.emit())}gestureStart(t){t.cancelable&&t.preventDefault();const n=this.state;n._active||(this.start(t),this.computeValues([t.scale,t.rotation]),n.origin=[t.clientX,t.clientY],this.compute(t),this.emit())}gestureMove(t){if(t.cancelable&&t.preventDefault(),!this.state._active)return;const n=this.state;this.computeValues([t.scale,t.rotation]),n.origin=[t.clientX,t.clientY];const r=n._movement;n._movement=[t.scale-1,t.rotation],n._delta=pt.sub(n._movement,r),this.compute(t),this.emit()}gestureEnd(t){this.state._active&&(this.state._active=!1,this.compute(t),this.emit())}wheel(t){const n=this.config.modifierKey;n&&(Array.isArray(n)?!n.find(r=>t[r]):!t[n])||(this.state._active?this.wheelChange(t):this.wheelStart(t),this.timeoutStore.add("wheelEnd",this.wheelEnd.bind(this)))}wheelStart(t){this.start(t),this.wheelChange(t)}wheelChange(t){"uv"in t||t.cancelable&&t.preventDefault();const r=this.state;r._delta=[-iN(t)[1]/ON*r.offset[0],0],pt.addTo(r._movement,r._delta),kN(r),this.state.origin=[t.clientX,t.clientY],this.compute(t),this.emit()}wheelEnd(){this.state._active&&(this.state._active=!1,this.compute(),this.emit())}bind(t){const n=this.config.device;n&&(t(n,"start",this[n+"Start"].bind(this)),t(n,"change",this[n+"Move"].bind(this)),t(n,"end",this[n+"End"].bind(this)),t(n,"cancel",this[n+"End"].bind(this)),t("lostPointerCapture","",this[n+"End"].bind(this))),this.config.pinchOnWheel&&t("wheel","",this.wheel.bind(this),{passive:!1})}}const DN=Je(Je({},o4),{},{device(e,t,{shared:n,pointer:{touch:r=!1}={}}){if(n.target&&!On.touch&&On.gesture)return"gesture";if(On.touch&&r)return"touch";if(On.touchscreen){if(On.pointer)return"pointer";if(On.touch)return"touch"}},bounds(e,t,{scaleBounds:n={},angleBounds:r={}}){const i=h=>{const a=r4(Gf(n,h),{min:-1/0,max:1/0});return[a.min,a.max]},s=h=>{const a=r4(Gf(r,h),{min:-1/0,max:1/0});return[a.min,a.max]};return typeof n!="function"&&typeof r!="function"?[i(),s()]:h=>[i(h),s(h)]},threshold(e,t,n){return this.lockDirection=n.axis==="lock",pt.toVector(e,this.lockDirection?[.1,3]:0)},modifierKey(e){return e===void 0?"ctrlKey":e},pinchOnWheel(e=!0){return e}});Je(Je({},Tl),{},{mouseOnly:(e=!0)=>e}),Je(Je({},Tl),{},{mouseOnly:(e=!0)=>e});const b0=new Map,w0=new Map;function AN(e){b0.set(e.key,e.engine),w0.set(e.key,e.resolver)}const MN={key:"drag",engine:dN,resolver:EN},jN={key:"pinch",engine:PN,resolver:DN};function RN(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function FN(e,t){if(e==null)return{};var n=RN(e,t),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(i=0;i<s.length;i++)r=s[i],!(t.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(e,r)&&(n[r]=e[r])}return n}const IN={target(e){if(e)return()=>"current"in e?e.current:e},enabled(e=!0){return e},window(e=On.isBrowser?window:void 0){return e},eventOptions({passive:e=!0,capture:t=!1}={}){return{passive:e,capture:t}},transform(e){return e}},LN=["target","eventOptions","window","enabled","transform"];function Kf(e={},t){const n={};for(const[r,i]of Object.entries(t))switch(typeof i){case"function":n[r]=i.call(n,e[r],r,e);break;case"object":n[r]=Kf(e[r],i);break;case"boolean":i&&(n[r]=e[r]);break}return n}function zN(e,t,n={}){const r=e,{target:i,eventOptions:s,window:h,enabled:a,transform:o}=r,u=FN(r,LN);if(n.shared=Kf({target:i,eventOptions:s,window:h,enabled:a,transform:o},IN),t){const d=w0.get(t);n[t]=Kf(Je({shared:n.shared},u),d)}else for(const d in u){const l=w0.get(d);l&&(n[d]=Kf(Je({shared:n.shared},u[d]),l))}return n}class c4{constructor(t,n){Rt(this,"_listeners",new Set),this._ctrl=t,this._gestureKey=n}add(t,n,r,i,s){const h=this._listeners,a=eN(n,r),o=this._gestureKey?this._ctrl.config[this._gestureKey].eventOptions:{},u=Je(Je({},o),s);t.addEventListener(a,i,u);const d=()=>{t.removeEventListener(a,i,u),h.delete(d)};return h.add(d),d}clean(){this._listeners.forEach(t=>t()),this._listeners.clear()}}class BN{constructor(){Rt(this,"_timeouts",new Map)}add(t,n,r=140,...i){this.remove(t),this._timeouts.set(t,window.setTimeout(n,r,...i))}remove(t){const n=this._timeouts.get(t);n&&window.clearTimeout(n)}clean(){this._timeouts.forEach(t=>void window.clearTimeout(t)),this._timeouts.clear()}}class NN{constructor(t){Rt(this,"gestures",new Set),Rt(this,"_targetEventStore",new c4(this)),Rt(this,"gestureEventStores",{}),Rt(this,"gestureTimeoutStores",{}),Rt(this,"handlers",{}),Rt(this,"config",{}),Rt(this,"pointerIds",new Set),Rt(this,"touchIds",new Set),Rt(this,"state",{shared:{shiftKey:!1,metaKey:!1,ctrlKey:!1,altKey:!1}}),$N(this,t)}setEventIds(t){if(Yf(t))return this.touchIds=new Set(rN(t)),this.touchIds;if("pointerId"in t)return t.type==="pointerup"||t.type==="pointercancel"?this.pointerIds.delete(t.pointerId):t.type==="pointerdown"&&this.pointerIds.add(t.pointerId),this.pointerIds}applyHandlers(t,n){this.handlers=t,this.nativeHandlers=n}applyConfig(t,n){this.config=zN(t,n,this.config)}clean(){this._targetEventStore.clean();for(const t of this.gestures)this.gestureEventStores[t].clean(),this.gestureTimeoutStores[t].clean()}effect(){return this.config.shared.target&&this.bind(),()=>this._targetEventStore.clean()}bind(...t){const n=this.config.shared,r={};let i;if(!(n.target&&(i=n.target(),!i))){if(n.enabled){for(const h of this.gestures){const a=this.config[h],o=f4(r,a.eventOptions,!!i);if(a.enabled){const u=b0.get(h);new u(this,t,h).bind(o)}}const s=f4(r,n.eventOptions,!!i);for(const h in this.nativeHandlers)s(h,"",a=>this.nativeHandlers[h](Je(Je({},this.state.shared),{},{event:a,args:t})),void 0,!0)}for(const s in r)r[s]=aN(...r[s]);if(!i)return r;for(const s in r){const{device:h,capture:a,passive:o}=ZB(s);this._targetEventStore.add(i,h,"",r[s],{capture:a,passive:o})}}}}function Io(e,t){e.gestures.add(t),e.gestureEventStores[t]=new c4(e,t),e.gestureTimeoutStores[t]=new BN}function $N(e,t){t.drag&&Io(e,"drag"),t.wheel&&Io(e,"wheel"),t.scroll&&Io(e,"scroll"),t.move&&Io(e,"move"),t.pinch&&Io(e,"pinch"),t.hover&&Io(e,"hover")}const f4=(e,t,n)=>(r,i,s,h={},a=!1)=>{var o,u;const d=(o=h.capture)!==null&&o!==void 0?o:t.capture,l=(u=h.passive)!==null&&u!==void 0?u:t.passive;let c=a?r:QB(r,i,d);n&&l&&(c+="Passive"),e[c]=e[c]||[],e[c].push(s)},VN=/^on(Drag|Wheel|Scroll|Move|Pinch|Hover)/;function HN(e){const t={},n={},r=new Set;for(let i in e)VN.test(i)?(r.add(RegExp.lastMatch),n[i]=e[i]):t[i]=e[i];return[n,t,r]}function Lo(e,t,n,r,i,s){if(!e.has(n)||!b0.has(r))return;const h=n+"Start",a=n+"End",o=u=>{let d;return u.first&&h in t&&t[h](u),n in t&&(d=t[n](u)),u.last&&a in t&&t[a](u),d};i[r]=o,s[r]=s[r]||{}}function UN(e,t){const[n,r,i]=HN(e),s={};return Lo(i,n,"onDrag","drag",s,t),Lo(i,n,"onWheel","wheel",s,t),Lo(i,n,"onScroll","scroll",s,t),Lo(i,n,"onPinch","pinch",s,t),Lo(i,n,"onMove","move",s,t),Lo(i,n,"onHover","hover",s,t),{handlers:s,config:t,nativeHandlers:r}}function WN(e,t={},n,r){const i=de.useMemo(()=>new NN(e),[]);if(i.applyHandlers(e,r),i.applyConfig(t,n),de.useEffect(i.effect.bind(i)),de.useEffect(()=>i.clean.bind(i),[]),t.target===void 0)return i.bind.bind(i)}function XN(e){return e.forEach(AN),function(n,r){const{handlers:i,nativeHandlers:s,config:h}=UN(n,r||{});return WN(i,h,void 0,s)}}function Dr({e,rect:t,deltaX:n,deltaY:r}){return{rect:t,x:e.clientX,y:e.clientY,deltaX:n??0,deltaY:r??0,nativeEvent:e}}function qf({onMoveStart:e,onMove:t,onMoveEnd:n,minimumMovement:r=0,preventDefault:i,stopPropagation:s=!0,onPress:h,onLongPress:a,...o}){const d=k.useRef({lastPosition:{x:0,y:0},started:!1,longPressTriggered:!1}).current,{addGlobalListener:l,removeGlobalListener:c}=sm(),f=v=>{!d.el||(e==null?void 0:e(v,d.el))===!1||(d.originalTouchAction=d.el.style.touchAction,d.el.style.touchAction="none",d.originalUserSelect=document.documentElement.style.userSelect,document.documentElement.style.userSelect="none",d.started=!0)},p=v=>{var y;if(v.button===0&&d.id==null){if(d.started=!1,((y=o.onPointerDown)==null?void 0:y.call(o,v))===!1)return;s&&v.stopPropagation(),i&&v.preventDefault(),d.id=v.pointerId,d.el=v.currentTarget,d.lastPosition={x:v.clientX,y:v.clientY},a&&(d.longPressTimer=setTimeout(()=>{a(v,d.el),d.longPressTriggered=!0},400)),(e||t)&&l(window,"pointermove",m,!1),l(window,"pointerup",g,!1),l(window,"pointercancel",g,!1)}},m=v=>{if(v.pointerId===d.id){const y=v.clientX-d.lastPosition.x,b=v.clientY-d.lastPosition.y;(Math.abs(y)>=r||Math.abs(b)>=r)&&!d.started&&f(v),d.started&&(t==null||t(v,y,b),d.lastPosition={x:v.clientX,y:v.clientY})}},g=v=>{var y;if(v.pointerId===d.id){d.longPressTimer&&clearTimeout(d.longPressTimer);const b=d.longPressTriggered;d.longPressTriggered=!1,d.started&&(n==null||n(v)),d.el&&(v.type!=="pointercancel"&&((y=o.onPointerUp)==null||y.call(o,v,d.el),v.target&&d.el.contains(v.target)&&(b?a==null||a(v,d.el):h==null||h(v,d.el))),document.documentElement.style.userSelect=d.originalUserSelect||"",d.el.style.touchAction=d.originalTouchAction||""),d.id=void 0,d.started=!1,c(window,"pointermove",m,!1),c(window,"pointerup",g,!1),c(window,"pointercancel",g,!1)}};return{domProps:{onPointerDown:Qt(p)}}}function YN(e,t){const n={...e};n.left=Math.max(0,n.left);const r=n.left-e.left;r>0&&(n.width-=r),n.top=Math.max(0,n.top);const i=n.top-e.top;return i>0&&(n.height-=i),n.width=Math.min(n.width,t.width-n.left),n.height=Math.min(n.height,t.height-n.top),n}function Pl(e){return{left:e.left,top:e.top,width:e.width,height:e.height}}var gn=(e=>(e.topLeft="topLeft",e.topRight="topRight",e.bottomLeft="bottomLeft",e.bottomRight="bottomRight",e))(gn||{});let Re={};const h4=(e={})=>{To(null),Re=e};function d4({aspectRatio:e,boundaryRef:t,boundaryRect:n,restrictWithinBoundary:r=!0,minWidth:i=50,minHeight:s=50,...h}){const a={onMoveStart:(u,d)=>{var c;const l=u.target;if(!l.dataset.resizeHandle||pl||(h4({currentRect:Pl(d.getBoundingClientRect()),resizeDir:l.dataset.resizeHandle}),!Re.currentRect))return!1;To("resize"),n?Re.boundaryRect=n:t!=null&&t.current&&(Re.boundaryRect=Pl(t.current.getBoundingClientRect())),Re.currentRect&&Re.boundaryRect&&(Re.currentRect.left-=Re.boundaryRect.left,Re.currentRect.top-=Re.boundaryRect.top),Re.initialAspectRatio=Re.currentRect.width/Re.currentRect.height,(c=h.onResizeStart)==null||c.call(h,Dr({rect:Re.currentRect,e:u}))},onMove:(u,d,l)=>{var m;if(!Re.resizeDir||!Re.currentRect)return;const c=e==="initial"?Re.initialAspectRatio:e,f=GN(Re.currentRect,d,l,c),p=KN(f,i,s,c);(m=h.onResize)==null||m.call(h,Dr({rect:p,e:u,deltaX:d,deltaY:l})),Re.currentRect=f},onMoveEnd:u=>{var d;Re.currentRect&&((d=h.onResizeEnd)==null||d.call(h,Dr({rect:Re.currentRect,e:u}))),h4()}},{domProps:o}=qf(a);return{resizeProps:o}}function GN(e,t,n,r){const i={...e},s={...e};return Re.resizeDir==="topRight"?(s.width=Math.floor(s.width+t),r?s.height=Math.floor(s.width/r):s.height=Math.floor(s.height-n),s.top=Math.floor(s.top+(i.height-s.height))):Re.resizeDir==="bottomRight"?(s.width=Math.floor(s.width+t),r?s.height=Math.floor(s.width/r):s.height=Math.floor(s.height+n)):Re.resizeDir==="topLeft"?(s.width=Math.floor(s.width-t),r?s.height=Math.floor(s.width/r):s.height=Math.floor(s.height-n),s.left=Math.floor(s.left+(i.width-s.width)),s.top=Math.floor(s.top+(i.height-s.height))):Re.resizeDir==="bottomLeft"&&(s.width=Math.floor(s.width-t),r?s.height=Math.floor(s.width/r):s.height=Math.floor(s.height+n),s.left=Math.floor(s.left+t)),s}function KN(e,t,n,r){const i=Re.resizeDir==="bottomLeft"||Re.resizeDir==="topLeft",s=Re.resizeDir==="topRight"||Re.resizeDir==="topLeft";let h={...e};h.width=Math.max(t,e.width),h.height=Math.max(n,e.height);const a=h.width-e.width;i&&a>0&&(h.left-=a);const o=h.height-e.height;if(s&&o>0&&(h.top-=o),Re.boundaryRect&&(h=YN(h,Re.boundaryRect)),r){const u=h.width,d=h.height,l=dm(r,h.width,h.height);h.width=l.width,h.height=l.height,s&&(h.top+=d-h.height),i&&(h.left+=u-h.width)}return h}function vi({position:e,inset:t=!1}){const n=qN(e,t);return x.jsx("div",{"data-resize-handle":e,className:`border-white absolute w-20 h-20 ${n}`})}function qN(e,t){const n=t?"left-0":"-left-5",r=t?"top-0":"-top-5",i=t?"bottom-0":"-bottom-5",s=t?"right-0":"-right-5";switch(e){case gn.topLeft:return`${n} ${r} border-l-4 border-t-4 cursor-nwse-resize`;case gn.topRight:return`${s} ${r} border-r-4 border-t-4 cursor-nesw-resize`;case gn.bottomRight:return`${s} ${i} border-r-4 border-b-4 cursor-se-resize`;case gn.bottomLeft:return`${n} ${i} border-l-4 border-b-4 cursor-sw-resize`;default:return""}}var Dl=(e=>(e.top="maskTop",e.right="maskRight",e.bottom="maskBottom",e.left="maskLeft",e))(Dl||{});function Qf({position:e,refs:t}){const n=QN(e);return x.jsx("div",{className:`cropzone-transition bg-black/50 bottom absolute ${n}`,ref:r=>t.current[e]=r})}function QN(e){switch(e){case"maskTop":return"left-0 top-0";case"maskBottom":return"bottom-0 left-0";default:return""}}function Jf({name:e,refs:t}){const n=ce("cropzone-transition pointer-events-none absolute left-0 top-0 bg-white/50",e.startsWith("lineHor")?"h-px":"w-px");return x.jsx("div",{className:n,ref:r=>{t.current[e]=r}})}function Al(e,t,n){return Math.min(Math.max(e,t),n)}let st={};function p4({boundaryRef:e,boundaryRect:t,minimumMovement:n,restrictWithinBoundary:r=!0,...i}){const s={minimumMovement:n,onMoveStart:(a,o)=>{var u;if(pl)return!1;st={currentRect:Pl(o.getBoundingClientRect())},To("move"),t?st.boundaryRect=t:e!=null&&e.current&&(st.boundaryRect=Pl(e.current.getBoundingClientRect())),st.currentRect&&st.boundaryRect&&(st.currentRect.left-=st.boundaryRect.left,st.currentRect.top-=st.boundaryRect.top),(u=i.onMoveStart)==null||u.call(i,Dr({rect:st.currentRect,e:a}))},onMove:(a,o,u)=>{var c;if(!st.currentRect)return;const d={...st.currentRect,left:st.currentRect.left+o,top:st.currentRect.top+u},l={...d};st.boundaryRect&&r&&(l.left=Al(d.left,0,st.boundaryRect.width-d.width),l.top=Al(d.top,0,st.boundaryRect.height-d.height)),(c=i.onMove)==null||c.call(i,Dr({rect:l,e:a,deltaX:o,deltaY:u})),st.currentRect=d},onMoveEnd:a=>{var o;st.currentRect&&((o=i.onMoveEnd)==null||o.call(i,Dr({rect:st.currentRect,e:a})),To(null),st={})}},{domProps:h}=qf(s);return{moveProps:h}}function JN(){const e=k.useRef({}),[t,n]=k.useState(!0),r=he(d=>d.canvasSize),i=he(d=>{var l,c;return(c=(l=d.config.tools)==null?void 0:l.crop)==null?void 0:c.cropzone}),s=he(d=>{var l,c;return(c=(l=d.config.tools)==null?void 0:l.crop)==null?void 0:c.defaultRatio})||null,h=he(d=>d.crop.selectedAspectRatio)||null,{moveProps:a}=p4({boundaryRect:r,onMoveStart:()=>n(!0),onMove:d=>L().crop.drawZone(d.rect),onMoveEnd:()=>n(!1)}),{resizeProps:o}=d4({boundaryRect:r,minHeight:50,minWidth:50,aspectRatio:pm(h),onResizeStart:()=>n(!0),onResize:d=>L().crop.drawZone(d.rect),onResizeEnd:()=>n(!1)});k.useLayoutEffect(()=>{L().crop.registerRefs(e),L().crop.resetCropzone(s)},[s,r]);const u=ce("cropzone absolute z-cropzone isolate left-0 top-0 w-full h-full overflow-hidden",t&&"moving");return x.jsxs("div",{className:u,onPointerDown:d=>{d.stopPropagation(),d.preventDefault()},children:[x.jsxs("div",{className:"cropzone-transition border-white/50 absolute z-10 left-0 top-0 border",..._r(o,a),ref:d=>e.current.innerZone=d,children:[!(i!=null&&i.hideTopLeft)&&x.jsx(vi,{position:gn.topLeft,inset:!0}),!(i!=null&&i.hideTopRight)&&x.jsx(vi,{position:gn.topRight,inset:!0}),!(i!=null&&i.hideBottomLeft)&&x.jsx(vi,{position:gn.bottomLeft,inset:!0}),!(i!=null&&i.hideBottomRight)&&x.jsx(vi,{position:gn.bottomRight,inset:!0}),x.jsx(Jf,{name:"lineVer1",refs:e}),x.jsx(Jf,{name:"lineVer2",refs:e}),x.jsx(Jf,{name:"lineHor1",refs:e}),x.jsx(Jf,{name:"lineHor2",refs:e})]}),x.jsx(Qf,{refs:e,position:Dl.top}),x.jsx(Qf,{refs:e,position:Dl.left}),x.jsx(Qf,{refs:e,position:Dl.right}),x.jsx(Qf,{refs:e,position:Dl.bottom})]})}const ZN=be(x.jsx("path",{d:"M 7 2 C 6.448 2 6 2.448 6 3 C 6 3.552 6.448 4 7 4 L 20 4 L 20 17 C 20 17.552 20.448 18 21 18 C 21.552 18 22 17.552 22 17 L 22 4 C 22 2.895 21.105 2 20 2 L 7 2 z M 4 6 C 2.895 6 2 6.895 2 8 L 2 20 C 2 21.105 2.895 22 4 22 L 16 22 C 17.105 22 18 21.105 18 20 L 18 8 C 18 6.895 17.105 6 16 6 L 4 6 z M 10 10 C 10.552 10 11 10.448 11 11 L 11 13 L 13 13 C 13.552 13 14 13.448 14 14 C 14 14.552 13.552 15 13 15 L 11 15 L 11 17 C 11 17.552 10.552 18 10 18 C 9.448 18 9 17.552 9 17 L 9 15 L 7 15 C 6.448 15 6 14.552 6 14 C 6 13.448 6.448 13 7 13 L 9 13 L 9 11 C 9 10.448 9.448 10 10 10 z"})),e7=be(x.jsx("path",{d:"M 11 3 L 2 21 L 11 21 L 11 3 z M 13 3 L 13 21 L 22 21 L 13 3 z M 9 11.472656 L 9 19 L 5.2363281 19 L 9 11.472656 z"})),t7=be(x.jsx("path",{d:"M 16.476562 2.4511719 C 16.392047 2.4657656 16.308531 2.5061719 16.238281 2.5761719 L 14.130859 4.6835938 C 13.956859 4.8575938 13.956859 5.1394531 14.130859 5.3144531 L 16.238281 7.4238281 C 16.519281 7.7048281 17 7.5054219 17 7.1074219 L 17 6 L 20 6 L 20 9 A 1.0001 1.0001 0 1 0 22 9 L 22 6 C 22 4.9069372 21.093063 4 20 4 L 17 4 L 17 2.8925781 C 17 2.5940781 16.730109 2.4073906 16.476562 2.4511719 z M 4 5 C 2.9069372 5 2 5.9069372 2 7 L 2 14 C 2 15.093063 2.9069372 16 4 16 L 7 16 L 7 19 C 7 20.105 7.895 21 9 21 L 16 21 C 17.105 21 18 20.105 18 19 L 18 12 C 18 10.895 17.105 10 16 10 L 13 10 L 13 7 C 13 5.9069372 12.093063 5 11 5 L 4 5 z M 4 7 L 11 7 L 11 14 L 4 14 L 4 7 z"})),n7=be(x.jsx("path",{d:"M 10 2 L 9 3 L 3 3 L 3 5 L 21 5 L 21 3 L 15 3 L 14 2 L 10 2 z M 4.3652344 7 L 5.8925781 20.263672 C 6.0245781 21.253672 6.877 22 7.875 22 L 16.123047 22 C 17.121047 22 17.974422 21.254859 18.107422 20.255859 L 19.634766 7 L 4.3652344 7 z"})),r7={width:120,height:30},i7=[{name:"Duplicate",icon:ZN,onClick:()=>{L().objects.duplicate()}},{name:"Flip",icon:e7,onClick:()=>{L().objects.flipHorizontally()}},{name:"Bring to front",icon:t7,onClick:()=>{L().objects.bringToFront()}},{name:"Delete",icon:n7,onClick:()=>{L().objects.delete()}}],s7=de.forwardRef((e,t)=>{const r=he(i=>i.objects.active.isMoving)?"opacity-0":"opacity-100";return x.jsx("div",{ref:t,className:`${r} absolute z-obj-box left-0 top-0 flex items-center text-white bg-controls rounded shadow transition-opacity overflow-hidden`,children:i7.map(i=>{const s=i.icon;return x.jsx(Ne,{size:"sm",className:"w-30 h-30 hover:bg-white/hover",radius:"rounded-none",onClick:i.onClick,children:x.jsx(s,{})},i.name)})})});function o7(e,t){if(!t)return;const n=e.angle||0,r=n>168&&n<188?-30:-15,i=D().canvasSize,s=D().stageSize,h=r7,a=i.top-s.top,o=i.left-s.left,u=s.width-(o+i.width),d=s.height-(a+i.height),l=-a,c=-(i.left-s.left),f=i.width-h.width+u,p=i.height-h.height+d,m=e.getBoundingRect();let g=m.top-h.height+r,v=m.left+m.width/2-h.width/2;g=Math.min(p,Math.max(l,g)),v=Math.min(f,Math.max(c,v)),t.style.transform=`translate(${v}px, ${g}px) rotate(0deg)`}function a7(e){const t=L().objects.getActive();if(!t||!e.rect.angle)return;const n=Ce.fabric.util.radiansToDegrees(e.rect.angle);n!==t.angle&&L().objects.setValues({angle:n})}function l7(e){const t=e.rect.width/2,n=e.rect.height/2;L().objects.setValues({left:(e.rect.left+t)/D().zoom,top:(e.rect.top+n)/D().zoom})}function u7(e){const t=L().objects.getActive();if(!t)return;const n={};$r(t)?(e.deltaX>0||t.getScaledHeight()>=20&&t.getScaledWidth()>=20)&&(n.fontSize=(t.fontSize||1)+e.deltaX):(t.width&&(n.scaleX=e.rect.width/D().zoom/t.width),t.height&&(n.scaleY=e.rect.height/D().zoom/t.height)),L().objects.setValues(n)}function g4(e,t){const n=L().objects.getActive();if(!n||!e.current)return;const r=e.current,i=Ce.fabric.util.degreesToRadians(n.angle??0);let s=Math.round(n.getScaledWidth()*D().zoom),h=Math.round(n.getScaledHeight()*D().zoom),a=Math.round((n.left??0)*D().zoom),o=Math.round((n.top??0)*D().zoom);const u=n.originX==="center"?s/2:0,d=n.originY==="center"?h/2:0;n.padding&&(s+=n.padding*2,h+=n.padding*2,a-=n.padding,o-=n.padding),r.style.width=`${s}px`,r.style.height=`${h}px`,r.style.transform=`translate(${a-u}px, ${o-d}px) rotate(${i}rad)`,L().canvas.render(),o7(n,t.current)}function c7(){var t;const e=L().objects.getActive();$r(e)&&(e.enterEditing(),(t=e.hiddenTextarea)==null||t.focus())}function f7(){return x.jsx("div",{className:"absolute -bottom-20 left-1/2 w-2 h-20 bg-white cursor-default -translate-x-1/2",children:x.jsx("div",{"data-rotate-handle":!0,className:"w-18 h-18 absolute -bottom-10 -left-8 bg-white rounded-full cursor-move"})})}let tr={};function h7(e){const t={onMoveStart:(r,i)=>{var u,d;if(!r.target.dataset.rotateHandle||pl)return!1;const h=Pl(i.getBoundingClientRect());if(!h)return!1;const a=(u=i.style.transform.match(/rotate\((.+?)\)/))==null?void 0:u[1],[o="0"]=a?a.split(","):[];v4({currentRect:h,centerX:h.left+h.width/2,centerY:h.top+h.height/2,startAngle:parseFloat(o)}),To("rotate"),tr.startAngle=m4(r),(d=e.onRotateStart)==null||d.call(e,Dr({rect:h,e:r}))},onMove:(r,i,s)=>{var a;if(!tr.currentRect)return;const h={...tr.currentRect};h.angle=m4(r),h.left+=i,h.top+=s,(a=e.onRotate)==null||a.call(e,Dr({rect:h,e:r,deltaX:i,deltaY:s})),tr.currentRect=h},onMoveEnd:r=>{var i;tr.currentRect&&((i=e.onRotateEnd)==null||i.call(e,Dr({rect:tr.currentRect,e:r}))),v4()}},{domProps:n}=qf(t);return{rotateProps:n}}function m4(e){const t={x:tr.centerX||0,y:tr.centerY||0};return Math.atan2(t.y-e.pageY,t.x-e.pageX)-(tr.startAngle||0)}const v4=(e={})=>{To(null),tr=e};function d7(){const e=k.useRef(null),t=k.useRef(null),n=he(c=>c.objects.active.id),r=he(c=>c.objects.isEditingText),i=he(c=>c.zoom),s=p7(),h=k.useRef(null),a=k.useCallback(()=>{h.current?(clearTimeout(h.current),h.current=null,c7()):h.current=setTimeout(()=>{h.current=null},300)},[]);let{moveProps:o}=p4({boundaryRef:D().canvasRef,restrictWithinBoundary:!1,onMoveEnd:()=>{D().objects.setActiveIsMoving(!1)},onMove:c=>{D().objects.setActiveIsMoving(!0),l7(c)}});s.lockMovement&&(o={});const{resizeProps:u}=d4({minWidth:50,minHeight:50,aspectRatio:s.unlockAspectRatio?null:"initial",boundaryRef:D().canvasRef,restrictWithinBoundary:!1,onResizeEnd:()=>{D().objects.setActiveIsMoving(!1)},onResize:c=>{D().objects.setActiveIsMoving(!0),u7(c)}}),{rotateProps:d}=h7({boundaryRef:D().canvasRef,onRotateEnd:()=>{D().objects.setActiveIsMoving(!1)},onRotate:c=>{D().objects.setActiveIsMoving(!0),a7(c)}});k.useEffect(()=>{pe()&&D().editor.on("object:modified",c=>{c.sizeOrPositionChanged&&g4(e,t)})},[]),k.useEffect(()=>{g4(e,t)},[n,i,r]);const l=n&&!r?"block":"hidden";return x.jsxs("div",{className:l,children:[x.jsxs("div",{ref:e,..._r(d,u,o),onClick:a,className:"absolute z-obj-box border-2 border-white shadow-md cursor-move",children:[!s.hideTopLeft&&x.jsx(vi,{position:gn.topLeft}),!s.hideTopRight&&x.jsx(vi,{position:gn.topRight}),!s.hideBottomLeft&&x.jsx(vi,{position:gn.bottomLeft}),!s.hideBottomRight&&x.jsx(vi,{position:gn.bottomRight}),!s.hideRotatingPoint&&x.jsx(f7,{})]}),x.jsx(s7,{ref:t})]})}function p7(){const e=L().objects.getActive();if(!e||!e.name)return{};const t=D().config.objectControls||{},n=e.name;return{...t.global,...t[n]}}function g7(){const e=he(n=>n.activeTool===Le.CROP),t=he(n=>n.objects.active.id);return x.jsxs("div",{children:[e&&x.jsx(JN,{}),t&&x.jsx(d7,{})]})}const m7=XN([MN,jN]),v7=de.forwardRef((e,t)=>{const[n,r]=k.useState(!1);k.useEffect(()=>he.subscribe(s=>s.loading,s=>{r(!s)}),[]);const i={visible:{opacity:1,transition:{duration:.35,delay:.5}},hidden:{opacity:0,transition:{duration:0}}};return x.jsx(y7,{children:x.jsxs(Pt.div,{initial:{opacity:0},variants:i,animate:n?"visible":"hidden",className:"relative m-auto w-max",style:{backgroundImage:`url(${hn("images/empty-canvas-bg.png")})`},children:[x.jsx(g7,{}),x.jsx("canvas",{ref:t})]})})});function y7({children:e}){const t=k.useRef(null),n=m7({onPinch:r=>{if(!L().zoom.allowUserZoom||!y4(r))return r.cancel();r.direction[0]===1?L().zoom.zoomIn(.01):L().zoom.zoomOut(.01),r.event.stopPropagation(),r.event.preventDefault()},onDrag:r=>{if(r.pinching||!y4(r))return r.cancel();t.current.scrollLeft-=r.delta[0],t.current.scrollTop-=r.delta[1]}});return x.jsx("div",{ref:t,className:"w-full h-full overflow-hidden touch-none flex",...n(),children:e})}function y4(e){return!(pe().findTarget(e.event,!1)||pe().isDrawingMode)}function x0({actionBtn:e,children:t,className:n}){return x.jsxs("div",{className:ce(n,"flex gap-16 items-center h-full"),children:[e&&x.jsx("div",{className:"flex-shrink-0",children:e}),x.jsx("div",{className:"w-full flex-auto",children:t}),e&&x.jsx("div",{className:"w-96"})]})}function zo(){return(zo=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Zf(e,t){if(e==null)return{};var n,r,i={},s=Object.keys(e);for(r=0;r<s.length;r++)t.indexOf(n=s[r])>=0||(i[n]=e[n]);return i}function Ml(e){var t=k.useRef(e),n=k.useRef(function(r){t.current&&t.current(r)});return t.current=e,n.current}var jl=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=1),e>n?n:e<t?t:e},Rl=function(e){return"touches"in e},C0=function(e){return e&&e.ownerDocument.defaultView||self},b4=function(e,t,n){var r=e.getBoundingClientRect(),i=Rl(t)?function(s,h){for(var a=0;a<s.length;a++)if(s[a].identifier===h)return s[a];return s[0]}(t.touches,n):t;return{left:jl((i.pageX-(r.left+C0(e).pageXOffset))/r.width),top:jl((i.pageY-(r.top+C0(e).pageYOffset))/r.height)}},w4=function(e){!Rl(e)&&e.preventDefault()},x4=de.memo(function(e){var t=e.onMove,n=e.onKey,r=Zf(e,["onMove","onKey"]),i=k.useRef(null),s=Ml(t),h=Ml(n),a=k.useRef(null),o=k.useRef(!1),u=k.useMemo(function(){var f=function(g){w4(g),(Rl(g)?g.touches.length>0:g.buttons>0)&&i.current?s(b4(i.current,g,a.current)):m(!1)},p=function(){return m(!1)};function m(g){var v=o.current,y=C0(i.current),b=g?y.addEventListener:y.removeEventListener;b(v?"touchmove":"mousemove",f),b(v?"touchend":"mouseup",p)}return[function(g){var v=g.nativeEvent,y=i.current;if(y&&(w4(v),!function(w,C){return C&&!Rl(w)}(v,o.current)&&y)){if(Rl(v)){o.current=!0;var b=v.changedTouches||[];b.length&&(a.current=b[0].identifier)}y.focus(),s(b4(y,v,a.current)),m(!0)}},function(g){var v=g.which||g.keyCode;v<37||v>40||(g.preventDefault(),h({left:v===39?.05:v===37?-.05:0,top:v===40?.05:v===38?-.05:0}))},m]},[h,s]),d=u[0],l=u[1],c=u[2];return k.useEffect(function(){return c},[c]),de.createElement("div",zo({},r,{onTouchStart:d,onMouseDown:d,className:"react-colorful__interactive",ref:i,onKeyDown:l,tabIndex:0,role:"slider"}))}),S0=function(e){return e.filter(Boolean).join(" ")},C4=function(e){var t=e.color,n=e.left,r=e.top,i=r===void 0?.5:r,s=S0(["react-colorful__pointer",e.className]);return de.createElement("div",{className:s,style:{top:100*i+"%",left:100*n+"%"}},de.createElement("div",{className:"react-colorful__pointer-fill",style:{backgroundColor:t}}))},Ct=function(e,t,n){return t===void 0&&(t=0),n===void 0&&(n=Math.pow(10,t)),Math.round(n*e)/n},b7=function(e){return _7(_0(e))},_0=function(e){return e[0]==="#"&&(e=e.substring(1)),e.length<6?{r:parseInt(e[0]+e[0],16),g:parseInt(e[1]+e[1],16),b:parseInt(e[2]+e[2],16),a:e.length===4?Ct(parseInt(e[3]+e[3],16)/255,2):1}:{r:parseInt(e.substring(0,2),16),g:parseInt(e.substring(2,4),16),b:parseInt(e.substring(4,6),16),a:e.length===8?Ct(parseInt(e.substring(6,8),16)/255,2):1}},w7=function(e){return S7(C7(e))},x7=function(e){var t=e.s,n=e.v,r=e.a,i=(200-t)*n/100;return{h:Ct(e.h),s:Ct(i>0&&i<200?t*n/100/(i<=100?i:200-i)*100:0),l:Ct(i/2),a:Ct(r,2)}},E0=function(e){var t=x7(e);return"hsl("+t.h+", "+t.s+"%, "+t.l+"%)"},C7=function(e){var t=e.h,n=e.s,r=e.v,i=e.a;t=t/360*6,n/=100,r/=100;var s=Math.floor(t),h=r*(1-n),a=r*(1-(t-s)*n),o=r*(1-(1-t+s)*n),u=s%6;return{r:Ct(255*[r,a,h,h,o,r][u]),g:Ct(255*[o,r,r,a,h,h][u]),b:Ct(255*[h,h,o,r,r,a][u]),a:Ct(i,2)}},eh=function(e){var t=e.toString(16);return t.length<2?"0"+t:t},S7=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,s=i<1?eh(Ct(255*i)):"";return"#"+eh(t)+eh(n)+eh(r)+s},_7=function(e){var t=e.r,n=e.g,r=e.b,i=e.a,s=Math.max(t,n,r),h=s-Math.min(t,n,r),a=h?s===t?(n-r)/h:s===n?2+(r-t)/h:4+(t-n)/h:0;return{h:Ct(60*(a<0?a+6:a)),s:Ct(s?h/s*100:0),v:Ct(s/255*100),a:i}},E7=de.memo(function(e){var t=e.hue,n=e.onChange,r=S0(["react-colorful__hue",e.className]);return de.createElement("div",{className:r},de.createElement(x4,{onMove:function(i){n({h:360*i.left})},onKey:function(i){n({h:jl(t+360*i.left,0,360)})},"aria-label":"Hue","aria-valuenow":Ct(t),"aria-valuemax":"360","aria-valuemin":"0"},de.createElement(C4,{className:"react-colorful__hue-pointer",left:t/360,color:E0({h:t,s:100,v:100,a:1})})))}),k7=de.memo(function(e){var t=e.hsva,n=e.onChange,r={backgroundColor:E0({h:t.h,s:100,v:100,a:1})};return de.createElement("div",{className:"react-colorful__saturation",style:r},de.createElement(x4,{onMove:function(i){n({s:100*i.left,v:100-100*i.top})},onKey:function(i){n({s:jl(t.s+100*i.left,0,100),v:jl(t.v-100*i.top,0,100)})},"aria-label":"Color","aria-valuetext":"Saturation "+Ct(t.s)+"%, Brightness "+Ct(t.v)+"%"},de.createElement(C4,{className:"react-colorful__saturation-pointer",top:1-t.v/100,left:t.s/100,color:E0(t)})))}),S4=function(e,t){if(e===t)return!0;for(var n in e)if(e[n]!==t[n])return!1;return!0},T7=function(e,t){return e.toLowerCase()===t.toLowerCase()||S4(_0(e),_0(t))};function O7(e,t,n){var r=Ml(n),i=k.useState(function(){return e.toHsva(t)}),s=i[0],h=i[1],a=k.useRef({color:t,hsva:s});k.useEffect(function(){if(!e.equal(t,a.current.color)){var u=e.toHsva(t);a.current={hsva:u,color:t},h(u)}},[t,e]),k.useEffect(function(){var u;S4(s,a.current.hsva)||e.equal(u=e.fromHsva(s),a.current.color)||(a.current={hsva:s,color:u},r(u))},[s,e,r]);var o=k.useCallback(function(u){h(function(d){return Object.assign({},d,u)})},[]);return[s,o]}var P7=typeof window<"u"?k.useLayoutEffect:k.useEffect,D7=function(){return typeof __webpack_nonce__<"u"?__webpack_nonce__:void 0},_4=new Map,A7=function(e){P7(function(){var t=e.current?e.current.ownerDocument:document;if(t!==void 0&&!_4.has(t)){var n=t.createElement("style");n.innerHTML=`.react-colorful{position:relative;display:flex;flex-direction:column;width:200px;height:200px;-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:default}.react-colorful__saturation{position:relative;flex-grow:1;border-color:transparent;border-bottom:12px solid #000;border-radius:8px 8px 0 0;background-image:linear-gradient(0deg,#000,transparent),linear-gradient(90deg,#fff,hsla(0,0%,100%,0))}.react-colorful__alpha-gradient,.react-colorful__pointer-fill{content:"";position:absolute;left:0;top:0;right:0;bottom:0;pointer-events:none;border-radius:inherit}.react-colorful__alpha-gradient,.react-colorful__saturation{box-shadow:inset 0 0 0 1px rgba(0,0,0,.05)}.react-colorful__alpha,.react-colorful__hue{position:relative;height:24px}.react-colorful__hue{background:linear-gradient(90deg,red 0,#ff0 17%,#0f0 33%,#0ff 50%,#00f 67%,#f0f 83%,red)}.react-colorful__last-control{border-radius:0 0 8px 8px}.react-colorful__interactive{position:absolute;left:0;top:0;right:0;bottom:0;border-radius:inherit;outline:none;touch-action:none}.react-colorful__pointer{position:absolute;z-index:1;box-sizing:border-box;width:28px;height:28px;transform:translate(-50%,-50%);background-color:#fff;border:2px solid #fff;border-radius:50%;box-shadow:0 2px 4px rgba(0,0,0,.2)}.react-colorful__interactive:focus .react-colorful__pointer{transform:translate(-50%,-50%) scale(1.1)}.react-colorful__alpha,.react-colorful__alpha-pointer{background-color:#fff;background-image:url('data:image/svg+xml;charset=utf-8,<svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill-opacity=".05"><path d="M8 0h8v8H8zM0 8h8v8H0z"/></svg>')}.react-colorful__saturation-pointer{z-index:3}.react-colorful__hue-pointer{z-index:2}`,_4.set(t,n);var r=D7();r&&n.setAttribute("nonce",r),t.head.appendChild(n)}},[])},M7=function(e){var t=e.className,n=e.colorModel,r=e.color,i=r===void 0?n.defaultColor:r,s=e.onChange,h=Zf(e,["className","colorModel","color","onChange"]),a=k.useRef(null);A7(a);var o=O7(n,i,s),u=o[0],d=o[1],l=S0(["react-colorful",t]);return de.createElement("div",zo({},h,{ref:a,className:l}),de.createElement(k7,{hsva:u,onChange:d}),de.createElement(E7,{hue:u.h,onChange:d,className:"react-colorful__last-control"}))},j7={defaultColor:"000",toHsva:b7,fromHsva:function(e){return w7({h:e.h,s:e.s,v:e.v,a:1})},equal:T7},R7=function(e){return de.createElement(M7,zo({},e,{colorModel:j7}))},F7=/^#?([0-9A-F]{3,8})$/i,I7=function(e){var t=e.color,n=t===void 0?"":t,r=e.onChange,i=e.onBlur,s=e.escape,h=e.validate,a=e.format,o=e.process,u=Zf(e,["color","onChange","onBlur","escape","validate","format","process"]),d=k.useState(function(){return s(n)}),l=d[0],c=d[1],f=Ml(r),p=Ml(i),m=k.useCallback(function(v){var y=s(v.target.value);c(y),h(y)&&f(o?o(y):y)},[s,o,h,f]),g=k.useCallback(function(v){h(v.target.value)||c(s(n)),p(v)},[n,s,h,p]);return k.useEffect(function(){c(s(n))},[n,s]),de.createElement("input",zo({},u,{value:a?a(l):l,spellCheck:"false",onChange:m,onBlur:g}))},E4=function(e){return"#"+e},L7=function(e){var t=e.prefixed,n=e.alpha,r=Zf(e,["prefixed","alpha"]),i=k.useCallback(function(h){return h.replace(/([^0-9A-F]+)/gi,"").substring(0,n?8:6)},[n]),s=k.useCallback(function(h){return function(a,o){var u=F7.exec(a),d=u?u[1].length:0;return d===3||d===6||!!o&&d===4||!!o&&d===8}(h,n)},[n]);return de.createElement(I7,zo({},r,{escape:i,format:t?E4:void 0,process:E4,validate:s}))},k4={};k4={alpha:"ألفا",black:"أسود",blue:"أزرق","blue purple":"أرجواني مزرق",brightness:"السطوع",brown:"بني","brown yellow":"أصفر بني",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"سماوي","cyan blue":"أزرق سماوي",dark:"داكن",gray:"رمادي",grayish:"مائل للرمادي",green:"أخضر","green cyan":"سماوي مخضر",hue:"درجة اللون",light:"فاتح",lightness:"الإضاءة",magenta:"أرجواني","magenta pink":"أرجواني وردي",orange:"برتقالي","orange yellow":"أصفر برتقالي",pale:"باهت",pink:"وردي","pink red":"أحمر وردي",purple:"أرجواني","purple magenta":"بنفسجي",red:"أحمر","red orange":"برتقالي محمر",saturation:"التشبع",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, ${e.percentTransparent} شفاف`,"very dark":"داكن جدًا","very light":"فاتح جدًا",vibrant:"ساطع",white:"أبيض",yellow:"أصفر","yellow green":"أخضر مصفر"};var T4={};T4={alpha:"Алфа",black:"черно",blue:"Синьо","blue purple":"синьо лилаво",brightness:"Яркост",brown:"кафяво","brown yellow":"кафяво жълто",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"циан","cyan blue":"циан синьо",dark:"тъмно",gray:"сиво",grayish:"сивкав",green:"Зелено","green cyan":"зелен циан",hue:"Оттенък",light:"светло",lightness:"Лекота",magenta:"магента","magenta pink":"магента розово",orange:"оранжево","orange yellow":"оранжево жълто",pale:"бледо",pink:"розово","pink red":"розово червено",purple:"лилаво","purple magenta":"лилаво магента",red:"Червено","red orange":"червен портокал",saturation:"Наситеност",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, ${e.percentTransparent} прозрачен`,"very dark":"много тъмно","very light":"много светло",vibrant:" ярко",white:"бяло",yellow:"жълто","yellow green":"жълто зелен"};var O4={};O4={alpha:"Alfa",black:"černá",blue:"Modrá","blue purple":"modrofialová",brightness:"Jas",brown:"hnědá","brown yellow":"hnědožlutá",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"tyrkysová","cyan blue":"tyrkysovomodrá",dark:"tmavá",gray:"šedá",grayish:"našedlá",green:"Zelená","green cyan":"zelenotyrkysová",hue:"Odstín",light:"světlá",lightness:"Světlost",magenta:"purpurová","magenta pink":"purpurově růžová",orange:"oranžová","orange yellow":"oranžovožlutá",pale:"bledá",pink:"růžová","pink red":"růžovočervená",purple:"fialová","purple magenta":"fialově purpurová",red:"Červená","red orange":"červenooranžová",saturation:"Sytost",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, ${e.percentTransparent} průhledné`,"very dark":"velmi tmavá","very light":"velmi světlá",vibrant:"zářivá",white:"bílá",yellow:"žlutá","yellow green":"žlutozelená"};var P4={};P4={alpha:"Alfa",black:"sort",blue:"Blå","blue purple":"blålilla",brightness:"Lysstyrke",brown:"brun","brown yellow":"brungul",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"cyan","cyan blue":"cyan blå",dark:"mørk",gray:"grå",grayish:"grålig",green:"Grøn","green cyan":"grøn cyan",hue:"Tone",light:"lys",lightness:"Lyshed",magenta:"magenta","magenta pink":"magenta pink",orange:"orange","orange yellow":"orangegul",pale:"bleg",pink:"lyserød","pink red":"lyserødlig rød",purple:"lilla","purple magenta":"lilla magenta",red:"Rød","red orange":"rødorange",saturation:"Farvemætning",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, ${e.percentTransparent} gennemsigtig`,"very dark":"meget mørk","very light":"meget lys",vibrant:"klar",white:"hvid",yellow:"gul","yellow green":"gulgrøn"};var D4={};D4={alpha:"Alpha",black:"Schwarz",blue:"Blau","blue purple":"Blaulila",brightness:"Helligkeit",brown:"Braun","brown yellow":"Braungelb",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"Cyan","cyan blue":"Cyanblau",dark:"dunkles",gray:"Grau",grayish:"gräuliches",green:"Grün","green cyan":"Grüncyan",hue:"Farbton",light:"helles",lightness:"Leuchtkraft",magenta:"Magenta","magenta pink":"Magentarosa",orange:"Orange","orange yellow":"Orangegelb",pale:"blasses",pink:"Rosa","pink red":"Rosarot",purple:"Lila","purple magenta":"Lilamagenta",red:"Rot","red orange":"Rotorange",saturation:"Sättigung",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, zu ${e.percentTransparent} transparent`,"very dark":"sehr dunkles","very light":"sehr helles",vibrant:"lebhaftes",white:"Weiß",yellow:"Gelb","yellow green":"Gelbgrün"};var A4={};A4={alpha:"Άλφα",black:"μαύρο",blue:"Μπλε","blue purple":"μπλε μωβ",brightness:"Φωτεινότητα",brown:"καφέ","brown yellow":"καφέ κίτρινο",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"κυανό","cyan blue":"κυανό μπλε",dark:"σκούρο",gray:"γκρι",grayish:"γκριζωπό",green:"Πράσινο","green cyan":"πράσινο κυανό",hue:"Τόνος",light:"ανοιχτό",lightness:"Φωτεινότητα",magenta:"ματζέντα","magenta pink":"ματζέντα ροζ",orange:"πορτοκαλί","orange yellow":"πορτοκαλί κίτρινο",pale:"ανοιχτό",pink:"ροζ","pink red":"ροζ κόκκινο",purple:"μωβ","purple magenta":"μωβ ματζέντα",red:"Κόκκινο","red orange":"κόκκινο πορτοκαλί",saturation:"Κορεσμός",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, ${e.percentTransparent} διαφανές`,"very dark":"πολύ σκούρο","very light":"πολύ ανοιχτό",vibrant:"έντονο",white:"λευκό",yellow:"κίτρινο","yellow green":"κίτρινο πράσινο"};var M4={};M4={hue:"Hue",saturation:"Saturation",lightness:"Lightness",brightness:"Brightness",red:"Red",green:"Green",blue:"Blue",alpha:"Alpha",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, ${e.percentTransparent} transparent`,"very dark":"very dark",dark:"dark",light:"light","very light":"very light",pale:"pale",grayish:"grayish",vibrant:"vibrant",black:"black",white:"white",gray:"gray",pink:"pink","pink red":"pink red","red orange":"red orange",brown:"brown",orange:"orange","orange yellow":"orange yellow","brown yellow":"brown yellow",yellow:"yellow","yellow green":"yellow green","green cyan":"green cyan",cyan:"cyan","cyan blue":"cyan blue","blue purple":"blue purple",purple:"purple","purple magenta":"purple magenta",magenta:"magenta","magenta pink":"magenta pink"};var j4={};j4={alpha:"Alpha",black:"negro",blue:"Azul","blue purple":"púrpura azulado",brightness:"Brillo",brown:"marrón","brown yellow":"amarillo amarronado",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"cian","cyan blue":"azul cian",dark:"oscuro",gray:"gris",grayish:"grisáceo",green:"Verde","green cyan":"cian verdoso",hue:"Tono",light:"claro",lightness:"Luminosidad",magenta:"magenta","magenta pink":"rosa magenta",orange:"naranja","orange yellow":"amarillo anaranjado",pale:"pálido",pink:"rosa","pink red":"rojo rosado",purple:"morado","purple magenta":"magenta violáceo",red:"Rojo","red orange":"naranja rojizo",saturation:"Saturación",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, ${e.percentTransparent} transparente`,"very dark":"muy oscuro","very light":"muy claro",vibrant:"intenso",white:"blanco",yellow:"amarillo","yellow green":"verde amarillento"};var R4={};R4={alpha:"Alfa",black:"must",blue:"Sinine","blue purple":"sinakaslilla",brightness:"Heledus",brown:"pruun","brown yellow":"pruunikaskollane",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"tsüaan","cyan blue":"tsüaansinine",dark:"tume",gray:"hall",grayish:"hallikas",green:"Roheline","green cyan":"tsüaanroheline",hue:"Värv",light:"valgus",lightness:"Valgus",magenta:"magentapunane","magenta pink":"magentaroosa",orange:"oranž","orange yellow":"oranžikaskollane",pale:"kahvatu",pink:"roosa","pink red":"vaarikapunane",purple:"lilla","purple magenta":"purpurne magenta",red:"Punane","red orange":"punakasoranž",saturation:"Küllastus",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, ${e.percentTransparent} läbipaistev`,"very dark":"väga tume","very light":"väga hele",vibrant:"ere",white:"valge",yellow:"kollane","yellow green":"kollakasroheline"};var F4={};F4={alpha:"Alpha",black:"musta",blue:"Sininen","blue purple":"sinivioletti",brightness:"Kirkkaus",brown:"ruskea","brown yellow":"ruskeankeltainen",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"syaani","cyan blue":"syaaninsininen",dark:"tumma",gray:"harmaa",grayish:"harmahtava",green:"Vihreä","green cyan":"vihreänsyaani",hue:"Sävy",light:"vaalea",lightness:"Valomäärä",magenta:"magenta","magenta pink":"magentapinkki",orange:"oranssi","orange yellow":"oranssinkeltainen",pale:"vaalea",pink:"pinkki","pink red":"vaaleanpunainen",purple:"violetti","purple magenta":"violettimagenta",red:"Punainen","red orange":"punaoranssi",saturation:"Värikylläisyys",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, ${e.percentTransparent} läpinäkyvä`,"very dark":"hyvin tumma","very light":"erittäin vaalea",vibrant:"eloisa",white:"valkea",yellow:"keltainen","yellow green":"keltavihreä"};var I4={};I4={alpha:"Alpha",black:"Noir",blue:"Bleu","blue purple":"Violet bleu",brightness:"Luminosité",brown:"Brun","brown yellow":"Jaune brun",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"Cyan","cyan blue":"Bleu cyan",dark:"Sombre",gray:"Gris",grayish:"Grisâtre",green:"Vert","green cyan":"Cyan vert",hue:"Teinte",light:"Clair",lightness:"Luminosité",magenta:"Magenta","magenta pink":"Rose magenta",orange:"Orange","orange yellow":"Jaune orangé",pale:"Pâle",pink:"Rose","pink red":"Rouge rosé",purple:"Violet","purple magenta":"Magenta violet",red:"Rouge","red orange":"Orange rouge",saturation:"Saturation",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, ${e.percentTransparent} transparent`,"very dark":"Très sombre","very light":"Très clair",vibrant:"Vif",white:"Blanc",yellow:"Jaune","yellow green":"Vert jaune"};var L4={};L4={alpha:"אלפא",black:"שחור",blue:"כחול","blue purple":"כחול סגול",brightness:"בהירות",brown:"חום","brown yellow":"חום צהוב",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"טורקיז","cyan blue":"כחול ציאן",dark:"כהה",gray:"אפור",grayish:"אפרפר",green:"ירוק","green cyan":"ציאן ירוק",hue:"גוון",light:"אור",lightness:"כמות אור",magenta:"מג'נטה","magenta pink":"ורוד מג'נטה",orange:"כתום","orange yellow":"כתום צהוב",pale:"חיוור",pink:"ורוד","pink red":"ורוד אדום",purple:"סגול","purple magenta":"מג'נטה סגול",red:"אדום","red orange":"כתום אדום",saturation:"רוויה",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, ${e.percentTransparent} שקוף`,"very dark":"כהה מאוד","very light":"בהיר מאוד",vibrant:"תוסס",white:"לבן",yellow:"צהוב","yellow green":"צהוב ירוק"};var z4={};z4={alpha:"Alfa",black:"crno",blue:"Plava","blue purple":"plavo ljubičasta",brightness:"Svjetlina",brown:"smeđa","brown yellow":"smeđe žuta",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"cijan","cyan blue":"cijan plava",dark:"tamno",gray:"siva",grayish:"sivkasto",green:"Zelena","green cyan":"zelena cijan",hue:"Nijansa",light:"svjetlo",lightness:"Osvijetljenost",magenta:"magenta","magenta pink":"magentno ružičasta",orange:"narančasta","orange yellow":"narančasto žuta",pale:"blijeda",pink:"ružičasta","pink red":"ružičasto crvena",purple:"ljubičasta","purple magenta":"ljubičasta magenta",red:"Crvena","red orange":"crveno narančasta",saturation:"Zasićenost",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, ${e.percentTransparent} prozirnosti`,"very dark":"jako tamna","very light":"vrlo svijetlo",vibrant:"vibrantna",white:"bijela",yellow:"žuto","yellow green":"žuto zelena"};var B4={};B4={alpha:"Alfa",black:"fekete",blue:"Kék","blue purple":"kék lila",brightness:"Fényesség",brown:"barna","brown yellow":"barna sárga",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"ciánkék","cyan blue":"ciánkék",dark:"sötét",gray:"szürke",grayish:"szürkés",green:"Zöld","green cyan":"zöld ciánkék",hue:"Színárnyalat",light:"világos",lightness:"Világosság",magenta:"bíbor","magenta pink":"bíbor rózsaszín",orange:"narancs","orange yellow":"narancssárga",pale:"halvány",pink:"rózsaszín","pink red":"rózsaszín piros",purple:"lila","purple magenta":"lila bíbor",red:"Piros","red orange":"piros narancs",saturation:"Telítettség",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, ${e.percentTransparent} átlátszó`,"very dark":"nagyon sötét","very light":"nagyon világos",vibrant:"élénk",white:"fehér",yellow:"sárga","yellow green":"sárga zöld"};var N4={};N4={alpha:"Alfa",black:"nero",blue:"Blu","blue purple":"blu viola",brightness:"Luminosità",brown:"marrone","brown yellow":"giallo bruno",colorName:e=>`${e.hue} ${e.chroma} ${e.lightness}`,cyan:"ciano","cyan blue":"blu ciano",dark:"scuro",gray:"grigio",grayish:"grigiastro",green:"Verde","green cyan":"verde ciano",hue:"Tonalità",light:"chiaro",lightness:"Luminosità",magenta:"magenta","magenta pink":"rosa magenta",orange:"arancio","orange yellow":"giallo arancio",pale:"tenue",pink:"rosa","pink red":"rosa rosso",purple:"viola","purple magenta":"viola magenta",red:"Rosso","red orange":"rosso arancio",saturation:"Saturazione",transparentColorName:e=>`${e.hue} ${e.chroma} ${e.lightness}, trasparenza ${e.percentTransparent}`,"very dark":"molto scuro","very light":"molto chiaro",vibrant:"vivace",white:"bianco",yellow:"giallo","yellow green":"giallo verde"};var $4={};$4={alpha:"アルファ",black:"ブラック",blue:"青","blue purple":"ブルーパープル",brightness:"明るさ",brown:"ブラウン","brown yellow":"ブラウンイエロー",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"シアン","cyan blue":"シアンブルー",dark:"ダーク",gray:"グレー",grayish:"グレイッシュ",green:"緑","green cyan":"グリーンシアン",hue:"色相",light:"ライト",lightness:"明度",magenta:"マゼンタ","magenta pink":"マゼンタピンク",orange:"オレンジ","orange yellow":"オレンジイエロー",pale:"ペール",pink:"ピンク","pink red":"ピンクレッド",purple:"パープル","purple magenta":"パープルマゼンタ",red:"赤","red orange":"レッドオレンジ",saturation:"彩度",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, ${e.percentTransparent} 透明`,"very dark":"最も暗い","very light":"ベリーライト",vibrant:"鮮やか",white:"ホワイト",yellow:"イエロー","yellow green":"イエローグリーン"};var V4={};V4={alpha:"알파",black:"검은색",blue:"파랑","blue purple":"청자색",brightness:"명도",brown:"갈색","brown yellow":"황갈색",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"청록색","cyan blue":"청록색",dark:"다크",gray:"회색",grayish:"회갈색",green:"초록","green cyan":"청록색",hue:"색조",light:"라이트",lightness:"밝기",magenta:"자홍색","magenta pink":"마젠타 핑크",orange:"주황색","orange yellow":"불그스름한 노랑",pale:"흙색",pink:"분홍색","pink red":"핑크 레드",purple:"자주색","purple magenta":"보라빛 자홍색",red:"빨강","red orange":"붉은 주황색",saturation:"채도",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, ${e.percentTransparent} 투명도`,"very dark":"매우 어두운","very light":"매우 연함",vibrant:"강렬한",white:"흰색",yellow:"노란색","yellow green":"연두색"};var H4={};H4={alpha:"Alfa",black:"juoda",blue:"Mėlyna","blue purple":"melsvai violetinė",brightness:"Ryškumas",brown:"ruda","brown yellow":"rusvai geltona",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"žalsvai mėlyna","cyan blue":"žalsvai mėlyna",dark:"tamsi",gray:"pilka",grayish:"pilkšva",green:"Žalia","green cyan":"žalsvai mėlyna",hue:"Atspalvis",light:"šviesi",lightness:"Šviesumas",magenta:"rausvai raudona","magenta pink":"purpurinė",orange:"oranžinė","orange yellow":"oranžinio atspalvio geltona",pale:"blyški",pink:"rožinė","pink red":"rožinė raudona",purple:"violetinė","purple magenta":"purpurinė rausvai raudona",red:"Raudona","red orange":"rausvai oranžinė",saturation:"Įsotinimas",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, ${e.percentTransparent} skaidri`,"very dark":"labai tamsi","very light":"labai šviesi",vibrant:"ryški",white:"balta",yellow:"geltona","yellow green":"gelsvai žalia"};var U4={};U4={alpha:"Alfa",black:"melns",blue:"Zila","blue purple":"zili violets",brightness:"Spilgtums",brown:"brūns","brown yellow":"brūni dzeltens",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"ciāns","cyan blue":"ciāna zils",dark:"tumšs",gray:"pelēks",grayish:"pelēcīgs",green:"Zaļa","green cyan":"zaļš ciāns",hue:"Nokrāsa",light:"gaišs",lightness:"Gaišums",magenta:"fuksiju","magenta pink":"fuksiju rozā",orange:"oranžs","orange yellow":"oranži dzeltens",pale:"bāls",pink:"rozā","pink red":"rozīgi sarkans",purple:"violets","purple magenta":"violets fuksiju",red:"Sarkana","red orange":"sarkanīgi oranžs",saturation:"Piesātinājums",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, ${e.percentTransparent} caurspīdīgs`,"very dark":"ļoti tumšs","very light":"ļoti gaišs",vibrant:"košs",white:"balts",yellow:"dzeltens","yellow green":"dzelteni zaļš"};var W4={};W4={alpha:"Alfa",black:"svart",blue:"Blå","blue purple":"blålilla",brightness:"Lysstyrke",brown:"brun","brown yellow":"brungul",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"cyan","cyan blue":"cyanblå",dark:"mørk",gray:"grå",grayish:"gråaktig",green:"Grønn","green cyan":"grønncyan",hue:"Fargetone",light:"lys",lightness:"Lyshet",magenta:"magenta","magenta pink":"magentarosa",orange:"oransje","orange yellow":"oransjegul",pale:"blek",pink:"rosa","pink red":"rosarød",purple:"lilla","purple magenta":"lillamagenta",red:"Rød","red orange":"rødoransje",saturation:"Metning",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, ${e.percentTransparent} gjennomsiktig`,"very dark":"svært mørk","very light":"svært lys",vibrant:"levende",white:"hvit",yellow:"gul","yellow green":"gulgrønn"};var X4={};X4={alpha:"Alfa",black:"zwart",blue:"Blauw","blue purple":"paarsblauw",brightness:"Helderheid",brown:"bruin","brown yellow":"bruingeel",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"cyaan","cyan blue":"cyaanblauw",dark:"donker",gray:"grijs",grayish:"grijsachtig",green:"Groen","green cyan":"cyaangroen",hue:"Kleurtoon",light:"licht",lightness:"Lichtsterkte",magenta:"magenta","magenta pink":"magentaroze",orange:"oranje","orange yellow":"oranjegeel",pale:"bleek",pink:"roze","pink red":"rozerood",purple:"paars","purple magenta":"magentapaars",red:"Rood","red orange":"roodoranje",saturation:"Verzadiging",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, ${e.percentTransparent} transparant`,"very dark":"heel donker","very light":"heel licht",vibrant:"levendig",white:"wit",yellow:"geel","yellow green":"geelgroen"};var Y4={};Y4={alpha:"Alfa",black:"czarny",blue:"Niebieski","blue purple":"niebiesko-fioletowy",brightness:"Jasność",brown:"brązowy","brown yellow":"brązowo-żółty",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"cyjanowy","cyan blue":"cyjanowo-niebieski",dark:"ciemny",gray:"szary",grayish:"szarawy",green:"Zielony","green cyan":"zielono-cyjanowy",hue:"Odcień",light:"jasny",lightness:"Jaskrawość",magenta:"purpurowy","magenta pink":"purpurowo-różowy",orange:"pomarańczowy","orange yellow":"pomarańczowo-żółty",pale:"blady",pink:"różowy","pink red":"różowo-czerwony",purple:"fioletowy","purple magenta":"fioletowo-purpurowy",red:"Czerwony","red orange":"czerwono-pomarańczowy",saturation:"Nasycenie",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, ${e.percentTransparent} przezroczystości`,"very dark":"bardzo ciemny","very light":"bardzo jasny",vibrant:"intensywny",white:"biały",yellow:"żółty","yellow green":"żółto-zielony"};var G4={};G4={alpha:"Alfa",black:"preto",blue:"Azul","blue purple":"roxo azulado",brightness:"Brilho",brown:"marrom","brown yellow":"marrom amarelado",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"ciano","cyan blue":"azul-ciano",dark:"escuro",gray:"cinza",grayish:"acinzentado",green:"Verde","green cyan":"verde-ciano",hue:"Matiz",light:"claro",lightness:"Luminosidade",magenta:"magenta","magenta pink":"rosa-magenta",orange:"laranja","orange yellow":"amarelo alaranjado",pale:"pálido",pink:"rosa","pink red":"rosa avermelhado",purple:"roxo","purple magenta":"roxo-magenta",red:"Vermelho","red orange":"laranja avermelhado",saturation:"Saturação",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, ${e.percentTransparent} transparente`,"very dark":"muito escuro","very light":"muito claro",vibrant:"vibrante",white:"branco",yellow:"amarelo","yellow green":"verde amarelado"};var K4={};K4={alpha:"Alfa",black:"preto",blue:"Azul","blue purple":"azul-púrpura",brightness:"Luminosidade",brown:"castanho","brown yellow":"amarelo-castanho",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"ciano","cyan blue":"azul-ciano",dark:"escuro",gray:"cinzento",grayish:"acinzentado",green:"Verde","green cyan":"verde-ciano",hue:"Tonalidade",light:"claro",lightness:"Claridade",magenta:"magenta","magenta pink":"rosa-magenta",orange:"laranja","orange yellow":"amarelo-laranja",pale:"pálido",pink:"cor-de-rosa","pink red":"vermelho-rosa",purple:"púrpura","purple magenta":"púrpura-magenta",red:"Vermelho","red orange":"laranja-vermelho",saturation:"Saturação",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, ${e.percentTransparent} transparente`,"very dark":"muito escuro","very light":"muito claro",vibrant:"vibrante",white:"branco",yellow:"amarelo","yellow green":"verde-amarelo"};var q4={};q4={alpha:"Alfa",black:"negru",blue:"Albastru","blue purple":"albastru-violet",brightness:"Luminozitate",brown:"maro","brown yellow":"galben maro",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"bleu","cyan blue":"albastru-bleu",dark:"închis",gray:"gri",grayish:"cenușiu",green:"Verde","green cyan":"verde bleu",hue:"Nuanță",light:"deschis",lightness:"Luminozitate",magenta:"fucsia","magenta pink":"roz-fucsia",orange:"portocaliu","orange yellow":"galben-portocaliu",pale:"pal",pink:"roz","pink red":"roz-roșu",purple:"violet","purple magenta":"violet-fucsia",red:"Roșu","red orange":"portocaliu-roșu",saturation:"Saturație",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, ${e.percentTransparent} transparent`,"very dark":"foarte închis","very light":"foarte deschis",vibrant:"plin de viață",white:"alb",yellow:"galben","yellow green":"galben-verde"};var Q4={};Q4={alpha:"Альфа",black:"черный",blue:"Синий","blue purple":"сине-фиолетовый",brightness:"Яркость",brown:"коричневый","brown yellow":"коричнево-желтый",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"голубой","cyan blue":"цвет морской волны",dark:"темный",gray:"серый",grayish:"сероватый",green:"Зеленый","green cyan":"сине-зеленый",hue:"Оттенок",light:"светлый",lightness:"Освещенность",magenta:"пурпурный","magenta pink":"пурпурно-розовый",orange:"оранжевый","orange yellow":"оранжево-желтый",pale:"бледный",pink:"розовый","pink red":"розово-красный",purple:"фиолетовый","purple magenta":"фиолетово-пурпурный",red:"Красный","red orange":"красно-оранжевый",saturation:"Насыщенность",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, прозрачный на ${e.percentTransparent}`,"very dark":"очень темный","very light":"очень светлый",vibrant:"яркий",white:"белый",yellow:"желтый","yellow green":"желто-зеленый"};var J4={};J4={alpha:"Alfa",black:"čierna",blue:"Modrá","blue purple":"modrofialová",brightness:"Jas",brown:"hnedá","brown yellow":"hnedožltá",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"azúrová","cyan blue":"azúrová modrá",dark:"tmavá",gray:"sivá",grayish:"sivastá",green:"Zelená","green cyan":"zelená azúrová",hue:"Odtieň",light:"svetlá",lightness:"Svetlosť",magenta:"purpurová","magenta pink":"ružová purpurová",orange:"oranžová","orange yellow":"oranžovožltá",pale:"bledá",pink:"ružová","pink red":"ružovočervená",purple:"fialová","purple magenta":"fialová purpurová",red:"Červená","red orange":"červenooranžová",saturation:"Sýtosť",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, ${e.percentTransparent} priehľadná`,"very dark":"veľmi tmavá","very light":"veľmi svetlá",vibrant:"energická",white:"biela",yellow:"žltá","yellow green":"žltozelená"};var Z4={};Z4={alpha:"Alfa",black:"črna",blue:"Modra","blue purple":"modro vijolična",brightness:"Svetlost",brown:"rjava","brown yellow":"rjavo rumena",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"cian","cyan blue":"cian modra",dark:"temna",gray:"siva",grayish:"sivkasta",green:"Zelena","green cyan":"zelena cian",hue:"Barva",light:"svetla",lightness:"Lahkost",magenta:"škrlatna","magenta pink":"škrlatno roza",orange:"oranžna","orange yellow":"oranžno rumena",pale:"bleda",pink:"roza","pink red":"roza rdeča",purple:"vijolična","purple magenta":"vijolično škrlatna",red:"Rdeča","red orange":"rdeče oranžna",saturation:"Nasičenost",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, ${e.percentTransparent} prozorna`,"very dark":"zelo temna","very light":"zelo svetla",vibrant:"živahna",white:"bela",yellow:"rumena","yellow green":"rumeno zelena"};var e3={};e3={alpha:"Alfa",black:"crno",blue:"Plava","blue purple":"plavoljubičasta",brightness:"Osvetljenost",brown:"smeđa","brown yellow":"smeđežuta",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"cijan","cyan blue":"cijan plava",dark:"tamno",gray:"siva",grayish:"sivkasta",green:"Zelena","green cyan":"zeleno cijan",hue:"Nijansa",light:"svetla",lightness:"Osvetljenje",magenta:"purpurnocrvena","magenta pink":"magenta ružičasta",orange:"narandžasta","orange yellow":"narandžastožuta",pale:"bledo",pink:"ružičasta","pink red":"ružičastocrvena",purple:"ljubičasta","purple magenta":"ljubičasta magenta",red:"Crvena","red orange":"crvenonarandžasta",saturation:"Zasićenje",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, ${e.percentTransparent} prozirna`,"very dark":"veoma tamno","very light":"vrlo svetlo",vibrant:"živopisna",white:"bela",yellow:"žuto","yellow green":"žutozelena"};var t3={};t3={alpha:"Alfa",black:"svart",blue:"Blått","blue purple":"blålila",brightness:"Ljusstyrka",brown:"brun","brown yellow":"brungul",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"cyan","cyan blue":"cyanblå",dark:"mörk",gray:"grå",grayish:"gråaktig",green:"Grönt","green cyan":"grön cyan",hue:"Nyans",light:"ljus",lightness:"Ljushet",magenta:"magenta","magenta pink":"magentarosa",orange:"orange","orange yellow":"orangegul",pale:"blek",pink:"rosa","pink red":"rosaröd",purple:"lila","purple magenta":"lila magenta",red:"Rött","red orange":"rödorange",saturation:"Mättnad",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, ${e.percentTransparent} genomskinlig`,"very dark":"mycket mörk","very light":"mycket ljus",vibrant:"livfull",white:"vit",yellow:"gul","yellow green":"gulgrön"};var n3={};n3={alpha:"Alfa",black:"siyah",blue:"Mavi","blue purple":"mavi mor",brightness:"Parlaklık",brown:"kahverengi","brown yellow":"kahverengi sarı",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"camgöbeği","cyan blue":"camgöbeği mavi",dark:"koyu",gray:"gri",grayish:"grimsi",green:"Yeşil","green cyan":"yeşil camgöbeği",hue:"Ton",light:"açık",lightness:"Canlılık",magenta:"eflatun","magenta pink":"eflatun pembe",orange:"turuncu","orange yellow":"turuncu sarı",pale:"solgun",pink:"pembe","pink red":"pembe kırmızı",purple:"mor","purple magenta":"mor eflatun",red:"Kırmızı","red orange":"kırmızı portakal",saturation:"Doygunluk",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, ${e.percentTransparent} saydam`,"very dark":"çok koyu","very light":"çok açık",vibrant:"canlı",white:"beyaz",yellow:"sarı","yellow green":"sarı yeşil"};var r3={};r3={alpha:"Альфа",black:"чорний",blue:"Синій","blue purple":"синьо-фіолетовий",brightness:"Яскравість",brown:"коричневий","brown yellow":"коричнево-жовтий",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"блакитний","cyan blue":"синьо-блакитний",dark:"темний",gray:"сірий",grayish:"сіруватий",green:"Зелений","green cyan":"зелено-блакитний",hue:"Тон",light:"світлий",lightness:"Освітленість",magenta:"пурпуровий","magenta pink":"пурпурово-рожевий",orange:"помаранчевий","orange yellow":"помаранчево-жовтий",pale:"блідий",pink:"рожевий","pink red":"рожево-червоний",purple:"фіолетовий","purple magenta":"фіолетово-пурпуровий",red:"Червоний","red orange":"червоно-помаранчевий",saturation:"Насиченість",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, прозорий на ${e.percentTransparent}`,"very dark":"дуже темний","very light":"дуже світлий",vibrant:"яскравий",white:"білий",yellow:"жовтий","yellow green":"жовто-зелений"};var i3={};i3={alpha:"Alpha",black:"黑色",blue:"蓝色","blue purple":"蓝紫色",brightness:"亮度",brown:"棕色的","brown yellow":"棕黄色",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"蓝绿色","cyan blue":"青蓝色",dark:"深色",gray:"灰色",grayish:"浅灰色的",green:"绿色","green cyan":"绿青色",hue:"色相",light:"浅色",lightness:"明亮度",magenta:"紫红色","magenta pink":"紫粉色",orange:"橙色","orange yellow":"橙黄色",pale:"苍白的",pink:"粉色","pink red":"粉红色",purple:"紫色","purple magenta":"紫洋红色",red:"红色","red orange":"红橙色",saturation:"饱和度",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, ${e.percentTransparent} 透明`,"very dark":"很暗","very light":"很浅",vibrant:"生机勃勃",white:"白色",yellow:"黄色","yellow green":"黄色/绿色"};var s3={};s3={alpha:"Alpha",black:"黑",blue:"藍色","blue purple":"藍紫",brightness:"亮度",brown:"棕","brown yellow":"棕黃",colorName:e=>`${e.lightness} ${e.chroma} ${e.hue}`,cyan:"青","cyan blue":"青藍",dark:"暗",gray:"灰",grayish:"偏灰",green:"綠色","green cyan":"青綠",hue:"色相",light:"淺",lightness:"明亮",magenta:"洋紅","magenta pink":"淺洋紅",orange:"橙","orange yellow":"橙黃",pale:"淡",pink:"粉紅","pink red":"粉紅",purple:"紫","purple magenta":"紫洋紅",red:"紅色","red orange":"橙紅",saturation:"飽和度",transparentColorName:e=>`${e.lightness} ${e.chroma} ${e.hue}, ${e.percentTransparent} 透明`,"very dark":"很暗","very light":"很淺",vibrant:"鮮豔",white:"白",yellow:"黃","yellow green":"黃綠"};var o3={};o3={"ar-AE":k4,"bg-BG":T4,"cs-CZ":O4,"da-DK":P4,"de-DE":D4,"el-GR":A4,"en-US":M4,"es-ES":j4,"et-EE":R4,"fi-FI":F4,"fr-FR":I4,"he-IL":L4,"hr-HR":z4,"hu-HU":B4,"it-IT":N4,"ja-JP":$4,"ko-KR":V4,"lt-LT":H4,"lv-LV":U4,"nb-NO":W4,"nl-NL":X4,"pl-PL":Y4,"pt-BR":G4,"pt-PT":K4,"ro-RO":q4,"ru-RU":Q4,"sk-SK":J4,"sl-SI":Z4,"sr-SP":e3,"sv-SE":t3,"tr-TR":n3,"uk-UA":r3,"zh-CN":i3,"zh-TW":s3};const z7=Symbol.for("react-aria.i18n.locale"),B7=Symbol.for("react-aria.i18n.strings");let Bo;class No{getStringForLocale(t,n){let i=this.getStringsForLocale(n)[t];if(!i)throw new Error(`Could not find intl message ${t} in ${n} locale`);return i}getStringsForLocale(t){let n=this.strings[t];return n||(n=N7(t,this.strings,this.defaultLocale),this.strings[t]=n),n}static getGlobalDictionaryForPackage(t){if(typeof window>"u")return null;let n=window[z7];if(Bo===void 0){let i=window[B7];if(!i)return null;Bo={};for(let s in i)Bo[s]=new No({[n]:i[s]},n)}let r=Bo==null?void 0:Bo[t];if(!r)throw new Error(`Strings for package "${t}" were not included by LocalizedStringProvider. Please add it to the list passed to createLocalizedStringDictionary.`);return r}constructor(t,n="en-US"){this.strings=Object.fromEntries(Object.entries(t).filter(([,r])=>r)),this.defaultLocale=n}}function N7(e,t,n="en-US"){if(t[e])return t[e];let r=$7(e);if(t[r])return t[r];for(let i in t)if(i.startsWith(r+"-"))return t[i];return t[n]}function $7(e){return Intl.Locale?new Intl.Locale(e).language:e.split("-")[0]}const a3=new Map,l3=new Map;class V7{format(t,n){let r=this.strings.getStringForLocale(t,this.locale);return typeof r=="function"?r(n,this):r}plural(t,n,r="cardinal"){let i=n["="+t];if(i)return typeof i=="function"?i():i;let s=this.locale+":"+r,h=a3.get(s);h||(h=new Intl.PluralRules(this.locale,{type:r}),a3.set(s,h));let a=h.select(t);return i=n[a]||n.other,typeof i=="function"?i():i}number(t){let n=l3.get(this.locale);return n||(n=new Intl.NumberFormat(this.locale),l3.set(this.locale,n)),n.format(t)}select(t,n){let r=t[n]||t.other;return typeof r=="function"?r():r}constructor(t,n){this.locale=t,this.strings=n}}let k0=new Map,T0=!1;try{T0=new Intl.NumberFormat("de-DE",{signDisplay:"exceptZero"}).resolvedOptions().signDisplay==="exceptZero"}catch{}let th=!1;try{th=new Intl.NumberFormat("de-DE",{style:"unit",unit:"degree"}).resolvedOptions().style==="unit"}catch{}const u3={degree:{narrow:{default:"°","ja-JP":" 度","zh-TW":"度","sl-SI":" °"}}};class Fl{format(t){let n="";if(!T0&&this.options.signDisplay!=null?n=U7(this.numberFormatter,this.options.signDisplay,t):n=this.numberFormatter.format(t),this.options.style==="unit"&&!th){var r;let{unit:i,unitDisplay:s="short",locale:h}=this.resolvedOptions();if(!i)return n;let a=(r=u3[i])===null||r===void 0?void 0:r[s];n+=a[h]||a.default}return n}formatToParts(t){return this.numberFormatter.formatToParts(t)}formatRange(t,n){if(typeof this.numberFormatter.formatRange=="function")return this.numberFormatter.formatRange(t,n);if(n<t)throw new RangeError("End date must be >= start date");return`${this.format(t)} – ${this.format(n)}`}formatRangeToParts(t,n){if(typeof this.numberFormatter.formatRangeToParts=="function")return this.numberFormatter.formatRangeToParts(t,n);if(n<t)throw new RangeError("End date must be >= start date");let r=this.numberFormatter.formatToParts(t),i=this.numberFormatter.formatToParts(n);return[...r.map(s=>({...s,source:"startRange"})),{type:"literal",value:" – ",source:"shared"},...i.map(s=>({...s,source:"endRange"}))]}resolvedOptions(){let t=this.numberFormatter.resolvedOptions();return!T0&&this.options.signDisplay!=null&&(t={...t,signDisplay:this.options.signDisplay}),!th&&this.options.style==="unit"&&(t={...t,style:"unit",unit:this.options.unit,unitDisplay:this.options.unitDisplay}),t}constructor(t,n={}){this.numberFormatter=H7(t,n),this.options=n}}function H7(e,t={}){let{numberingSystem:n}=t;if(n&&e.includes("-nu-")&&(e.includes("-u-")||(e+="-u-"),e+=`-nu-${n}`),t.style==="unit"&&!th){var r;let{unit:h,unitDisplay:a="short"}=t;if(!h)throw new Error('unit option must be provided with style: "unit"');if(!(!((r=u3[h])===null||r===void 0)&&r[a]))throw new Error(`Unsupported unit ${h} with unitDisplay = ${a}`);t={...t,style:"decimal"}}let i=e+(t?Object.entries(t).sort((h,a)=>h[0]<a[0]?-1:1).join():"");if(k0.has(i))return k0.get(i);let s=new Intl.NumberFormat(e,t);return k0.set(i,s),s}function U7(e,t,n){if(t==="auto")return e.format(n);if(t==="never")return e.format(Math.abs(n));{let r=!1;if(t==="always"?r=n>0||Object.is(n,0):t==="exceptZero"&&(Object.is(n,-0)||Object.is(n,0)?n=Math.abs(n):r=n>0),r){let i=e.format(-n),s=e.format(n),h=i.replace(s,"").replace(/\u200e|\u061C/,"");return[...h].length!==1&&console.warn("@react-aria/i18n polyfill for NumberFormat signDisplay: Unsupported case"),i.replace(s,"!!!").replace(h,"+").replace("!!!",s)}else return e.format(n)}}function W7(e){return e&&e.__esModule?e.default:e}let O0=new No(W7(o3));function X7(e){let t=yi.parse(e)||bi.parse(e)||wi.parse(e);if(t)return t;throw new Error("Invalid color value: "+e)}const c3=.68,Y7=.85,f3=.55,h3=.001,P0=[[0,"pink"],[15,"red"],[48,"orange"],[94,"yellow"],[135,"green"],[175,"cyan"],[264,"blue"],[284,"purple"],[320,"magenta"],[349,"pink"]];class D0{toHexInt(){return this.toFormat("rgb").toHexInt()}getChannelValue(t){if(t in this)return this[t];throw new Error("Unsupported color channel: "+t)}withChannelValue(t,n){if(t in this){let r=this.clone();return r[t]=n,r}throw new Error("Unsupported color channel: "+t)}getChannelName(t,n){return(No.getGlobalDictionaryForPackage("@react-stately/color")||O0).getStringForLocale(t,n)}getColorSpaceAxes(t){let{xChannel:n,yChannel:r}=t,i=n||this.getColorChannels().find(a=>a!==r),s=r||this.getColorChannels().find(a=>a!==i),h=this.getColorChannels().find(a=>a!==i&&a!==s);return{xChannel:i,yChannel:s,zChannel:h}}getColorName(t){let[n,r,i]=p3(this),s=No.getGlobalDictionaryForPackage("@react-stately/color")||O0;if(n>.999)return s.getStringForLocale("white",t);if(n<.001)return s.getStringForLocale("black",t);let h;[h,n]=this.getOklchHue(n,r,i,t);let a="",o="";r<=.1&&r>=h3?n>=.7?o="pale":o="grayish":r>=.15&&(o="vibrant"),n<.3?a="very dark":n<f3?a="dark":n<.7||(n<.85?a="light":a="very light"),o&&(o=s.getStringForLocale(o,t)),a&&(a=s.getStringForLocale(a,t));let u=this.getChannelValue("alpha"),d=new V7(t,s);if(u<1){let l=new Fl(t,{style:"percent"}).format(1-u);return d.format("transparentColorName",{lightness:a,chroma:o,hue:h,percentTransparent:l}).replace(/\s+/g," ").trim()}else return d.format("colorName",{lightness:a,chroma:o,hue:h}).replace(/\s+/g," ").trim()}getOklchHue(t,n,r,i){let s=No.getGlobalDictionaryForPackage("@react-stately/color")||O0;if(n<h3)return[s.getStringForLocale("gray",i),t];for(let h=0;h<P0.length;h++){let[a,o]=P0[h],[u,d]=P0[h+1]||[360,"pink"];if(r>=a&&r<u)return o==="orange"&&(t<c3?o="brown":t=t-c3+f3),r>a+(u-a)/2&&o!==d?o=`${o} ${d}`:o==="yellow"&&t<Y7&&(o="yellow green"),[s.getStringForLocale(o,i).toLocaleLowerCase(i),t]}throw new Error("Unexpected hue")}getHueName(t){let[n,r,i]=p3(this),[s]=this.getOklchHue(n,r,i,t);return s}}class yi extends D0{static parse(t){let n=[];if(/^#[\da-f]+$/i.test(t)&&[4,5,7,9].includes(t.length)){const s=(t.length<6?t.replace(/[^#]/gi,"$&$&"):t).slice(1).split("");for(;s.length>0;)n.push(parseInt(s.splice(0,2).join(""),16));n[3]=n[3]!==void 0?n[3]/255:void 0}const r=t.match(/^rgba?\((.*)\)$/);r!=null&&r[1]&&(n=r[1].split(",").map(s=>Number(s.trim())),n=n.map((s,h)=>ls(s,0,h<3?255:1)));var i;return n.length<3?void 0:new yi(n[0],n[1],n[2],(i=n[3])!==null&&i!==void 0?i:1)}toString(t="css"){switch(t){case"hex":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")).toUpperCase();case"hexa":return"#"+(this.red.toString(16).padStart(2,"0")+this.green.toString(16).padStart(2,"0")+this.blue.toString(16).padStart(2,"0")+Math.round(this.alpha*255).toString(16).padStart(2,"0")).toUpperCase();case"rgb":return`rgb(${this.red}, ${this.green}, ${this.blue})`;case"css":case"rgba":return`rgba(${this.red}, ${this.green}, ${this.blue}, ${this.alpha})`;default:return this.toFormat(t).toString(t)}}toFormat(t){switch(t){case"hex":case"hexa":case"rgb":case"rgba":return this;case"hsb":case"hsba":return this.toHSB();case"hsl":case"hsla":return this.toHSL();default:throw new Error("Unsupported color conversion: rgb -> "+t)}}toHexInt(){return this.red<<16|this.green<<8|this.blue}toHSB(){const t=this.red/255,n=this.green/255,r=this.blue/255,i=Math.min(t,n,r),s=Math.max(t,n,r),h=s-i,a=s===0?0:h/s;let o=0;if(h!==0){switch(s){case t:o=(n-r)/h+(n<r?6:0);break;case n:o=(r-t)/h+2;break;case r:o=(t-n)/h+4;break}o/=6}return new bi(at(o*360,2),at(a*100,2),at(s*100,2),this.alpha)}toHSL(){const t=this.red/255,n=this.green/255,r=this.blue/255,i=Math.min(t,n,r),s=Math.max(t,n,r),h=(s+i)/2,a=s-i;let o,u;if(a===0)o=u=0;else{switch(u=a/(h<.5?s+i:2-s-i),s){case t:o=(n-r)/a+(n<r?6:0);break;case n:o=(r-t)/a+2;break;case r:o=(t-n)/a+4;break}o/=6}return new wi(at(o*360,2),at(u*100,2),at(h*100,2),this.alpha)}clone(){return new yi(this.red,this.green,this.blue,this.alpha)}getChannelRange(t){switch(t){case"red":case"green":case"blue":return{minValue:0,maxValue:255,step:1,pageSize:17};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+t)}}getChannelFormatOptions(t){switch(t){case"red":case"green":case"blue":return{style:"decimal"};case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+t)}}formatChannelValue(t,n){let r=this.getChannelFormatOptions(t),i=this.getChannelValue(t);return new Fl(n,r).format(i)}getColorSpace(){return"rgb"}getColorChannels(){return yi.colorChannels}constructor(t,n,r,i){super(),this.red=t,this.green=n,this.blue=r,this.alpha=i}}yi.colorChannels=["red","green","blue"];const G7=/hsb\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsba\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/;class bi extends D0{static parse(t){let n;if(n=t.match(G7)){var r;const[i,s,h,a]=((r=n[1])!==null&&r!==void 0?r:n[2]).split(",").map(o=>Number(o.trim().replace("%","")));return new bi(d3(i,360),ls(s,0,100),ls(h,0,100),ls(a??1,0,1))}}toString(t="css"){switch(t){case"css":return this.toHSL().toString("css");case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsb":return`hsb(${this.hue}, ${at(this.saturation,2)}%, ${at(this.brightness,2)}%)`;case"hsba":return`hsba(${this.hue}, ${at(this.saturation,2)}%, ${at(this.brightness,2)}%, ${this.alpha})`;default:return this.toFormat(t).toString(t)}}toFormat(t){switch(t){case"hsb":case"hsba":return this;case"hsl":case"hsla":return this.toHSL();case"rgb":case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsb -> "+t)}}toHSL(){let t=this.saturation/100,n=this.brightness/100,r=n*(1-t/2);return t=r===0||r===1?0:(n-r)/Math.min(r,1-r),new wi(at(this.hue,2),at(t*100,2),at(r*100,2),this.alpha)}toRGB(){let t=this.hue,n=this.saturation/100,r=this.brightness/100,i=(s,h=(s+t/60)%6)=>r-n*r*Math.max(Math.min(h,4-h,1),0);return new yi(Math.round(i(5)*255),Math.round(i(3)*255),Math.round(i(1)*255),this.alpha)}clone(){return new bi(this.hue,this.saturation,this.brightness,this.alpha)}getChannelRange(t){switch(t){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"brightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+t)}}getChannelFormatOptions(t){switch(t){case"hue":return{style:"unit",unit:"degree",unitDisplay:"narrow"};case"saturation":case"brightness":case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+t)}}formatChannelValue(t,n){let r=this.getChannelFormatOptions(t),i=this.getChannelValue(t);return(t==="saturation"||t==="brightness")&&(i/=100),new Fl(n,r).format(i)}getColorSpace(){return"hsb"}getColorChannels(){return bi.colorChannels}constructor(t,n,r,i){super(),this.hue=t,this.saturation=n,this.brightness=r,this.alpha=i}}bi.colorChannels=["hue","saturation","brightness"];const K7=/hsl\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%)\)|hsla\(([-+]?\d+(?:.\d+)?\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d+(?:.\d+)?%\s*,\s*[-+]?\d(.\d+)?)\)/;function d3(e,t){return(e%t+t)%t}class wi extends D0{static parse(t){let n;if(n=t.match(K7)){var r;const[i,s,h,a]=((r=n[1])!==null&&r!==void 0?r:n[2]).split(",").map(o=>Number(o.trim().replace("%","")));return new wi(d3(i,360),ls(s,0,100),ls(h,0,100),ls(a??1,0,1))}}toString(t="css"){switch(t){case"hex":return this.toRGB().toString("hex");case"hexa":return this.toRGB().toString("hexa");case"hsl":return`hsl(${this.hue}, ${at(this.saturation,2)}%, ${at(this.lightness,2)}%)`;case"css":case"hsla":return`hsla(${this.hue}, ${at(this.saturation,2)}%, ${at(this.lightness,2)}%, ${this.alpha})`;default:return this.toFormat(t).toString(t)}}toFormat(t){switch(t){case"hsl":case"hsla":return this;case"hsb":case"hsba":return this.toHSB();case"rgb":case"rgba":return this.toRGB();default:throw new Error("Unsupported color conversion: hsl -> "+t)}}toHSB(){let t=this.saturation/100,n=this.lightness/100,r=n+t*Math.min(n,1-n);return t=r===0?0:2*(1-n/r),new bi(at(this.hue,2),at(t*100,2),at(r*100,2),this.alpha)}toRGB(){let t=this.hue,n=this.saturation/100,r=this.lightness/100,i=n*Math.min(r,1-r),s=(h,a=(h+t/30)%12)=>r-i*Math.max(Math.min(a-3,9-a,1),-1);return new yi(Math.round(s(0)*255),Math.round(s(8)*255),Math.round(s(4)*255),this.alpha)}clone(){return new wi(this.hue,this.saturation,this.lightness,this.alpha)}getChannelRange(t){switch(t){case"hue":return{minValue:0,maxValue:360,step:1,pageSize:15};case"saturation":case"lightness":return{minValue:0,maxValue:100,step:1,pageSize:10};case"alpha":return{minValue:0,maxValue:1,step:.01,pageSize:.1};default:throw new Error("Unknown color channel: "+t)}}getChannelFormatOptions(t){switch(t){case"hue":return{style:"unit",unit:"degree",unitDisplay:"narrow"};case"saturation":case"lightness":case"alpha":return{style:"percent"};default:throw new Error("Unknown color channel: "+t)}}formatChannelValue(t,n){let r=this.getChannelFormatOptions(t),i=this.getChannelValue(t);return(t==="saturation"||t==="lightness")&&(i/=100),new Fl(n,r).format(i)}getColorSpace(){return"hsl"}getColorChannels(){return wi.colorChannels}constructor(t,n,r,i){super(),this.hue=t,this.saturation=n,this.lightness=r,this.alpha=i}}wi.colorChannels=["hue","saturation","lightness"];function p3(e){let t=e.toFormat("rgb"),n=t.getChannelValue("red")/255,r=t.getChannelValue("green")/255,i=t.getChannelValue("blue")/255;[n,r,i]=Q7(n,r,i);let[s,h,a]=J7(n,r,i),[o,u,d]=Z7(s,h,a);return q7(o,u,d)}function q7(e,t,n){var r=Math.atan2(n,t)*180/Math.PI;return[e,Math.sqrt(t**2+n**2),r>=0?r:r+360]}function Q7(e,t,n){return[A0(e),A0(t),A0(n)]}function A0(e){let t=e<0?-1:1,n=Math.abs(e);return n<=.04045?e/12.92:t*Math.pow((n+.055)/1.055,2.4)}function J7(e,t,n){return M0([.4123907992659595,.35758433938387796,.1804807884018343,.21263900587151036,.7151686787677559,.07219231536073371,.01933081871559185,.11919477979462599,.9505321522496606],e,t,n)}function Z7(e,t,n){const r=[.819022437996703,.3619062600528904,-.1288737815209879,.0329836539323885,.9292868615863434,.0361446663506424,.0481771893596242,.2642395317527308,.6335478284694309],i=[.210454268309314,.7936177747023054,-.0040720430116193,1.9779985324311684,-2.42859224204858,.450593709617411,.0259040424655478,.7827717124575296,-.8086757549230774];let[s,h,a]=M0(r,e,t,n);return M0(i,Math.cbrt(s),Math.cbrt(h),Math.cbrt(a))}function M0(e,t,n,r){let i=e[0]*t+e[1]*n+e[2]*r,s=e[3]*t+e[4]*n+e[5]*r,h=e[6]*t+e[7]*n+e[8]*r;return[i,s,h]}function e9({onChange:e,value:t,colors:n}){const r=n.map(i=>{const s=t===i;return x.jsx(Er,{onClick:()=>{e==null||e(i)},className:ce("relative block flex-shrink-0 w-26 h-26 border rounded",s&&"shadow-md"),style:{backgroundColor:i},children:s&&x.jsx("span",{className:"absolute inset-0 m-auto rounded-full w-8 h-8 bg-white"})},i)});return x.jsx("div",{className:"flex flex-wrap gap-6",children:r})}const t9=[{color:"rgb(255, 255, 255)",name:ae("White")},{color:"rgb(239,245,245)",name:ae("Solitude")},{color:"rgb(245,213,174)",name:ae("Wheat")},{color:"rgb(253,227,167)",name:ae("Cape Honey")},{color:"rgb(242,222,186)",name:ae("Milk punch")},{color:"rgb(97,118,75)",name:ae("Dingy"),foreground:"rgb(255, 255, 255)"},{color:"rgb(4, 147, 114)",name:ae("Aquamarine"),foreground:"rgb(255, 255, 255)"},{color:"rgb(222,245,229)",name:ae("Cosmic Latte")},{color:"rgb(233,119,119)",name:ae("Geraldine"),foreground:"rgb(90,14,14)"},{color:"rgb(247,164,164)",name:ae("Sundown")},{color:"rgb(30,139,195)",name:ae("Pelorous"),foreground:"rgb(255, 255, 255)"},{color:"rgb(142,68,173)",name:ae("Deep Lilac"),foreground:"rgb(255, 255, 255)"},{color:"rgb(108,74,182)",name:ae("Blue marguerite"),foreground:"rgb(255, 255, 255)"},{color:"rgb(139,126,116)",name:ae("Americano"),foreground:"rgb(255, 255, 255)"},{color:"rgb(0,0,0)",name:ae("Black"),foreground:"rgb(255, 255, 255)"},{color:"rgb(64,66,88)",name:ae("Blue zodiac"),foreground:"rgb(255, 255, 255)"},{color:"rgb(101,100,124)",name:ae("Comet"),foreground:"rgb(255, 255, 255)"}].map(({color:e})=>e).slice(0,14);function n9({defaultValue:e,onChange:t,colorPresets:n,showInput:r}){const[i,s]=k.useState(e),h=n||t9,a=ps({size:"sm"});return x.jsxs("div",{children:[x.jsx(R7,{className:"!w-auto",color:i,onChange:o=>{t==null||t(o),s(o)}}),x.jsxs("div",{className:"py-20 px-12",children:[h&&x.jsx(e9,{colors:h,onChange:o=>{if(o){const u=X7(o).toString("hex");t==null||t(u),s(u)}},value:i}),r&&x.jsx("div",{className:"pt-20",children:x.jsx(L7,{autoComplete:"off",role:"textbox",autoCorrect:"off",spellCheck:"false",required:!0,"aria-label":"Hex color",prefixed:!0,className:a.input,color:i,onChange:o=>{t==null||t(o),s(o)}})})]})]})}const nh=de.createContext(null);function g3(){return k.useContext(nh)}function xi(){const{lines:e,localeCode:t}=Hf();return{trans:k.useCallback(r=>r9({...r,lines:e,localeCode:t}),[e,t])}}const r9=gl(e=>{let{lines:t,message:n,values:r,localeCode:i}=e;return n==null?"":(n=(t==null?void 0:t[n])||(t==null?void 0:t[n.toLowerCase()])||n,r&&(n=T_(i,e),Object.entries(r).forEach(([s,h])=>{n=n.replace(`:${s}`,`${h}`)})),n)},{equals:a0,callTimeout:0});function i9({onDismiss:e}){const{trans:t}=xi(),n=()=>{e&&e()};return x.jsx("button",{className:"sr-only","aria-label":t(ae("Dismiss")),tabIndex:-1,onClick:n})}function rh(e){const{type:t="modal",dialogProps:n,...r}=k.useContext(nh),{children:i,className:s,size:h="md",background:a,radius:o="rounded",maxWidth:u="max-w-dialog",...d}=e;let l=null;(t==="popover"||t==="tray")&&(l=x.jsx(i9,{onDismiss:r.close}));const c=h==="fullscreenTakeover"||t==="tray",f=ce("mx-auto pointer-events-auto outline-none flex flex-col overflow-hidden",a||"bg",t!=="tray"&&s9(h),t==="tray"&&"rounded-t border-b-bg",h!=="fullscreenTakeover"&&"shadow-2xl border max-h-dialog",!c&&`${o} ${u}`,s);return x.jsxs("div",{..._r({role:"dialog",tabIndex:-1},n,d),style:{...e.style,"--be-dialog-padding":"24px"},"aria-modal":!0,className:f,children:[k.Children.toArray(i).map(p=>k.isValidElement(p)?k.cloneElement(p,{size:p.props.size??h}):p),l]})}function s9(e){switch(e){case"2xs":return"w-256";case"xs":return"w-320";case"sm":return"w-384";case"md":return"w-440";case"lg":return"w-620";case"xl":return"w-780";case"2xl":return"w-850";case"fullscreen":return"w-1280";case"fullscreenTakeover":return"w-full h-full";default:return e}}const j0=be(x.jsx("path",{d:"M7.41 8.59 12 13.17l4.59-4.58L18 10l-6 6-6-6 1.41-1.41z"}),"KeyboardArrowDownOutlined"),o9=k.forwardRef(({children:e,autoFocus:t=!1,restoreFocus:n=!0,isDismissable:r=!0,isOpen:i=!1,placement:s="center",onClose:h},a)=>{const o=Jm(),u=as(a);return x.jsxs("div",{className:"fixed inset-0 isolate z-modal",style:o,onKeyDown:d=>{d.key==="Escape"&&(d.stopPropagation(),d.preventDefault(),h())},children:[x.jsx(o0,{onClick:()=>{r&&h()}},"modal-underlay"),x.jsx(Pt.div,{ref:u,className:ce("pointer-events-none absolute inset-0 z-20 flex h-full w-full",s==="center"&&"items-center justify-center",s==="top"&&"items-start justify-center pt-40"),role:"presentation",initial:{opacity:0,scale:s==="top"?1:.7},animate:{opacity:1,scale:1},exit:{opacity:0,scale:1},transition:{duration:.1},children:x.jsx(Bf,{restoreFocus:n,autoFocus:t,contain:!0,children:e})})]})});function a9({x:e,y:t},n){return{getBoundingClientRect(){return{x:e,y:t,width:0,height:0,top:t,right:e,bottom:t,left:e}},contextElement:n}}function l9(e){const t=k.useRef(e);return k.useEffect(()=>{t.current=e}),k.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function ih(e){let{children:t,type:n,disableInitialTransition:r,isDismissable:i=!0,moveFocusToDialog:s=!0,returnFocusToTrigger:h=!0,triggerOnHover:a=!1,triggerOnContextMenu:o=!1,usePortal:u=!0,mobileType:d,alwaysReturnCurrentValueOnClose:l}=e;const c=k.useRef(null),f=o&&!e.triggerRef?c:e.triggerRef,p=k.useRef(e.value),[m,g]=fi(e.isOpen,e.defaultIsOpen,e.onOpenChange),[v,y]=fi(e.value,e.defaultValue,e.onValueChange);Uf()&&n==="popover"&&(n=d||"modal");const w=k.useRef(null),{x:C,y:S,reference:_,strategy:T,refs:R}=Tm({...e,disablePositioning:n==="modal"}),F=n==="popover"?{position:T,top:S??"",left:C??""}:{},$=k.useId(),G=`${$}-label`,ne=`${$}-description`,X=`${$}-form`,J=l9(e.onClose),re=k.useCallback(W=>{typeof W>"u"&&l&&(W=v);const U=typeof W<"u"?W:p.current;J==null||J(U,{initialValue:p.current,valueChanged:U!==p.current}),g(!1)},[J,g,v,l]),ie=k.useCallback(()=>{g(!0),p.current=e.value},[e.value,g]);fn(()=>{f!=null&&f.current&&R.reference.current!==f.current&&_(f.current)},[_,f==null?void 0:f.current,R]);const V=k.useMemo(()=>({"aria-labelledby":G,"aria-describedby":ne}),[G,ne]);let E;n==="modal"?E=o9:n==="tray"?E=E_:E=Vf;const P=k.useMemo(()=>({dialogProps:V,type:n,labelId:G,descriptionId:ne,isDismissable:i,close:re,value:v,initialValue:p.current,setValue:y,formId:X}),[re,ne,V,X,G,n,i,v,y]);a=a&&n==="popover";const A={onPointerEnter:Qt(W=>{ie()}),onPointerLeave:Qt(W=>{w.current=setTimeout(()=>{re()},150)})},j={onPointerEnter:Qt(W=>{w.current&&clearTimeout(w.current)}),onPointerLeave:Qt(W=>{re()})},H={onContextMenu:Qt(W=>{W.preventDefault(),c.current=a9({x:W.clientX,y:W.clientY},W.currentTarget),ie()})},M={onClick:Qt(W=>{W.stopPropagation(),m?re():ie()})},{dialogTrigger:O,dialog:I}=u9(t,P),B=x.jsx(Sr,{initial:!r,children:m&&x.jsx(nh.Provider,{value:P,children:x.jsx(E,{...a?j:{},ref:R.setFloating,triggerRef:R.reference,style:F,restoreFocus:h,autoFocus:s,isOpen:m,onClose:re,isDismissable:i,isContextMenu:o,placement:e.placement,children:I})})});return x.jsxs(k.Fragment,{children:[O&&k.cloneElement(O,_r({...!f&&!o?{ref:_}:{},...o?{}:M,...a?A:{},...o?H:{}},{...O.props})),u?Li&&bo.createPortal(B,Li):B]})}function u9(e,t){const n=Array.isArray(e)?e:k.Children.toArray(e);let r=n.length===2?n[1]:n[0];return r=typeof r=="function"?r(t):r,n.length===2?{dialogTrigger:n[0],dialog:r}:{dialog:r}}function gs(e){const{label:t,className:n,value:r,onChange:i,size:s,width:h="w-max"}=e,a=he(p=>{var m,g;return(g=(m=p.config.ui)==null?void 0:m.colorPresets)==null?void 0:g.items})||[],o=ps({size:s}),[u,d]=k.useState(r),[l,c]=k.useState(!1),f=p=>{d(p),i==null||i(p)};return x.jsxs("div",{className:ce(n,h),children:[t&&x.jsx("span",{className:o.label,children:t}),x.jsxs(ih,{type:"popover",isOpen:l,onOpenChange:c,children:[x.jsxs(Er,{className:ce(o.input,"inline-flex items-center"),"aria-label":e["aria-label"],children:[x.jsx("span",{className:"block flex-shrink-0 mr-5 border rounded h-2/4 aspect-square",style:{backgroundColor:u}}),x.jsx(c9,{isActive:l,className:o.adornment})]}),x.jsx(rh,{size:"auto",children:x.jsx(n9,{onChange:f,defaultValue:u,colorPresets:a})})]})]})}function c9({isActive:e,className:t}){const n=e?"rotate-180":"rotate-0";return x.jsx(j0,{size:"sm",className:`transition-transform ml-auto flex-shrink-0 ${n} ${t}`})}function f9(e){const{size:t="md",inline:n,label:r,showValueLabel:i=!!r,className:s,width:h="w-full",slider:a,children:o,trackColor:u="primary",fillColor:d="primary"}=e,{domProps:l,trackRef:c,getThumbPercent:f,getThumbValueLabel:p,labelId:m,groupId:g,thumbIds:v,isDisabled:y,numberFormatter:b,minValue:w,maxValue:C,step:S,values:_,getValueLabel:T}=a;let R="",F=Math.max([...b.format(w)].length,[...b.format(C)].length,[...b.format(S)].length);T?R=T(_[0]):_.length===1?R=p(0):_.length===2&&(R=`${p(0)} – ${p(1)}`,F=3+2*Math.max(F,[...b.format(w)].length,[...b.format(C)].length));const $=ps({size:t,disabled:y,labelDisplay:"flex"}),G=ce("touch-none",s,h,{"flex items-center":n});return x.jsxs("div",{className:G,role:"group",id:g,children:[(r||i)&&x.jsxs("div",{className:ce($.label,"select-none"),children:[r&&x.jsx("label",{onClick:()=>{var ne;(ne=document.getElementById(v[0]))==null||ne.focus()},id:m,htmlFor:g,children:r}),i&&x.jsx("output",{htmlFor:v[0],className:"ml-auto text-right","aria-live":"off",style:F?{width:`${F}ch`,minWidth:`${F}ch`}:void 0,children:R})]}),x.jsxs("div",{ref:c,className:ce("relative",h9(e)),...l,role:"presentation",children:[x.jsx("div",{className:ce("absolute inset-0 m-auto rounded",d9(u,y),m3(t))}),x.jsx("div",{className:ce("absolute inset-0 my-auto rounded",p9(d,y),m3(t)),style:{width:`${Math.max(f(0)*100,0)}%`}}),o]})]})}function h9({size:e,wrapperHeight:t}){if(t)return t;switch(e){case"xs":return"h-14";case"sm":return"h-20";default:return"h-30"}}function m3(e){switch(e){case"xs":return"h-2";case"sm":return"h-3";default:return"h-4"}}function d9(e,t){switch(t&&(e="disabled"),e){case"disabled":return"bg-slider-disabled/60";case"primary":return"bg-primary-light";case"neutral":return"bg-divider";default:return e}}function p9(e,t){switch(t&&(e="disabled"),e){case"disabled":return"bg-slider-disabled";case"primary":return"bg-primary";default:return e}}function v3(e={}){const{localeCode:t}=Hf();return k.useMemo(()=>new Fl(t,e),[t,e])}function y3({minValue:e=0,maxValue:t=100,isDisabled:n=!1,step:r=1,formatOptions:i,onChangeEnd:s,onPointerDown:h,label:a,getValueLabel:o,showThumbOnHoverOnly:u,thumbSize:d,onPointerMove:l,...c}){const[f,p]=k.useState(!1),m=v3(i),{addGlobalListener:g,removeGlobalListener:v}=sm(),y=k.useRef(null),[b,w]=fi(c.value?c.value:void 0,c.defaultValue??[e],c.onChange),C=k.useRef(null);C.current=b;const[S,_]=k.useState(new Array(b.length).fill(!1)),T=k.useRef(null);T.current=S;function R(N){return m.format(N)}const F=N=>{var q;return((q=T.current)==null?void 0:q[N])||!1},$=N=>R(b[N]),G=N=>N===0?e:b[N-1],ne=N=>N===b.length-1?t:b[N+1],X=(N,q)=>{if(n||!M(N)||!C.current)return;const ue=G(N),we=ne(N);q=fR(q,ue,we,r),C.current=b3(C.current,N,q),w(C.current)},J=(N,q)=>{var we;if(n||!M(N))return;const ue=(we=T.current)==null?void 0:we[N];T.current=b3(T.current||[],N,q),_(T.current),s&&ue&&!T.current.some(Boolean)&&s(C.current||[])},[re,ie]=k.useState(void 0),V=N=>{const q=Math.min(1,(N-e)/(t-e));return isNaN(q)?0:q},E=N=>V(C.current[N]),P=(N,q)=>{X(N,j(q))},A=N=>Math.round((N-e)/r)*r+e,j=N=>{const q=N*(t-e)+e;return Al(A(q),e,t)},H=k.useRef(new Array(b.length).fill(!0)),M=N=>H.current[N],O=(N,q)=>{H.current[N]=q},I=k.useRef(null),B=k.useRef(void 0),W=N=>{if(!(N.pointerType==="mouse"&&(N.button!==0||N.altKey||N.ctrlKey||N.metaKey))&&(h==null||h(),y.current&&!n&&b.every((q,ue)=>!S[ue]))){const q=y.current.offsetWidth,ue=y.current.getBoundingClientRect().left,ve=(N.clientX-ue)/q,Z=j(ve);let me;const Se=b.findIndex(Pe=>Z-Pe<0);if(Se===0)me=Se;else if(Se===-1)me=b.length-1;else{const Pe=b[Se-1],Ue=b[Se];Math.abs(Pe-Z)<Math.abs(Ue-Z)?me=Se-1:me=Se}me>=0&&M(me)?(N.preventDefault(),I.current=me,ie(me),B.current=N.pointerId,J(I.current,!0),X(me,Z),g(window,"pointerup",fe,!1)):I.current=null}},U=k.useRef(null),{domProps:ee}=qf({onPointerDown:W,onMoveStart(){U.current=null},onMove(N,q){var we;const ue=((we=y.current)==null?void 0:we.offsetWidth)||0;if(U.current==null&&(U.current=E(I.current||0)*ue),U.current+=q,I.current!=null&&y.current){const ve=Al(U.current/ue,0,1);P(I.current,ve)}},onMoveEnd(){I.current!=null&&(J(I.current,!1),I.current=null)}}),se=_r(ee,{onPointerEnter:()=>{p(!0)},onPointerLeave:()=>{p(!1)},onPointerMove:N=>{l==null||l(N)}}),fe=N=>{N.pointerId===B.current&&(I.current!=null&&(J(I.current,!1),I.current=null),v(window,"pointerup",fe,!1))},Y=k.useId(),z=a?`${Y}-label`:void 0,K=`${Y}-group`,te=[...Array(b.length)].map((N,q)=>`${Y}-thumb-${q}`);return{domProps:se,trackRef:y,isDisabled:n,step:r,values:b,minValue:e,maxValue:t,focusedThumb:re,labelId:z,groupId:K,thumbIds:te,numberFormatter:m,getThumbPercent:E,getThumbMinValue:G,getThumbMaxValue:ne,getThumbValueLabel:$,isThumbDragging:F,setThumbValue:X,updateDraggedThumbs:J,setThumbEditable:O,setFocusedThumb:ie,getValueLabel:o,isPointerOver:f,showThumbOnHoverOnly:u,thumbSize:d}}function b3(e,t,n){return e[t]===n?e:[...e.slice(0,t),n,...e.slice(t+1)]}function g9({index:e,slider:t,isDisabled:n,ariaLabel:r,inputRef:i,onBlur:s,fillColor:h="primary"}){const a=as(i),{addGlobalListener:o,removeGlobalListener:u}=sm(),{step:d,values:l,focusedThumb:c,labelId:f,thumbIds:p,isDisabled:m,getThumbPercent:g,getThumbMinValue:v,getThumbMaxValue:y,getThumbValueLabel:b,setThumbValue:w,updateDraggedThumbs:C,isThumbDragging:S,setThumbEditable:_,setFocusedThumb:T,isPointerOver:R,showThumbOnHoverOnly:F,thumbSize:$="w-18 h-18"}=t,G=S(e),ne=l[e];_(e,!n);const X=n||m,J=k.useCallback(()=>{a.current&&a.current.focus({preventScroll:!0})},[a]),re=c===e;k.useEffect(()=>{re&&J()},[re,J]);const ie=k.useRef(void 0),V=P=>{P.pointerId===ie.current&&(J(),C(e,!1),u(window,"pointerup",V,!1))},E=ce("outline-none rounded-full top-1/2 -translate-y-1/2 -translate-x-1/2 absolute inset-0 transition-button duration-200",$,!X&&"shadow-md",m9({fillColor:h,isDisabled:X,isDragging:G}),!F||F&&G||R?"visible":"invisible");return x.jsx("div",{role:"presentation",className:E,style:{left:`${Math.max(g(e)*100,0)}%`},onPointerDown:P=>{P.button!==0||P.altKey||P.ctrlKey||P.metaKey||(J(),ie.current=P.pointerId,C(e,!0),o(window,"pointerup",V,!1))},children:x.jsx("input",{id:p[e],onKeyDown:Qt(()=>{C(e,!0)}),onKeyUp:Qt(()=>{C(e,!1)}),ref:a,tabIndex:X?void 0:0,min:v(e),max:y(e),step:d,value:ne,disabled:X,"aria-label":r,"aria-labelledby":f,"aria-orientation":"horizontal","aria-valuetext":b(e),onFocus:()=>{T(e)},onBlur:P=>{T(void 0),C(e,!1),s==null||s(P)},onChange:P=>{w(e,parseFloat(P.target.value))},type:"range",className:"sr-only"})})}function m9({isDisabled:e,isDragging:t,fillColor:n}){return e?"bg-slider-disabled cursor-default":n&&n!=="primary"?n:ce("hover:bg-primary-dark",t?"bg-primary-dark":"bg-primary")}function ms({inputRef:e,onBlur:t,...n}){const{onChange:r,onChangeEnd:i,value:s,defaultValue:h,...a}=n,o={...a,value:s!=null?[s]:void 0,defaultValue:h!=null?[h]:void 0,onChange:d=>{r==null||r(d[0])},onChangeEnd:d=>{i==null||i(d[0])}},u=y3(o);return x.jsx(f9,{...o,slider:u,children:x.jsx(g9,{fillColor:n.fillColor,index:0,slider:u,inputRef:e,onBlur:t})})}const w3=de.forwardRef((e,t)=>{let{value:n=0,minValue:r=0,maxValue:i=100,size:s="md",isIndeterminate:h=!1,className:a,position:o="relative",trackColor:u,fillColor:d="border-primary",...l}=e;n=Al(n,r,i);const c=v9(s),f=(n-r)/(i-r),p=v3({style:"percent"});let m="";!h&&!m&&(m=p.format(f));const g={},v={};if(!h){const y=(n-r)/(i-r)*100;let b;y>0&&y<=50?(b=-180+y/50*180,g.transform=`rotate(${b}deg)`,v.transform="rotate(-180deg)"):y>50&&(b=-180+(y-50)/50*180,g.transform="rotate(0deg)",v.transform=`rotate(${b}deg)`)}return x.jsxs("div",{...l,"aria-valuenow":h?void 0:n,"aria-valuemin":r,"aria-valuemax":i,"aria-valuetext":h?void 0:m,role:"progressbar",ref:t,className:ce("progress-circle",o,c,h&&"indeterminate",a),children:[x.jsx("div",{className:ce(c,u,"rounded-full border-4")}),x.jsxs("div",{className:ce("fills absolute left-0 top-0 h-full w-full",h&&"progress-circle-fills-animate"),children:[x.jsx(x3,{circleSize:c,subMaskStyle:g,isIndeterminate:h,className:"rotate-180",fillColor:d,subMaskClassName:ce(h&&"progress-circle-fill-submask-1-animate")}),x.jsx(x3,{circleSize:c,subMaskStyle:v,isIndeterminate:h,fillColor:d,subMaskClassName:ce(h&&"progress-circle-fill-submask-2-animate")})]})]})});function x3({subMaskStyle:e,subMaskClassName:t,className:n,circleSize:r,isIndeterminate:i,fillColor:s}){return x.jsx("div",{className:ce("absolute h-full w-1/2 origin-[100%] overflow-hidden",n),children:x.jsx("div",{className:ce("h-full w-full origin-[100%] rotate-180 overflow-hidden",!i&&"transition-transform duration-100",t),style:e,children:x.jsx("div",{className:ce(r,s,"rounded-full border-4")})})})}function v9(e){switch(e){case"xs":return"w-20 h-20";case"sm":return"w-24 h-24";case"md":return"w-32 h-32";case"lg":return"w-42 h-42";default:return e}}function y9({isLoading:e,icon:t}){const n=k.useRef(null),{trans:r}=xi(),[i,s]=k.useState(!1),{state:{isOpen:h,inputValue:a}}=Om(),o=k.useRef(a);return k.useEffect(()=>{e&&!i?(n.current===null&&(n.current=setTimeout(()=>{s(!0)},500)),a!==o.current&&(clearTimeout(n.current),n.current=setTimeout(()=>{s(!0)},500))):e||(s(!1),clearTimeout(n.current),n.current=null),o.current=a},[e,i,a]),i&&(h||e)?x.jsx(w3,{"aria-label":r({message:"Loading"}),size:"sm",isIndeterminate:!0}):t||x.jsx(j0,{})}function b9(e,t){const n=Uf(),{hideCaret:r,placeholder:i=x.jsx(xe,{message:"Select an option..."}),selectedValue:s,onItemSelected:h,onOpenChange:a,onInputValueChange:o,onSelectionChange:u,selectionMode:d,minWidth:l="min-w-128",children:c,searchPlaceholder:f,showEmptyMessage:p,showSearchField:m,defaultInputValue:g,inputValue:v,isLoading:y,isAsync:b,valueClassName:w,floatingWidth:C=n?"auto":"matchTrigger",...S}=e,_=vS({...e,clearInputOnItemSelection:!0,showEmptyMessage:p||m,floatingWidth:C,selectionMode:"single",role:"listbox",virtualFocus:m},t),{state:{selectedValues:T,isOpen:R,setIsOpen:F,activeIndex:$,setSelectedIndex:G,inputValue:ne,setInputValue:X},collections:J,focusItem:re,listboxId:ie,reference:V,refs:E,listContent:P,onInputChange:A}=_,{fieldProps:j,inputProps:H}=U_({...S,focusRef:E.reference}),M=J.collection.get(T[0]),O=M?x.jsxs("span",{className:"flex items-center gap-10",children:[M.element.props.startIcon,x.jsx("span",{className:ce("overflow-hidden overflow-ellipsis whitespace-nowrap",w),children:M.element.props.children})]}):x.jsx("span",{className:"italic",children:i}),I=ps({...e,endAdornment:!0}),{handleTriggerKeyDown:B,handleListboxKeyboardNavigation:W,handleListboxSearchFieldKeydown:U}=D_(_),{findMatchingItem:ee}=A_(),se=Y=>{if(!R)return;const z=ee(Y,P,$);z!=null&&re("increment",z)},fe=Y=>{if(R)return;const z=ee(Y,P,$);z!=null&&G(z)};return x.jsx(P_,{listbox:_,onKeyDownCapture:m?void 0:se,onKeyDown:W,onClose:m?()=>X(""):void 0,isLoading:y,searchField:m&&x.jsx(Pr,{size:e.size==="xs"||e.size==="sm"?"xs":"sm",placeholder:f,startAdornment:x.jsx(M_,{}),className:"flex-shrink-0 px-8 pb-8 pt-4",autoFocus:!0,"aria-expanded":R?"true":"false","aria-haspopup":"listbox","aria-controls":R?ie:void 0,"aria-autocomplete":"list",autoComplete:"off",autoCorrect:"off",spellCheck:"false",value:ne,onChange:A,onKeyDown:Y=>{U(Y)}}),children:x.jsx(V_,{fieldClassNames:I,...j,endAdornment:!r&&x.jsx(y9,{isLoading:y}),children:x.jsx("button",{...H,type:"button","data-selected-value":M==null?void 0:M.value,"aria-expanded":R?"true":"false","aria-haspopup":"listbox","aria-controls":R?ie:void 0,ref:V,onKeyDown:B,onKeyDownCapture:m?void 0:fe,disabled:S.disabled,onClick:()=>{F(!R)},className:ce(I.input,!j.unstyled&&l),children:O})})})}const R0=de.forwardRef(b9);function w9(){const e=he(h=>h.filter.selected);if(!e)return null;const t=L().filter.getByName(e).options,n=(h,a)=>{var o;(o=L().filter)==null||o.applyValue(e,h,a),D().setDirty(!0)},r=L().canvas.getMainImage().filters,i=L().filter.findFilterIndex(e,r),s=r==null?void 0:r[i];if(t){const h=Object.entries(t).map(([a,o])=>{let u;const d=s?s[a]:o.current;return o.type==="slider"?u=x.jsx(ms,{label:x.jsx("span",{className:"capitalize",children:x.jsx(xe,{...fm[a]})}),minValue:o.min,maxValue:o.max,step:o.step,defaultValue:d,formatOptions:{style:"percent"},size:"sm",onChange:l=>{n(a,l)}}):o.type==="colorPicker"?u=x.jsx(gs,{label:x.jsx(xe,{...fm[a]}),size:"sm",width:"w-full",value:d,onChange:l=>{n(a,l)}}):o.type==="select"&&(u=x.jsx(R0,{selectionMode:"single",size:"sm",label:x.jsx(xe,{...fm[a]}),defaultValue:d,onSelectionChange:l=>{n(a,l)},children:o.available.map(l=>x.jsx(bf,{value:l.key,children:x.jsx("span",{className:"capitalize",children:x.jsx(xe,{message:l.key})})},l.key))})),x.jsx("div",{className:"pb-10",children:u},a)});return x.jsx(x0,{children:x.jsx("div",{className:"max-w-240 pt-10 mx-auto",children:h})})}return null}function x9(){const e=he(r=>r.frame.active),t=(e==null?void 0:e.mode)==="basic",n=k.useCallback(r=>`${r}%`,[]);return x.jsx(x0,{className:"pb-18 pt-6",children:x.jsxs("div",{className:"max-w-288 m-auto",children:[t&&x.jsx(gs,{className:"mb-20",width:"w-full",size:"sm",label:x.jsx(xe,{message:"Color"}),value:L().frame.builder.defaultColor,onChange:r=>{L().frame.active.changeColor(r)}}),x.jsx(ms,{size:"sm",label:x.jsx(xe,{message:"Size"}),step:1,minValue:L().frame.active.getMinSize(),maxValue:L().frame.active.getMaxSize(),defaultValue:L().frame.active.currentSizeInPercent,getValueLabel:n,onChange:r=>{L().frame.resize(r)}})]})})}const Il=de.createContext(null);function C9(){const{tabsRef:e,selectedTab:t}=k.useContext(Il),[n,r]=k.useState({width:void 0,transform:void 0,className:void 0});return fn(()=>{if(t!=null&&e.current){const i=e.current[t];if(!i)return;r(s=>({width:`${i.offsetWidth}px`,transform:`translateX(${i.offsetLeft}px)`,className:s.width===void 0?"":"transition-all"}))}},[r,t,e]),x.jsx("div",{className:ce("absolute bottom-0 left-0 h-2 bg-primary",n.className),role:"presentation",style:{width:n.width,transform:n.transform}})}function S9({children:e,center:t,expand:n,className:r}){const i=k.Children.toArray(e);return x.jsx(Bf,{children:x.jsxs("div",{className:ce("flex relative max-w-full overflow-auto border-b max-sm:hidden-scrollbar md:compact-scrollbar",r),role:"tablist","aria-orientation":"horizontal",children:[i.map((s,h)=>k.isValidElement(s)?k.cloneElement(s,{index:h,className:ce(s.props.className,n&&"flex-auto",t&&h===0&&"ml-auto",t&&h===i.length-1&&"mr-auto")}):null),x.jsx(C9,{})]})})}function _9(e){const{size:t="md",children:n,className:r,isLazy:i,overflow:s="overflow-hidden"}=e,h=k.useRef([]),a=k.useId(),[o,u]=fi(e.selectedTab,e.defaultSelectedTab||0,e.onTabChange),d=k.useMemo(()=>({selectedTab:o,setSelectedTab:u,tabsRef:h,size:t,isLazy:i,id:a}),[o,a,i,u,t]);return x.jsx(Il.Provider,{value:d,children:x.jsx("div",{className:ce(r,s,"max-w-full"),children:n})})}const E9=be(x.jsx("path",{d:"M12 17c3.31 0 6-2.69 6-6V3h-2.5v8c0 1.93-1.57 3.5-3.5 3.5S8.5 12.93 8.5 11V3H6v8c0 3.31 2.69 6 6 6zm-7 2v2h14v-2H5z"}),"FormatUnderlinedOutlined"),k9=be(x.jsx("path",{d:"M10 19h4v-3h-4v3zM5 4v3h5v3h4V7h5V4H5zM3 14h18v-2H3v2z"}),"FormatStrikethroughOutlined"),T9=be(x.jsx("path",{d:"M10 4v3h2.21l-3.42 8H6v3h8v-3h-2.21l3.42-8H18V4h-8z"}),"FormatItalicOutlined"),O9=be(x.jsx("path",{d:"M3 21h18v-2H3v2zm6-4h12v-2H9v2zm-6-4h18v-2H3v2zm6-4h12V7H9v2zM3 3v2h18V3H3z"}),"FormatAlignRightOutlined"),P9=be(x.jsx("path",{d:"M15 15H3v2h12v-2zm0-8H3v2h12V7zM3 13h18v-2H3v2zm0 8h18v-2H3v2zM3 3v2h18V3H3z"}),"FormatAlignLeftOutlined"),D9=be(x.jsx("path",{d:"M7 15v2h10v-2H7zm-4 6h18v-2H3v2zm0-8h18v-2H3v2zm4-6v2h10V7H7zM3 3v2h18V3H3z"}),"FormatAlignCenterOutlined");function A9(){return x.jsxs("div",{className:"flex gap-20 justify-center",children:[x.jsx(M9,{}),x.jsx(j9,{}),x.jsx(R9,{})]})}function M9(){const e=he(n=>n.objects.active.editableProps.fontSize)??40,{trans:t}=xi();return x.jsx(Pr,{type:"number",size:"xs","aria-label":t({message:"Font Size"}),min:1,max:300,className:"w-64 flex-shrink-0",value:e,onChange:n=>{L().objects.setValues({fontSize:n.target.valueAsNumber}),D().setDirty(!0)}})}function j9(){const e=he(s=>s.objects.active.editableProps.fontStyle),t=he(s=>s.objects.active.editableProps.underline),n=he(s=>s.objects.active.editableProps.linethrough),[r,i]=k.useState([e,t&&"underline",n&&"linethrough"]);return x.jsxs(Wf,{size:"xs",variant:"outline",radius:"rounded",value:r,multiple:!0,onChange:s=>{i(s),L().objects.setValues({underline:s.includes("underline"),linethrough:s.includes("linethrough"),fontStyle:s.includes("italic")?"italic":""}),D().setDirty(!0)},children:[x.jsx(Ne,{value:"underline",children:x.jsx(E9,{})}),x.jsx(Ne,{value:"linethrough",children:x.jsx(k9,{})}),x.jsx(Ne,{value:"italic",children:x.jsx(T9,{})})]})}function R9(){const e=he(t=>t.objects.active.editableProps.textAlign);return x.jsxs(Wf,{size:"xs",variant:"outline",radius:"rounded",value:e,onChange:t=>{L().objects.setValues({textAlign:t}),D().setDirty(!0)},children:[x.jsx(Ne,{value:"left",children:x.jsx(P9,{})}),x.jsx(Ne,{value:"center",children:x.jsx(D9,{})}),x.jsx(Ne,{value:"right",children:x.jsx(O9,{})})]})}function F9({children:e,className:t}){const{selectedTab:n,isLazy:r}=k.useContext(Il),i=k.Children.toArray(e).filter(h=>!!h);let s;if(r){const h=i[n];s=k.isValidElement(h)?k.cloneElement(i[n],{index:n}):null}else s=i.map((h,a)=>{if(k.isValidElement(h)){const o=a===n;return k.cloneElement(h,{index:a,"aria-hidden":!o,className:o?h.props.className:ce(h.props.className,"hidden")})}return null});return x.jsx("div",{className:t,children:s})}function vs({className:e,children:t,index:n,...r}){const{id:i}=k.useContext(Il),[s,h]=k.useState(0),a=k.useRef(null);return fn(()=>{if(a!=null&&a.current){const o=()=>{const d=Or(a.current,{tabbable:!0});h(d.nextNode()?void 0:0)};o();const u=new MutationObserver(o);return u.observe(a.current,{subtree:!0,childList:!0,attributes:!0,attributeFilter:["tabIndex","disabled"]}),()=>{u.disconnect()}}},[a]),x.jsx("div",{tabIndex:s,ref:a,id:`${i}-${n}-tabpanel`,"aria-labelledby":`${i}-${n}-tab`,className:ce(e,"focus-visible:outline-primary-light"),role:"tabpanel",...r,children:t})}const C3=[{type:"linear",coords:{x1:-80,y1:0,x2:80,y2:0},colorStops:[{color:"#ffe47b",offset:0},{color:"rgb(111,154,211)",offset:1}]},{type:"linear",coords:{x1:0,y1:-120,x2:0,y2:120},colorStops:[{color:"#ff4040",offset:0},{color:"#e6399b",offset:1}]},{type:"linear",coords:{x1:-90,y1:-90,x2:90,y2:90},colorStops:[{offset:0,color:"rgb(166,111,213)"},{offset:.5,color:"rgba(106, 72, 215, 0.5)"},{offset:1,color:"#200772"}]},{type:"radial",coords:{r1:100,r2:10,x1:0,y1:0,x2:0,y2:0},colorStops:[{offset:0,color:"#FF4F4F"},{offset:1,color:"rgb(255, 239, 64)"}]},{type:"radial",coords:{r1:100,r2:10,x1:0,y1:0,x2:20,y2:20},colorStops:[{offset:0,color:"#ffe47b"},{offset:.5,color:"rgb(111,154,211)"},{offset:1,color:"rgb(166,111,213)"}]},{type:"radial",coords:{r1:50,r2:80,x1:45,y1:45,x2:52,y2:50},colorStops:[{offset:0,color:"rgb(155, 237, 0)"},{offset:1,color:"rgba(0, 164, 128,0.4)"}]},{type:"linear",coords:{x1:-90,y1:-90,x2:90,y2:90},colorStops:[{offset:0,color:"#9ecb2d"},{offset:.5,color:"#72aa00"},{offset:1,color:"#bfd255"}]},{type:"radial",coords:{r1:100,r2:50,x1:30,y1:0,x2:0,y2:0},colorStops:[{offset:0,color:"#aebcbf"},{offset:1,color:"#0a0809"}]},{type:"linear",coords:{x1:-80,y1:0,x2:80,y2:0},colorStops:[{offset:0,color:"#ffffff"},{offset:1,color:"#f6f6f6"}]},{type:"linear",coords:{x1:0,y1:-120,x2:0,y2:120},colorStops:[{offset:0,color:"#fefcea"},{offset:1,color:"#f1da36"}]},{type:"linear",coords:{x1:-90,y1:-90,x2:90,y2:90},colorStops:[{offset:0,color:"rgb(166,111,213)"},{offset:.5,color:"rgba(106, 72, 215, 0.5)"},{offset:1,color:"#ff1a00"}]},{type:"linear",coords:{x1:0,y1:-120,x2:0,y2:120},colorStops:[{offset:0,color:"#b7deed"},{offset:1,color:"#21b4e2"}]},{type:"linear",coords:{x1:-80,y1:100,x2:80,y2:-100},colorStops:[{offset:0,color:"#ffe47b"},{offset:1,color:"rgb(111,154,211)"}]}],I9=be(x.jsx("path",{d:"M19.51 3.08 3.08 19.51c.09.34.27.65.51.9.25.24.56.42.9.51L20.93 4.49c-.19-.69-.73-1.23-1.42-1.41zM11.88 3 3 11.88v2.83L14.71 3h-2.83zM5 3c-1.1 0-2 .9-2 2v2l4-4H5zm14 18c.55 0 1.05-.22 1.41-.59.37-.36.59-.86.59-1.41v-2l-4 4h2zm-9.71 0h2.83L21 12.12V9.29L9.29 21z"}),"TextureOutlined"),L9=be(x.jsx("path",{d:"M11 9h2v2h-2V9zm-2 2h2v2H9v-2zm4 0h2v2h-2v-2zm2-2h2v2h-2V9zM7 9h2v2H7V9zm12-6H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zM9 18H7v-2h2v2zm4 0h-2v-2h2v2zm4 0h-2v-2h2v2zm2-7h-2v2h2v2h-2v-2h-2v2h-2v-2h-2v2H9v-2H7v2H5v-2h2v-2H5V5h14v6z"}),"GradientOutlined"),z9=be(x.jsx("path",{d:"M18 20H4V6h9V4H4c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2v-9h-2v9zm-7.79-3.17-1.96-2.36L5.5 18h11l-3.54-4.71zM20 4V1h-2v3h-3c.01.01 0 2 0 2h3v2.99c.01.01 2 0 2 0V6h3V4h-3z"}),"AddPhotoAlternateOutlined");function S3({property:e}){const{trans:t}=xi(),n=he(r=>r.objects.active.editableProps[e]);return x.jsxs("div",{className:"flex items-center justify-center gap-14",children:[x.jsx(gs,{className:"flex-shrink-0",size:"xs","aria-label":t({message:"Color"}),value:typeof n=="string"?n:Xh.fill,onChange:r=>{L().objects.setValues({[e]:r}),D().setDirty(!0)}}),x.jsx(_3,{type:"gradient",property:e}),x.jsx(_3,{type:"texture",property:e})]})}function _3({type:e,property:t}){const n=e==="texture"?x.jsx(I9,{}):x.jsx(L9,{});return x.jsx(k.Fragment,{children:x.jsxs(ih,{type:"popover",children:[x.jsx(At,{className:"flex-shrink-0",id:`${e}-panel-trigger`,variant:"outline",size:"xs",startIcon:n,endIcon:x.jsx(j0,{}),children:x.jsx("span",{className:"capitalize",children:e==="gradient"?x.jsx(xe,{message:"Gradient"}):x.jsx(xe,{message:"Texture"})})}),x.jsx(rh,{size:"auto",children:x.jsx("div",{className:"grid gap-8 grid-cols-5-min-content p-10 bg-paper rounded shadow-md",children:x.jsx(B9,{property:t,type:e})})})]})})}function B9({type:e,property:t}){const{close:n}=g3(),r=Array.from(Array(e==="gradient"?C3.length:28).keys()),i="w-56 h-56 bg border shadow-sm hover:scale-110",s=r.map(h=>{const a=hn(`images/${e}s/${h}.png`);return x.jsx(Er,{radius:"rounded",className:i,style:{backgroundImage:`url(${a})`},"aria-label":`Select ${e} #${h}`,onClick:async()=>{n();const o=e==="gradient"?new Ce.fabric.Gradient(C3[h]):await E3(a);L().objects.setValues({[t]:o}),D().setDirty(!0)}},h)});return e==="texture"&&s.unshift(x.jsx(N9,{property:t,className:i},"upload-btn")),x.jsx(k.Fragment,{children:s})}function N9({className:e,property:t}){const{close:n}=g3();return x.jsx(Er,{radius:"rounded",className:e,"aria-label":"Upload an image",onClick:async()=>{const r=await L().import.openUploadWindow();if(n(),r){const i=await E3(await r.data);L().objects.setValues({[t]:i})}},children:x.jsx(z9,{className:"icon-md"})})}function E3(e){return new Promise(t=>{Ce.fabric.util.loadImage(e,n=>{const r=new Ce.fabric.Pattern({source:n,repeat:"repeat"});t(r)})})}function $9(){const e=he(t=>t.objects.active.editableProps.opacity);return x.jsx(ms,{className:"max-w-240 w-full mx-auto","aria-label":"Opacity",value:e,minValue:.1,step:.1,maxValue:1,onChange:t=>{L().objects.setValues({opacity:t}),D().setDirty(!0)}})}function V9(){const{trans:e}=xi(),t=he(r=>r.objects.active.editableProps.stroke),n=he(r=>r.objects.active.editableProps.strokeWidth);return x.jsxs("div",{className:"flex items-center gap-40",children:[x.jsx(gs,{className:"ml-auto flex-shrink-0",size:"xs",value:t,"aria-label":e({message:"Outline Color"}),onChange:r=>{L().objects.setValues({stroke:r}),D().setDirty(!0)}}),x.jsx(ms,{"aria-label":"Outline Width",className:"max-w-240 mr-auto flex-shrink-0",value:n,onChange:r=>{L().objects.setValues({strokeWidth:r}),D().setDirty(!0)}})]})}const H9=be(x.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-4.86 8.86-3 3.87L9 13.14 6 17h12l-3.86-5.14z"}),"ImageOutlined");function U9(){return x.jsx("div",{className:"flex justify-center",children:x.jsx(At,{type:"button",variant:"outline",size:"xs",startIcon:x.jsx(H9,{}),radius:"rounded-full",onClick:async()=>{const e=await L().import.openUploadWindow();if(e){const t=L().objects.getActive();if(t&&"setSrc"in t){const n=await e.data;t.setSrc(n,()=>{RC({src:n}),L().canvas.render()})}}},children:x.jsx(xe,{message:"Replace Image"})})})}const k3={color:"rgba(0, 0, 0, 0.6)",blur:3,offsetX:-1,offsetY:0};function W9(){const{trans:e}=xi(),t=he(n=>n.objects.active.editableProps.shadow)||k3;return x.jsxs("div",{className:"flex items-center gap-40",children:[x.jsx(gs,{className:"ml-auto flex-shrink-0",value:t.color,size:"xs","aria-label":e({message:"Shadow Color"}),onChange:n=>{L().objects.setValues({shadow:T3({color:n})}),D().setDirty(!0)}}),x.jsx(ms,{"aria-label":"Shadow Blur",className:"max-w-240 mr-auto flex-shrink-0",defaultValue:t.blur,onChange:n=>{L().objects.setValues({shadow:T3({blur:n})}),D().setDirty(!0)}})]})}function T3(e){var n;const t=(n=L().objects.getActive())==null?void 0:n.shadow;return t?(Object.entries(e).forEach(([r,i])=>{t[r]=i}),t):new Ce.fabric.Shadow({...k3,...e})}function ys({index:e,className:t,isDisabled:n,children:r,padding:i,elementType:s="button",to:h,relative:a,width:o="min-w-min"}){const{selectedTab:u,setSelectedTab:d,tabsRef:l,size:c="md",id:f}=k.useContext(Il),p=e===u,m=Az(),g=i||(c==="sm"?"px-12":"px-18"),v=ce("tracking-wide overflow-hidden capitalize text-sm flex items-center justify-center outline-none transition-colors","focus-visible:ring focus-visible:ring-2 ring-inset rounded whitespace-nowrap cursor-pointer",o,X9({isDisabled:n,isSelected:p}),t,c==="md"&&`${g} h-48`,c==="sm"&&`${g} h-32`,n&&"pointer-events-none"),y=C=>{switch(C.key){case"ArrowLeft":m==null||m.focusPrevious();break;case"ArrowRight":m==null||m.focusNext();break;case"Home":m==null||m.focusFirst();break;case"End":m==null||m.focusLast();break}},b=p?0:-1,w=s;return x.jsx(w,{disabled:n,id:`${f}-${e}-tab`,"aria-controls":`${f}-${e}-tabpanel`,type:"button",role:"tab","aria-selected":p,tabIndex:n?void 0:b,onKeyDown:y,onClick:()=>{d(e)},to:h,relative:a,className:v,ref:C=>{l.current&&C&&(l.current[e]=C)},children:r})}function X9({isDisabled:e,isSelected:t}){return e?"text-disabled cursor-default":t?"text-primary":"text-muted hover:text-main"}function O3(){const e=he(t=>t.objects.active);return x.jsxs(_9,{size:"sm",className:"pb-18 pt-6",children:[x.jsxs(S9,{center:!0,children:[e.isText&&x.jsx(ys,{children:x.jsx(xe,{message:"Font"})}),!e.isImage&&x.jsx(ys,{children:x.jsx(xe,{message:"Color"})}),!e.isImage&&x.jsx(ys,{children:x.jsx(xe,{message:"Background"})}),e.isImage&&x.jsx(ys,{children:x.jsx(xe,{message:"Image"})}),x.jsx(ys,{children:x.jsx(xe,{message:"Opacity"})}),x.jsx(ys,{children:x.jsx(xe,{message:"Outline"})}),x.jsx(ys,{children:x.jsx(xe,{message:"Shadow"})})]}),x.jsxs(F9,{className:"pt-16 h-50",children:[e.isText&&x.jsx(vs,{children:x.jsx(A9,{})},"font"),!e.isImage&&x.jsx(vs,{children:x.jsx(S3,{property:"fill"})}),!e.isImage&&x.jsx(vs,{children:x.jsx(S3,{property:"backgroundColor"})}),e.isImage&&x.jsx(vs,{children:x.jsx(U9,{})}),x.jsx(vs,{children:x.jsx($9,{})}),x.jsx(vs,{children:x.jsx(V9,{})}),x.jsx(vs,{children:x.jsx(W9,{})})]})]})}function Y9(){const t=!Uf()&&x.jsx(At,{size:"sm",color:"primary",variant:"outline",onClick:()=>{L().text.add(),D().setDirty(!0)},children:x.jsx(xe,{message:"New Text"})});return x.jsx(x0,{actionBtn:t,children:x.jsx(O3,{})})}const G9=be(x.jsx("path",{d:"m20 12-1.41-1.41L13 16.17V4h-2v12.17l-5.58-5.59L4 12l8 8 8-8z"}),"ArrowDownwardOutlined"),P3=500,nr={};let Ll=!1,Ar=null,bs=null;const D3=e=>{var t;for(const n in nr)n!==e&&((t=nr[n])==null||t.call(nr,!0),delete nr[n])},K9=k.forwardRef(({children:e,label:t,placement:n="top",offset:r=10,variant:i="neutral",delay:s=1500,isDisabled:h,usePortal:a=!0,...o},u)=>{const{x:d,y:l,reference:c,strategy:f,arrowRef:p,arrowStyle:m,refs:g}=Tm({placement:n,offset:r,ref:u,showArrow:!0}),[v,y]=k.useState(!1),b=k.useId(),w=k.useRef(),C=()=>{clearTimeout(w.current),w.current=void 0,D3(b),nr[b]=S,Ll=!0,y(!0),Ar&&(clearTimeout(Ar),Ar=null),bs&&(clearTimeout(bs),bs=null)},S=k.useCallback(F=>{F?(clearTimeout(w.current),w.current=void 0,y(!1)):w.current||(w.current=setTimeout(()=>{w.current=void 0,y(!1)},P3)),Ar&&(clearTimeout(Ar),Ar=null),Ll&&(bs&&clearTimeout(bs),bs=setTimeout(()=>{delete nr[b],bs=null,Ll=!1},P3))},[b]),_=()=>{D3(b),nr[b]=S,!v&&!Ar&&!Ll?Ar=setTimeout(()=>{Ar=null,Ll=!0,C()},s):v||C()},T=F=>{!F&&s>0&&!w.current?_():C()};k.useEffect(()=>()=>{clearTimeout(w.current),nr[b]&&delete nr[b]},[b]),k.useEffect(()=>{const F=$=>{$.key==="Escape"&&S(!0)};if(v)return document.addEventListener("keydown",F,!0),()=>{document.removeEventListener("keydown",F,!0)}},[v,S]);const R=x.jsx(Sr,{children:v&&x.jsxs(Pt.div,{...Lf,ref:g.setFloating,id:b,role:"tooltip",onPointerEnter:()=>{T(!0)},onPointerLeave:()=>{S()},className:ce("z-tooltip my-4 max-w-240 break-words rounded px-8 py-4 text-xs text-white shadow",i==="positive"&&"bg-positive",i==="danger"&&"bg-danger",i==="neutral"&&"bg-toast"),style:{position:f,top:l??"",left:d??""},children:[x.jsx("div",{ref:p,className:"absolute h-8 w-8 rotate-45 bg-inherit",style:m}),t]})});return x.jsxs(k.Fragment,{children:[k.cloneElement(e,_r({"aria-describedby":v?b:void 0,ref:c,onPointerEnter:F=>{F.pointerType==="mouse"&&T()},onFocus:F=>{F.target.matches(":focus-visible")&&T(!0)},onPointerLeave:F=>{F.pointerType==="mouse"&&S()},onPointerDown:()=>{S(!0)},onBlur:()=>{S()},"aria-label":typeof t=="string"?t:t.props.message},o)),a?Li&&bo.createPortal(R,Li):R]})});function q9(){const e=he(s=>s.activeToolOverlay),t=he(s=>s.objects.active.id),n=Q9(e,t),[r,i]=k.useState(!0);return x.jsxs("div",{className:"relative z-tool-overlay text-sm",children:[n&&x.jsx("div",{className:ce("absolute right-16 text-muted z-50 transition-all",!r&&"rotate-180",r?"-top-144":"-top-40"),children:x.jsx(K9,{label:r?x.jsx(xe,{message:"Hide options"}):x.jsx(xe,{message:"Show options"}),children:x.jsx(Ne,{variant:"outline",radius:"rounded-lg",size:"xs",onClick:()=>{i(!r)},children:x.jsx(G9,{})})})}),x.jsx(Sr,{children:n&&r&&x.jsx(Pt.div,{initial:{y:0,opacity:0},animate:{y:"-100%",opacity:1},exit:{y:0,opacity:0},transition:{type:"tween",duration:.15},className:"absolute inset-x-0 gap-16 px-5vw bg bg-opacity-95 border-t",children:n},"tool-controls-overlay")})]})}function Q9(e,t){switch(e){case yn.Filter:return x.jsx(w9,{});case yn.Frame:return x.jsx(x9,{});case yn.Text:return t&&x.jsx(Y9,{});case yn.ActiveObject:return t&&x.jsx(O3,{});default:return null}}const F0=be(x.jsx("path",{d:"M12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm3.59-13L12 10.59 8.41 7 7 8.41 10.59 12 7 15.59 8.41 17 12 13.41 15.59 17 17 15.59 13.41 12 17 8.41z"}),"CancelOutlined");function J9({filter:e}){const t=he(h=>h.filter.applied.includes(e)),n=L().filter.hasOptions(e),r=ce("block flex-shrink-0 rounded",{"text-primary border-primary":t}),i=OR[e],s=x.jsxs(k.Fragment,{children:[x.jsxs("div",{className:"relative",children:[x.jsx(Z9,{filter:e}),t&&x.jsx(e$,{filter:e,hasOptions:n})]}),x.jsx("div",{className:"mt-4 text-center text-xs capitalize",children:i?x.jsx(xe,{...i}):e})]});return t&&n?x.jsx("div",{className:r,children:s}):x.jsx(Er,{className:r,onClick:()=>{t?L().filter.remove(e):L().filter.apply(e)},children:s})}function Z9({filter:e}){const t=he(r=>r.filter.selected===e),n=ce("m-auto w-96 h-56 border rounded object-cover",{shadow:t});return x.jsx("img",{src:hn(`images/filter/${e}.jpg`),className:n,alt:""})}function e$({filter:e,hasOptions:t}){const n=x.jsx(Ne,{color:"primary",size:"md",onClick:()=>{L().filter.remove(e)},children:x.jsx(F0,{})});return x.jsxs("div",{className:"flex items-center justify-center bg-background/70 absolute inset-0 border-2 border-primary rounded",children:[t?n:x.jsx(F0,{className:"svg-icon icon-md"}),t&&x.jsx(t$,{filter:e,hasOptions:t})]})}function t$({filter:e,hasOptions:t}){return x.jsx(Ne,{color:"primary",size:"md",onClick:()=>{D().activeToolOverlay===yn.Filter&&D().filter.selected===e?D().setActiveTool(D().activeTool,null):D().filter.select(e,t)},children:x.jsx(Xy,{})})}const ws=k.forwardRef(({children:e,className:t,gap:n="gap-10"},r)=>{const i=de.Children.map(e,(s,h)=>de.isValidElement(s)?de.cloneElement(s,{isFirst:h===0,isLast:de.Children.count(e)===h+1}):s);return x.jsx("div",{ref:r,className:ce("tiny-scrollbar pb-4 overflow-x-auto relative flex items-center",n,t),children:i})});function Mr({isFirst:e,isLast:t,children:n,className:r}){const i=ce(r,"flex-shrink-0",{"ml-auto":e,"mr-auto":t});return x.jsx("div",{className:i,children:n})}function n$(){const e=he(n=>{var r,i;return(i=(r=n.config.tools)==null?void 0:r.filter)==null?void 0:i.items})||[];k.useEffect(()=>{L().filter.syncState()},[]);const t=e.map(n=>x.jsx(Mr,{children:x.jsx(J9,{filter:n})},n));return x.jsx(ws,{children:t})}const r$=be(x.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zM9 6c0-1.66 1.34-3 3-3s3 1.34 3 3v2H9V6zm9 14H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOutlined"),i$=be(x.jsx("path",{d:"M18 8h-1V6c0-2.76-2.24-5-5-5S7 3.24 7 6h2c0-1.66 1.34-3 3-3s3 1.34 3 3v2H6c-1.1 0-2 .9-2 2v10c0 1.1.9 2 2 2h12c1.1 0 2-.9 2-2V10c0-1.1-.9-2-2-2zm0 12H6V10h12v10zm-6-3c1.1 0 2-.9 2-2s-.9-2-2-2-2 .9-2 2 .9 2 2 2z"}),"LockOpenOutlined"),s$=be(x.jsx("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlankOutlined"),o$=be(x.jsx("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),A3=be(x.jsx("path",{d:"M19,3H5C3.9,3,3,3.9,3,5v14c0,1.1,0.9,2,2,2h14c1.1,0,2-0.9,2-2V5C21,3.9,20.1,3,19,3z M17,13H7v-2h10V13z"}),"CheckBox"),a$=k.forwardRef((e,t)=>{const{size:n="md",children:r,className:i,icon:s,checkedIcon:h,disabled:a,isIndeterminate:o,errorMessage:u,invalid:d,orientation:l="horizontal",onChange:c,autoFocus:f,required:p,value:m,name:g,inputTestId:v}=e,y=ps({...e,label:r}),b=s||s$,w=h||(o?A3:o$),C=as(t);d0({autoFocus:f},C),k.useEffect(()=>{C.current&&(C.current.indeterminate=o||!1)});const[S,_]=fi(e.checked,e.defaultChecked||!1),T=k.useCallback(G=>{c==null||c(G),_(G.target.checked)},[c,_]),R=ce("select-none",i,d&&"text-danger",!d&&a&&"text-disabled");let F,$=d?"text-danger":null;return o?(F=A3,$=$||"text-primary"):S?(F=w,$=$||"text-primary"):(F=b,$=$||"text-muted"),x.jsxs("div",{children:[x.jsx("label",{className:R,children:x.jsxs("div",{className:ce("relative flex items-center",l==="vertical"&&"flex-col flex-col-reverse"),children:[x.jsx("input",{className:"absolute left-0 top-0 h-24 w-24 appearance-none overflow-hidden rounded outline-none ring-inset transition-shadow focus-visible:ring",type:"checkbox","aria-checked":o?"mixed":S,"aria-invalid":d||void 0,onChange:T,ref:C,required:p,disabled:a,value:m,name:g,"data-testid":v}),x.jsx(F,{size:n,className:ce("pointer-events-none",a?"text-disabled":$)}),r&&x.jsx("div",{className:ce("first-letter:capitalize",y.size.font,l==="vertical"?"mb-6":"ml-6"),children:r})]})}),u&&x.jsx("div",{className:y.error,children:u})]})});function l$(){const{trans:e}=xi(),{minWidth:t=50,minHeight:n=50,maxHeight:r=2400,maxWidth:i=2400}=he(l=>{var c;return(c=l.config.tools)==null?void 0:c.resize})||{},s=he(l=>l.original),h=he(l=>l.resize.formValue);k.useEffect(()=>{D().resize.setFormValue({...s})},[s]),k.useEffect(()=>{D().setDirty(!0)},[]);const a=l=>{const c={...h,width:l};h.maintainAspect&&(c.height=uf(l,h.usePercentages)),D().resize.setFormValue(c)},o=l=>{const c={...h,height:l};l&&h.maintainAspect&&(c.width=hm(l,h.usePercentages)),D().resize.setFormValue(c)},u=l=>{const c={...h,maintainAspect:l};l&&(c.height=uf(c.width,c.usePercentages)),D().resize.setFormValue(c)},d=l=>{l.preventDefault(),D().applyChanges()};return x.jsxs("form",{className:"flex items-center justify-center gap-16 w-full",onSubmit:d,children:[x.jsx(Pr,{type:"number",min:t,max:i,size:"sm",className:"w-full max-w-112",label:x.jsx(xe,{message:"Width"}),value:h.width,onChange:l=>{a(l.target.valueAsNumber)}}),x.jsx("div",{className:"mt-24",children:x.jsx(a$,{size:"md",checked:h.maintainAspect,onChange:l=>{u(!h.maintainAspect)},"aria-label":e({message:"Maintain aspect ratio"}),checkedIcon:r$,icon:i$})}),x.jsx(Pr,{type:"number",min:n,max:r,size:"sm",className:"w-full max-w-112",label:x.jsx(xe,{message:"Height"}),value:h.height,onChange:l=>{o(l.target.valueAsNumber)}}),x.jsx("button",{type:"submit",className:"hidden",children:x.jsx(xe,{message:"Resize"})})]})}function u$(){const e=he(i=>{var s,h;return(h=(s=i.config.tools)==null?void 0:s.crop)==null?void 0:h.presets})||[],t=he(i=>i.crop.selectedAspectRatio),n=he(i=>{var s,h;return(h=(s=i.config.tools)==null?void 0:s.crop)==null?void 0:h.allowCustomRatio})??!0,r=e.filter(i=>i.ratio||!i.ratio&&n).map(i=>x.jsx(Mr,{children:x.jsxs(Er,{onClick:()=>L().crop.resetCropzone(i.ratio),className:"flex flex-col items-center justify-between cursor-pointer h-56",children:[x.jsx(c$,{preset:i,selectedRatio:t}),x.jsx(f$,{preset:i,selectedRatio:t})]})},i.ratio||i.name));return x.jsx(ws,{gap:"gap-18",children:r})}function c$({preset:e,selectedRatio:t}){let n=40,r=30;if(e.ratio){const s=pm(e.ratio);({width:n,height:r}=dm(s,n,r))}const i=ce("border-2",{"border-dotted":e.ratio===null,"border-primary":t===e.ratio});return x.jsx("div",{style:{width:`${n}px`,height:`${r}px`},className:i})}function f$({preset:e,selectedRatio:t}){const n=ce("mt-4 text-center text-xs",{"text-primary":t===e.ratio});return x.jsx("div",{className:n,children:e.name?x.jsx(xe,{message:e.name}):e.ratio})}const M3=be(x.jsx("path",{d:"M15 21h2v-2h-2v2zm4-12h2V7h-2v2zM3 5v14c0 1.1.9 2 2 2h4v-2H5V5h4V3H5c-1.1 0-2 .9-2 2zm16-2v2h2c0-1.1-.9-2-2-2zm-8 20h2V1h-2v22zm8-6h2v-2h-2v2zM15 5h2V3h-2v2zm4 8h2v-2h-2v2zm0 8c1.1 0 2-.9 2-2h-2v2z"}),"FlipOutlined");function h$(){return x.jsxs("div",{children:[x.jsx(Ne,{size:"sm",onClick:()=>{L().transform.flip("vertical"),D().setDirty(!0)},children:x.jsx(M3,{})}),x.jsx(Ne,{size:"sm",onClick:()=>{L().transform.flip("horizontal"),D().setDirty(!0)},children:x.jsx(M3,{className:"rotate-90"})})]})}const d$=be(x.jsx("path",{d:"M7.11 8.53 5.7 7.11C4.8 8.27 4.24 9.61 4.07 11h2.02c.14-.87.49-1.72 1.02-2.47zM6.09 13H4.07c.17 1.39.72 2.73 1.62 3.89l1.41-1.42c-.52-.75-.87-1.59-1.01-2.47zm1.01 5.32c1.16.9 2.51 1.44 3.9 1.61V17.9c-.87-.15-1.71-.49-2.46-1.03L7.1 18.32zM13 4.07V1L8.45 5.55 13 10V6.09c2.84.48 5 2.94 5 5.91s-2.16 5.43-5 5.91v2.02c3.95-.49 7-3.85 7-7.93s-3.05-7.44-7-7.93z"}),"RotateLeftOutlined"),p$=be(x.jsx("path",{d:"M15.55 5.55 11 1v3.07C7.06 4.56 4 7.92 4 12s3.05 7.44 7 7.93v-2.02c-2.84-.48-5-2.94-5-5.91s2.16-5.43 5-5.91V10l4.55-4.45zM19.93 11c-.17-1.39-.72-2.73-1.62-3.89l-1.42 1.42c.54.75.88 1.6 1.02 2.47h2.02zM13 17.9v2.02c1.39-.17 2.74-.71 3.9-1.61l-1.44-1.44c-.75.54-1.59.89-2.46 1.03zm3.89-2.42 1.42 1.41c.9-1.16 1.45-2.5 1.62-3.89h-2.02c-.14.87-.48 1.72-1.02 2.48z"}),"RotateRightOutlined");function g$(){return x.jsxs("div",{children:[x.jsx(Ne,{size:"sm",onClick:()=>{L().transform.rotateLeft(),D().setDirty(!0)},children:x.jsx(d$,{})}),x.jsx(Ne,{size:"sm",onClick:()=>{L().transform.rotateRight(),D().setDirty(!0)},children:x.jsx(p$,{})})]})}function m$(){return x.jsxs("div",{className:"flex items-center justify-center gap-16",children:[x.jsx(h$,{}),x.jsx(v$,{}),x.jsx(g$,{})]})}function v$(){const e=k.useRef(null),{domProps:t,groupId:n,thumbIds:r,trackRef:i,getThumbValueLabel:s}=y3({minValue:-45,maxValue:45,step:1,defaultValue:[D().crop.straightenAngle],onChange:h=>{const a=h[0];L().transform.straighten(a),D().crop.setTransformAngle(a),D().setDirty(!0),e.current.style.transform=`translateX(${a}px)`}});return x.jsx("div",{id:n,role:"group",className:"flex-auto flex-shrink-0 max-w-320 touch-none isolate",children:x.jsxs("div",{...t,ref:i,className:"h-36 relative",children:[x.jsxs("output",{htmlFor:r[0],"aria-live":"off",className:"absolute left-1/2 top-1/2 w-40 text-center bg -translate-x-1/2 -translate-y-1/2 z-10",children:[s(0),"°"]}),x.jsx(y$,{ref:e})]})})}const y$=de.forwardRef((e,t)=>{const n=[...Array(80).keys()],r=n.map(i=>x.jsx("circle",{cx:2+i*10,cy:"20",r:i%5?.75:2},i));return x.jsx("div",{className:"relative h-full cursor-pointer overflow-hidden",children:x.jsx("svg",{ref:t,style:{width:n.length*10},className:"absolute -left-80 h-full fill-current",xmlns:"http://www.w3.org/2000/svg","aria-hidden":"true",focusable:"false",children:r})})});function b$(){return k.useEffect(()=>(D().setDirty(!0),L().frame.active.hide(),()=>{L().frame.active.show()}),[]),x.jsxs("div",{className:"pb-16",children:[x.jsx("div",{className:"mb-10",children:x.jsx(m$,{})}),x.jsx(u$,{})]})}const w$=be(x.jsx("path",{d:"M 16 6 C 12.484375 6 9.273438 7.070313 6.90625 8.84375 C 4.539063 10.617188 3 13.15625 3 16 C 3 18.84375 4.539063 21.382813 6.90625 23.15625 C 9.273438 24.929688 12.484375 26 16 26 C 19.515625 26 22.726563 24.929688 25.09375 23.15625 C 27.460938 21.382813 29 18.84375 29 16 C 29 13.15625 27.460938 10.617188 25.09375 8.84375 C 22.726563 7.070313 19.515625 6 16 6 Z M 16 8 C 19.109375 8 21.898438 8.957031 23.875 10.4375 C 25.851563 11.917969 27 13.875 27 16 C 27 18.125 25.851563 20.082031 23.875 21.5625 C 21.898438 23.042969 19.109375 24 16 24 C 12.890625 24 10.101563 23.042969 8.125 21.5625 C 6.148438 20.082031 5 18.125 5 16 C 5 13.875 6.148438 11.917969 8.125 10.4375 C 10.101563 8.957031 12.890625 8 16 8 Z "})),x$=be(x.jsx("path",{d:"M 16 4 C 9.382813 4 4 9.382813 4 16 C 4 22.617188 9.382813 28 16 28 C 22.617188 28 28 22.617188 28 16 C 28 9.382813 22.617188 4 16 4 Z M 16 6 C 21.535156 6 26 10.464844 26 16 C 26 21.535156 21.535156 26 16 26 C 10.464844 26 6 21.535156 6 16 C 6 10.464844 10.464844 6 16 6 Z "})),C$=be(x.jsx("path",{d:"M 3 6 L 3 26 L 29 26 L 29 6 Z M 5 8 L 27 8 L 27 24 L 5 24 Z "})),S$=be(x.jsx("path",{d:"M 16 4.90625 L 15.125 6.40625 L 4.71875 24.5 L 3.875 26 L 28.125 26 L 27.28125 24.5 L 16.875 6.40625 Z M 16 8.9375 L 24.65625 24 L 7.34375 24 Z "}));function _$(){const t=(he(n=>{var r,i;return(i=(r=n.config.tools)==null?void 0:r.shapes)==null?void 0:i.items})||[]).map(n=>x.jsx(Mr,{children:x.jsx(Ne,{variant:"outline",radius:"rounded-2xl",size:"xl",onClick:()=>{L().shape.addBasicShape(n.name),D().setDirty(!0)},children:x.jsx(E$,{shape:n})})},n.name));return x.jsx(ws,{children:t})}function E$({shape:e}){var t;return e.type==="Path"?x.jsx("svg",{className:"m-auto w-36 h-36",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 -100 512 700",children:x.jsx("path",{className:"fill-transparent stroke-current",d:(t=e.options)==null?void 0:t.path,strokeWidth:25})}):de.cloneElement(k$[e.name],{className:"w-30 h-30"})}const k$={circle:x.jsx(x$,{viewBox:"0 0 32 32"}),square:x.jsx(C$,{viewBox:"0 0 32 32"}),triangle:x.jsx(S$,{viewBox:"0 0 32 32"}),ellipse:x.jsx(w$,{viewBox:"0 0 32 32"})};function zl(e,t,n){let r=n.initialDeps??[],i;return()=>{var s,h,a,o;let u;n.key&&((s=n.debug)!=null&&s.call(n))&&(u=Date.now());const d=e();if(!(d.length!==r.length||d.some((f,p)=>r[p]!==f)))return i;r=d;let c;if(n.key&&((h=n.debug)!=null&&h.call(n))&&(c=Date.now()),i=t(...d),n.key&&((a=n.debug)!=null&&a.call(n))){const f=Math.round((Date.now()-u)*100)/100,p=Math.round((Date.now()-c)*100)/100,m=p/16,g=(v,y)=>{for(v=String(v);v.length<y;)v=" "+v;return v};console.info(`%c⏱ ${g(p,5)} /${g(f,5)} ms`,`
            font-size: .6rem;
            font-weight: bold;
            color: hsl(${Math.max(0,Math.min(120-120*m,120))}deg 100% 31%);`,n==null?void 0:n.key)}return(o=n==null?void 0:n.onChange)==null||o.call(n,i),i}}function I0(e,t){if(e===void 0)throw new Error(`Unexpected undefined${t?`: ${t}`:""}`);return e}const T$=(e,t)=>Math.abs(e-t)<1,O$=(e,t,n)=>{let r;return function(...i){e.clearTimeout(r),r=e.setTimeout(()=>t.apply(this,i),n)}},P$=e=>e,D$=e=>{const t=Math.max(e.startIndex-e.overscan,0),n=Math.min(e.endIndex+e.overscan,e.count-1),r=[];for(let i=t;i<=n;i++)r.push(i);return r},A$=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;const i=h=>{const{width:a,height:o}=h;t({width:Math.round(a),height:Math.round(o)})};if(i(n.getBoundingClientRect()),!r.ResizeObserver)return()=>{};const s=new r.ResizeObserver(h=>{const a=h[0];if(a!=null&&a.borderBoxSize){const o=a.borderBoxSize[0];if(o){i({width:o.inlineSize,height:o.blockSize});return}}i(n.getBoundingClientRect())});return s.observe(n,{box:"border-box"}),()=>{s.unobserve(n)}},j3={passive:!0},M$=typeof window>"u"?!0:"onscrollend"in window,j$=(e,t)=>{const n=e.scrollElement;if(!n)return;const r=e.targetWindow;if(!r)return;let i=0;const s=M$?()=>{}:O$(r,()=>{t(i,!1)},e.options.isScrollingResetDelay),h=u=>()=>{i=n[e.options.horizontal?"scrollLeft":"scrollTop"],s(),t(i,u)},a=h(!0),o=h(!1);return o(),n.addEventListener("scroll",a,j3),n.addEventListener("scrollend",o,j3),()=>{n.removeEventListener("scroll",a),n.removeEventListener("scrollend",o)}},R$=(e,t,n)=>{if(t!=null&&t.borderBoxSize){const r=t.borderBoxSize[0];if(r)return Math.round(r[n.options.horizontal?"inlineSize":"blockSize"])}return Math.round(e.getBoundingClientRect()[n.options.horizontal?"width":"height"])},F$=(e,{adjustments:t=0,behavior:n},r)=>{var i,s;const h=e+t;(s=(i=r.scrollElement)==null?void 0:i.scrollTo)==null||s.call(i,{[r.options.horizontal?"left":"top"]:h,behavior:n})};class I${constructor(t){this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.isScrolling=!1,this.scrollToIndexTimeoutId=null,this.measurementsCache=[],this.itemSizeCache=new Map,this.pendingMeasuredCacheIndexes=[],this.scrollRect=null,this.scrollOffset=null,this.scrollDirection=null,this.scrollAdjustments=0,this.elementsCache=new Map,this.observer=(()=>{let n=null;const r=()=>n||(!this.targetWindow||!this.targetWindow.ResizeObserver?null:n=new this.targetWindow.ResizeObserver(i=>{i.forEach(s=>{this._measureElement(s.target,s)})}));return{disconnect:()=>{var i;return(i=r())==null?void 0:i.disconnect()},observe:i=>{var s;return(s=r())==null?void 0:s.observe(i,{box:"border-box"})},unobserve:i=>{var s;return(s=r())==null?void 0:s.unobserve(i)}}})(),this.range=null,this.setOptions=n=>{Object.entries(n).forEach(([r,i])=>{typeof i>"u"&&delete n[r]}),this.options={debug:!1,initialOffset:0,overscan:1,paddingStart:0,paddingEnd:0,scrollPaddingStart:0,scrollPaddingEnd:0,horizontal:!1,getItemKey:P$,rangeExtractor:D$,onChange:()=>{},measureElement:R$,initialRect:{width:0,height:0},scrollMargin:0,gap:0,indexAttribute:"data-index",initialMeasurementsCache:[],lanes:1,isScrollingResetDelay:150,enabled:!0,...n}},this.notify=(n,r)=>{var i,s;const{startIndex:h,endIndex:a}=this.range??{startIndex:void 0,endIndex:void 0},o=this.calculateRange();(n||h!==(o==null?void 0:o.startIndex)||a!==(o==null?void 0:o.endIndex))&&((s=(i=this.options).onChange)==null||s.call(i,this,r))},this.cleanup=()=>{this.unsubs.filter(Boolean).forEach(n=>n()),this.unsubs=[],this.scrollElement=null,this.targetWindow=null,this.observer.disconnect(),this.elementsCache.clear()},this._didMount=()=>()=>{this.cleanup()},this._willUpdate=()=>{var n;const r=this.options.enabled?this.options.getScrollElement():null;if(this.scrollElement!==r){if(this.cleanup(),!r){this.notify(!1,!1);return}this.scrollElement=r,this.scrollElement&&"ownerDocument"in this.scrollElement?this.targetWindow=this.scrollElement.ownerDocument.defaultView:this.targetWindow=((n=this.scrollElement)==null?void 0:n.window)??null,this._scrollToOffset(this.getScrollOffset(),{adjustments:void 0,behavior:void 0}),this.unsubs.push(this.options.observeElementRect(this,i=>{this.scrollRect=i,this.notify(!1,!1)})),this.unsubs.push(this.options.observeElementOffset(this,(i,s)=>{this.scrollAdjustments=0,this.scrollDirection=s?this.getScrollOffset()<i?"forward":"backward":null,this.scrollOffset=i;const h=this.isScrolling;this.isScrolling=s,this.notify(h!==s,s)}))}},this.getSize=()=>this.options.enabled?(this.scrollRect=this.scrollRect??this.options.initialRect,this.scrollRect[this.options.horizontal?"width":"height"]):(this.scrollRect=null,0),this.getScrollOffset=()=>this.options.enabled?(this.scrollOffset=this.scrollOffset??(typeof this.options.initialOffset=="function"?this.options.initialOffset():this.options.initialOffset),this.scrollOffset):(this.scrollOffset=null,0),this.getFurthestMeasurement=(n,r)=>{const i=new Map,s=new Map;for(let h=r-1;h>=0;h--){const a=n[h];if(i.has(a.lane))continue;const o=s.get(a.lane);if(o==null||a.end>o.end?s.set(a.lane,a):a.end<o.end&&i.set(a.lane,!0),i.size===this.options.lanes)break}return s.size===this.options.lanes?Array.from(s.values()).sort((h,a)=>h.end===a.end?h.index-a.index:h.end-a.end)[0]:void 0},this.getMeasurementOptions=zl(()=>[this.options.count,this.options.paddingStart,this.options.scrollMargin,this.options.getItemKey,this.options.enabled],(n,r,i,s,h)=>(this.pendingMeasuredCacheIndexes=[],{count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:h}),{key:!1}),this.getMeasurements=zl(()=>[this.getMeasurementOptions(),this.itemSizeCache],({count:n,paddingStart:r,scrollMargin:i,getItemKey:s,enabled:h},a)=>{var o;if(!h)return this.measurementsCache=[],this.itemSizeCache.clear(),[];this.measurementsCache.length===0&&(this.measurementsCache=this.options.initialMeasurementsCache,this.measurementsCache.forEach(l=>{this.itemSizeCache.set(l.key,l.size)}));const u=this.pendingMeasuredCacheIndexes.length>0?Math.min(...this.pendingMeasuredCacheIndexes):0;this.pendingMeasuredCacheIndexes=[];const d=this.measurementsCache.slice(0,u);for(let l=u;l<n;l++){let c=(o=this.measurementsCache[l])==null?void 0:o.measureElement;c||(c=w=>{const C=s(l),S=this.elementsCache.get(C);if(!w){S&&(this.observer.unobserve(S),this.elementsCache.delete(C));return}S!==w&&(S&&this.observer.unobserve(S),this.observer.observe(w),this.elementsCache.set(C,w)),w.isConnected&&this.resizeItem(l,this.options.measureElement(w,void 0,this))});const f=s(l),p=this.options.lanes===1?d[l-1]:this.getFurthestMeasurement(d,l),m=p?p.end+this.options.gap:r+i,g=a.get(f),v=typeof g=="number"?g:this.options.estimateSize(l),y=m+v,b=p?p.lane:l%this.options.lanes;d[l]={index:l,start:m,size:v,end:y,key:f,lane:b,measureElement:c}}return this.measurementsCache=d,d},{key:!1,debug:()=>this.options.debug}),this.calculateRange=zl(()=>[this.getMeasurements(),this.getSize(),this.getScrollOffset()],(n,r,i)=>this.range=n.length>0&&r>0?L$({measurements:n,outerSize:r,scrollOffset:i}):null,{key:!1,debug:()=>this.options.debug}),this.getIndexes=zl(()=>[this.options.rangeExtractor,this.calculateRange(),this.options.overscan,this.options.count],(n,r,i,s)=>r===null?[]:n({startIndex:r.startIndex,endIndex:r.endIndex,overscan:i,count:s}),{key:!1,debug:()=>this.options.debug}),this.indexFromElement=n=>{const r=this.options.indexAttribute,i=n.getAttribute(r);return i?parseInt(i,10):(console.warn(`Missing attribute name '${r}={index}' on measured element.`),-1)},this._measureElement=(n,r)=>{const i=this.indexFromElement(n),s=this.getMeasurements()[i];if(!s||!n.isConnected){this.elementsCache.forEach((a,o)=>{a===n&&(this.observer.unobserve(n),this.elementsCache.delete(o))});return}const h=this.elementsCache.get(s.key);h!==n&&(h&&this.observer.unobserve(h),this.observer.observe(n),this.elementsCache.set(s.key,n)),this.resizeItem(i,this.options.measureElement(n,r,this))},this.resizeItem=(n,r)=>{const i=this.getMeasurements()[n];if(!i)return;const s=this.itemSizeCache.get(i.key)??i.size,h=r-s;h!==0&&((this.shouldAdjustScrollPositionOnItemSizeChange!==void 0?this.shouldAdjustScrollPositionOnItemSizeChange(i,h,this):i.start<this.getScrollOffset()+this.scrollAdjustments)&&this._scrollToOffset(this.getScrollOffset(),{adjustments:this.scrollAdjustments+=h,behavior:void 0}),this.pendingMeasuredCacheIndexes.push(i.index),this.itemSizeCache=new Map(this.itemSizeCache.set(i.key,r)),this.notify(!0,!1))},this.measureElement=n=>{n&&this._measureElement(n,void 0)},this.getVirtualItems=zl(()=>[this.getIndexes(),this.getMeasurements()],(n,r)=>{const i=[];for(let s=0,h=n.length;s<h;s++){const a=n[s],o=r[a];i.push(o)}return i},{key:!1,debug:()=>this.options.debug}),this.getVirtualItemForOffset=n=>{const r=this.getMeasurements();if(r.length!==0)return I0(r[R3(0,r.length-1,i=>I0(r[i]).start,n)])},this.getOffsetForAlignment=(n,r)=>{const i=this.getSize(),s=this.getScrollOffset();r==="auto"&&(n<=s?r="start":n>=s+i?r="end":r="start"),r==="start"?n=n:r==="end"?n=n-i:r==="center"&&(n=n-i/2);const h=this.options.horizontal?"scrollWidth":"scrollHeight",o=(this.scrollElement?"document"in this.scrollElement?this.scrollElement.document.documentElement[h]:this.scrollElement[h]:0)-i;return Math.max(Math.min(o,n),0)},this.getOffsetForIndex=(n,r="auto")=>{n=Math.max(0,Math.min(n,this.options.count-1));const i=this.getMeasurements()[n];if(!i)return;const s=this.getSize(),h=this.getScrollOffset();if(r==="auto")if(i.end>=h+s-this.options.scrollPaddingEnd)r="end";else if(i.start<=h+this.options.scrollPaddingStart)r="start";else return[h,r];const a=r==="end"?i.end+this.options.scrollPaddingEnd:i.start-this.options.scrollPaddingStart;return[this.getOffsetForAlignment(a,r),r]},this.isDynamicMode=()=>this.elementsCache.size>0,this.cancelScrollToIndex=()=>{this.scrollToIndexTimeoutId!==null&&this.targetWindow&&(this.targetWindow.clearTimeout(this.scrollToIndexTimeoutId),this.scrollToIndexTimeoutId=null)},this.scrollToOffset=(n,{align:r="start",behavior:i}={})=>{this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getOffsetForAlignment(n,r),{adjustments:void 0,behavior:i})},this.scrollToIndex=(n,{align:r="auto",behavior:i}={})=>{n=Math.max(0,Math.min(n,this.options.count-1)),this.cancelScrollToIndex(),i==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size.");const s=this.getOffsetForIndex(n,r);if(!s)return;const[h,a]=s;this._scrollToOffset(h,{adjustments:void 0,behavior:i}),i!=="smooth"&&this.isDynamicMode()&&this.targetWindow&&(this.scrollToIndexTimeoutId=this.targetWindow.setTimeout(()=>{if(this.scrollToIndexTimeoutId=null,this.elementsCache.has(this.options.getItemKey(n))){const[u]=I0(this.getOffsetForIndex(n,a));T$(u,this.getScrollOffset())||this.scrollToIndex(n,{align:a,behavior:i})}else this.scrollToIndex(n,{align:a,behavior:i})}))},this.scrollBy=(n,{behavior:r}={})=>{this.cancelScrollToIndex(),r==="smooth"&&this.isDynamicMode()&&console.warn("The `smooth` scroll behavior is not fully supported with dynamic size."),this._scrollToOffset(this.getScrollOffset()+n,{adjustments:void 0,behavior:r})},this.getTotalSize=()=>{var n;const r=this.getMeasurements();let i;return r.length===0?i=this.options.paddingStart:i=this.options.lanes===1?((n=r[r.length-1])==null?void 0:n.end)??0:Math.max(...r.slice(-this.options.lanes).map(s=>s.end)),i-this.options.scrollMargin+this.options.paddingEnd},this._scrollToOffset=(n,{adjustments:r,behavior:i})=>{this.options.scrollToFn(n,{behavior:i,adjustments:r},this)},this.measure=()=>{var n,r;this.itemSizeCache=new Map,(r=(n=this.options).onChange)==null||r.call(n,this,!1)},this.setOptions(t)}}const R3=(e,t,n,r)=>{for(;e<=t;){const i=(e+t)/2|0,s=n(i);if(s<r)e=i+1;else if(s>r)t=i-1;else return i}return e>0?e-1:0};function L$({measurements:e,outerSize:t,scrollOffset:n}){const r=e.length-1,s=R3(0,r,a=>e[a].start,n);let h=s;for(;h<r&&e[h].end<n+t;)h++;return{startIndex:s,endIndex:h}}const z$=typeof document<"u"?k.useLayoutEffect:k.useEffect;function B$(e){const t=k.useReducer(()=>({}),{})[1],n={...e,onChange:(i,s)=>{var h;s?bo.flushSync(t):t(),(h=e.onChange)==null||h.call(e,i,s)}},[r]=k.useState(()=>new I$(n));return r.setOptions(n),k.useEffect(()=>r._didMount(),[]),z$(()=>r._willUpdate()),r}function N$(e){return B$({observeElementRect:A$,observeElementOffset:j$,scrollToFn:F$,...e})}function F3(){const e=he(t=>{var n;return(n=t.config.ui)==null?void 0:n.activeTheme});return he(t=>{var n;return(((n=t.config.ui)==null?void 0:n.themes)||[]).find(r=>r.name===e)})}function $$({category:e}){const t=F3(),n=e.name,r=e.list?e.list:Array.from(Array(e.items).keys()),i=k.useRef(null),s=N$({horizontal:!0,count:r.length,getScrollElement:()=>i.current,estimateSize:k.useCallback(()=>52,[]),overscan:5});return k.useEffect(()=>{s.scrollToIndex(0)},[n]),x.jsx(k.Fragment,{children:x.jsx("div",{ref:i,className:"tiny-scrollbar overflow-x-auto overflow-y-hidden",style:{height:"52px"},children:x.jsx("div",{className:"h-full relative mx-auto",style:{width:`${s.getTotalSize()}px`},children:s.getVirtualItems().map(h=>{const a=`${r[h.index]}`;return x.jsx("div",{className:"absolute top-0 left-0 h-full",style:{width:`${h.size}px`,transform:`translateX(${h.start}px)`},children:x.jsx(At,{variant:"outline",radius:"rounded-xl",size:"md",equalWidth:!0,onClick:async()=>{await L().shape.addSticker(e.name,a),D().setDirty(!0)},children:x.jsx("img",{className:ce("m-auto m-auto w-28 h-28",e.invertPreview&&(t==null?void 0:t.isDark)&&"invert"),src:gm(e,a),alt:a})})},h.index)})})})})}function V$(){const e=he(i=>{var s,h;return(h=(s=i.config.tools)==null?void 0:s.stickers)==null?void 0:h.items})||[],[t,n]=k.useState(e[0]),r=e.map(i=>{const s=t===i,h=pO[i.name];return x.jsx(At,{size:"xs",color:s?"primary":null,value:i,children:x.jsx("span",{className:"capitalize",children:h?x.jsx(xe,{...h}):i.name})},i.name)});return x.jsxs("div",{className:"h-92",children:[x.jsx("div",{className:"mb-10 w-full hide-scrollbar overflow-x-auto overflow-y-hidden flex",children:x.jsx(Wf,{value:t,onChange:i=>n(i),variant:"outline",radius:"rounded-full",className:"mx-auto",children:r})}),t&&x.jsx($$,{category:t})]})}function H$(){const e=he(r=>{var i,s;return(s=(i=r.config.tools)==null?void 0:i.frame)==null?void 0:s.items})||[],t=he(r=>r.frame.active);k.useEffect(()=>{D().frame.active&&D().frame.showOptionsPanel()},[]);const n=e.map(r=>{const i=hn(`images/frames/${r.name}/thumbnail.png`),s=(t==null?void 0:t.name)===r.name,h=s?"border-primary":"";return x.jsx(Mr,{children:x.jsxs("button",{type:"button",className:`border-2 overflow-hidden relative rounded border cursor-pointer ${h}`,onClick:()=>{D().setDirty(!0),s?L().frame.remove():L().frame.add(r.name)},children:[s&&x.jsx(U$,{}),x.jsx("img",{draggable:"false",className:"w-64 h-64",src:i,alt:r.name})]})},r.name)});return x.jsx(ws,{children:n})}function U$(){return x.jsx("span",{className:"bg-background/70 absolute inset-0 text-primary",children:x.jsx(F0,{className:"svg-icon icon-md absolute inset-0 block m-auto"})})}function W$(){const e=he(n=>{var r,i;return(i=(r=n.config.tools)==null?void 0:r.text)==null?void 0:i.items});k.useEffect(()=>{e&&LC(e,{prefixSrc:hn,id:"pixie-fonts"}).catch(()=>{})},[e]),k.useEffect(()=>{L().text.selectOrAddText()&&D().setDirty(!0)},[]);const t=(e||[]).map(n=>x.jsx(Mr,{children:x.jsx(X$,{fontConfig:n})},n.family));return x.jsx(ws,{className:"pt-6",children:t})}function X$({fontConfig:e}){var r;const t=he(i=>i.objects.active.editableProps.fontFamily),n=ce("block px-6 w-110 h-68 text-sm bg border rounded-2xl",{"border-primary":t===e.family,"text-primary":t===e.family});return x.jsx("button",{type:"button",className:n,style:{fontFamily:e.family.includes('"')?e.family:`"${e.family}"`,fontWeight:((r=e.descriptors)==null?void 0:r.weight)||"normal"},onClick:async()=>{L().text.selectOrAddText(),D().setDirty(!0),L().objects.setValues({fontFamily:e.family})},children:e.family})}const Y$=be(x.jsx("path",{d:"M290.7 57.4L57.4 290.7c-25 25-25 65.5 0 90.5l80 80c12 12 28.3 18.7 45.3 18.7H288h9.4H512c17.7 0 32-14.3 32-32s-14.3-32-32-32H387.9L518.6 285.3c25-25 25-65.5 0-90.5L381.3 57.4c-25-25-65.5-25-90.5 0zM297.4 416H288l-105.4 0-80-80L227.3 211.3 364.7 348.7 297.4 416z"}),"EraserFA","0 0 576 512");function G$(){return k.useEffect(()=>(L().draw.enable(),()=>{L().draw.disable()}),[]),x.jsxs(ws,{gap:"gap-16",children:[x.jsx(Mr,{children:x.jsx(gs,{size:"sm",label:x.jsx(xe,{message:"Brush Color"}),value:L().draw.currentBrush.color,onChange:e=>{L().draw.setBrushColor(e)}})}),x.jsx(Mr,{children:x.jsx(q$,{})}),x.jsx(Mr,{children:x.jsx(K$,{})})]})}function K$(){const e=he(r=>{var i,s;return(s=(i=r.config.tools)==null?void 0:i.draw)==null?void 0:s.brushSizes})||[],[t,n]=k.useState(L().draw.currentBrush.width);return x.jsx(R0,{selectionMode:"single",selectedValue:t,onSelectionChange:r=>{n(r),L().draw.setBrushSize(r)},size:"sm",label:x.jsx(xe,{message:"Brush Size"}),children:e.map(r=>x.jsx(bf,{value:r,children:x.jsxs("div",{className:"flex items-center",children:[x.jsx("div",{className:"flex-shrink-0 mr-8 border-[3px] rounded-full",style:{width:`${r}px`,height:`${r}px`}}),r]})},r))})}function q$(){const e=he(i=>{var s,h;return(h=(s=i.config.tools)==null?void 0:s.draw)==null?void 0:h.brushTypes})||[],t=F3(),[n,r]=k.useState(L().draw.currentBrush.type);return x.jsx(R0,{selectionMode:"single",selectedValue:n,onSelectionChange:i=>{r(i),L().draw.setBrushType(i)},size:"sm",label:x.jsx(xe,{message:"Brush Type"}),children:e.map(i=>x.jsx(bf,{value:i,children:x.jsxs("div",{className:"flex items-center",children:[i==="EraserBrush"?x.jsx(Y$,{className:"mr-8"}):x.jsx("img",{className:"flex-shrink-0 mr-8 w-24 h-24",src:Q$(i,t==null?void 0:t.isDark),alt:""}),x.jsx(xe,{message:i.replace(/([A-Z])/g," $1").trim()})]})},i))})}function Q$(e,t=!1){const n=e.replace("Brush","").toLowerCase();return hn(`images/brushes/${t?"white":"black"}/${n}.png`)}function J$(){const{trans:e}=xi(),t=he(n=>n.corners.radius);return k.useEffect(()=>(D().setDirty(!0),L().corners.showPreview(),()=>L().corners.hidePreview()),[]),x.jsx("div",{className:"max-w-320 mx-auto",children:x.jsx(ms,{minValue:1,maxValue:300,label:e({message:"Radius"}),getValueLabel:n=>`${n}px`,onChange:n=>{L().corners.updatePreview(n),D().corners.setRadius(n)},value:t})})}const I3={initial:{y:"130%",opacity:0},animate:{y:0,opacity:1},exit:{y:"130%",opacity:0,left:0,position:"absolute",overflowY:"hidden"},transition:{type:"tween",duration:.15}};function Z$({activeTool:e}){const t=eV(e);return x.jsx(Pt.div,{className:"relative h-full w-full text-sm bg select-none overflow-hidden",...I3,children:t})}function eV(e){switch(e){case Le.FILTER:return x.jsx(n$,{});case Le.RESIZE:return x.jsx(l$,{});case Le.CROP:return x.jsx(b$,{});case Le.DRAW:return x.jsx(G$,{});case Le.TEXT:return x.jsx(W$,{});case Le.SHAPES:return x.jsx(_$,{});case Le.STICKERS:return x.jsx(V$,{});case Le.FRAME:return x.jsx(H$,{});case Le.CORNERS:return x.jsx(J$,{});default:return null}}function L3({className:e}){const t=he(n=>n.activeTool);return x.jsx("nav",{className:ce("z-navbar min-h-86 flex-shrink-0 px-16 relative overflow-hidden",e),children:x.jsx(Sr,{initial:!1,children:t?x.jsx(Z$,{activeTool:t},"tool-controls"):x.jsx(tV,{},"nav-items")})})}function tV(){const e=he(t=>{var n,r;return(r=(n=t.config.ui)==null?void 0:n.nav)==null?void 0:r.items})||[];return x.jsx(Pt.div,{className:"w-full h-full bg-inherit",...I3,children:x.jsx(ws,{children:e.map(t=>x.jsx(Mr,{children:x.jsx(nV,{item:t})},t.name))})})}function nV({item:e}){const t=()=>{typeof e.action=="string"?cd(e.action):typeof e.action=="function"&&e.action(D().editor)},n=MO[e.name];return x.jsxs(Er,{variant:"outline",color:"paper",className:"flex-col flex-shrink-0 w-68 h-68",radius:"rounded-2xl",onClick:t,children:[x.jsx("div",{className:"mb-1",children:x.jsx(p0,{className:"icon-md",icon:e.icon})}),x.jsx("div",{className:"mt-6 text-xs capitalize max-w-[90%] overflow-hidden overflow-ellipsis",children:n?x.jsx(xe,{...n}):e.name})]})}function rV(){const e=he(n=>n.history.items),t=he(n=>n.history.pointer);return x.jsxs(Pt.div,{...Lf,className:"absolute bottom-20 right-20 w-224 max-w-[calc(100%-40px)] max-h-[calc(100%-40px)] bg-paper shadow-xl border focus:outline-none rounded overflow-hidden",children:[x.jsxs("div",{className:"px-10 py-2 mb-4 font-medium text-sm border-b flex items-center",children:[x.jsx(xe,{message:"History"}),x.jsx(Ne,{size:"xs",className:"ml-auto flex-shrink-0",onClick:()=>{D().togglePanel("history",!1)},children:x.jsx(mi,{})})]}),x.jsx("div",{className:"p-10",children:e.map(n=>{const r=n.id===e[t].id,i=Nr[n.name],s=i.icon&&de.createElement(i.icon,{className:"icon-sm"});return x.jsx(At,{onClick:()=>{r||L().history.load(n)},variant:"outline",color:r?"primary":null,size:"sm",className:ce("w-full mb-8",r&&"pointer-events-none"),justify:"justify-start",startIcon:s,children:x.jsx(xe,{...i.name})},n.id)})})]})}function iV(e){const{children:t,className:n,color:r,onDismiss:i,leftAdornment:s,rightAdornment:h,hideDismissButton:a=!1,size:o,showDivider:u,justify:d="justify-between",titleFontWeight:l="font-semibold",titleTextSize:c=o==="xs"?"text-xs":"text-sm",closeButtonSize:f=o==="xs"?"xs":"sm",actions:p}=e,{labelId:m,isDismissable:g,close:v}=k.useContext(nh);return x.jsxs("div",{className:ce(n,"flex flex-shrink-0 items-center gap-10",l,u&&"border-b",sV(e),r||"text-main",d),children:[s,x.jsx("h3",{id:m,className:ce(c,"mr-auto leading-5 opacity-90"),children:t}),h,p,g&&!a&&x.jsx(Ne,{"aria-label":"Dismiss",onClick:()=>{i?i():v()},size:f,className:ce("-mr-8 text-muted",h&&"sr-only"),children:x.jsx(mi,{})})]})}function sV({size:e,padding:t}){if(t)return t;switch(e){case"2xs":case"xs":return"px-14 py-4";case"sm":return"px-18 py-4";default:return"px-24 py-6"}}const z3=k.forwardRef((e,t)=>{const{children:n,className:r,padding:i,size:s,...h}=e;return x.jsx("div",{...h,ref:t,className:ce(r,oV(e),"overflow-y-auto overflow-x-hidden overscroll-contain text-sm flex-auto"),children:n})});function oV({size:e,padding:t}){if(t)return t;switch(e){case"xs":return"p-14";case"sm":return"p-18";default:return"px-24 py-20"}}function aV(){const e=he(t=>t.openPanels.newImage);return x.jsx(ih,{isOpen:e,disableInitialTransition:!0,type:"modal",isDismissable:!1,children:x.jsx(lV,{})})}function lV(){const[e,t]=k.useState("default");return x.jsxs(rh,{className:"text-center max-w-max text-main",size:"auto",children:[x.jsx(iV,{padding:"px-24 pt-24 pb-12",showDivider:!1,children:x.jsx(xe,{message:"Open a photo or design to get started"})}),x.jsx(z3,{children:e==="default"?x.jsx(uV,{setActivePanel:t}):x.jsx(fV,{setActivePanel:t})})]})}function uV({setActivePanel:e}){return x.jsxs(x.Fragment,{children:[x.jsx(At,{className:"mr-20",size:"sm",variant:"raised",color:"primary",onClick:()=>{L().import.uploadAndReplaceMainImage()},children:x.jsx(xe,{message:"Open Photo"})}),x.jsx(At,{variant:"outline",size:"sm",color:"primary",onClick:()=>{e("newCanvas")},children:x.jsx(xe,{message:"Create New"})}),x.jsx(cV,{})]})}function cV(){const e=he(t=>{var n,r;return(r=(n=t.config.ui)==null?void 0:n.openImageDialog)==null?void 0:r.sampleImages});return e!=null&&e.length?x.jsxs(x.Fragment,{children:[x.jsxs("div",{className:"relative py-20 text-main",children:[x.jsx("hr",{className:"absolute h-1 border-none bg-divider w-full top inset-0 m-auto"}),x.jsx("span",{className:"text-sm bg px-6 relative",children:x.jsx(xe,{message:"or use sample"})})]}),x.jsx("ul",{className:"flex items-center gap-16",children:e.map(t=>x.jsx("li",{className:"shrink-0",children:x.jsx("button",{type:"button",onClick:async()=>{typeof t.action=="function"?t.action():t.url.endsWith(".json")?(await Eu(hn(t.url)),D().togglePanel("newImage",!1)):(await L().import.openBackgroundImage(hn(t.url)),D().togglePanel("newImage",!1))},children:x.jsx("img",{className:"w-80 h-80 rounded overflow-hidden transition-shadow hover:shadow-md",src:hn(t.thumbnail),alt:""})})},t.url||t.thumbnail))})]}):null}function fV({setActivePanel:e}){const[t,n]=k.useState({width:800,height:600,bgColor:"transparent"});return x.jsxs("form",{onSubmit:r=>{r.preventDefault();const{width:i,height:s,bgColor:h}=t;i&&s&&(D().setConfig({blankCanvasSize:{width:i,height:s}}),L().canvas.openNew(i,s,h),D().togglePanel("newImage",!1),L().history.addInitial())},children:[x.jsx(Pr,{type:"number",label:x.jsx(xe,{message:"Width"}),value:t.width,min:1,required:!0,className:"mb-16",onChange:r=>{n({...t,width:r.target.valueAsNumber})}}),x.jsx(Pr,{type:"number",label:x.jsx(xe,{message:"Height"}),value:t.height,min:1,required:!0,className:"mb-16",onChange:r=>{n({...t,height:r.target.valueAsNumber})}}),x.jsx(gs,{onChange:r=>{n({...t,bgColor:r})},className:"mb-16",value:t.bgColor,label:x.jsx(xe,{message:"Background color"})}),x.jsxs("div",{className:"text-right",children:[x.jsx(At,{size:"sm",variant:"text",className:"mr-10",onClick:()=>{e("default")},children:x.jsx(xe,{message:"Cancel"})}),x.jsx(At,{size:"sm",type:"submit",variant:"raised",color:"primary",children:x.jsx(xe,{message:"Create"})})]})]})}const hV=k.forwardRef((e,t)=>{const n=ps(e),{label:r,children:i,size:s,className:h,orientation:a="horizontal",disabled:o,required:u,invalid:d,errorMessage:l,description:c}=e,f={},p=k.useId(),m=e.name||p;return x.jsxs("fieldset",{"aria-describedby":c?`${p}-description`:void 0,ref:t,className:ce("text-left",h),children:[r&&x.jsx("legend",{className:n.label,...f,children:r}),x.jsx("div",{className:ce("flex",r?"mt-6":"mt-0",a==="vertical"?"flex-col gap-10":"flex-row gap-16"),children:k.Children.map(i,g=>{if(k.isValidElement(g))return k.cloneElement(g,{name:m,size:s,invalid:g.props.invalid||d||void 0,disabled:g.props.disabled||o,required:g.props.required||u})})}),c&&!l&&x.jsx("div",{className:n.description,id:`${p}-description`,children:c}),l&&x.jsx("div",{className:n.error,children:l})]})}),L0=k.forwardRef((e,t)=>{const{children:n,autoFocus:r,size:i,invalid:s,isFirst:h,...a}=e,o=as(t);d0({autoFocus:r},o);const u=dV(i);return x.jsxs("label",{className:ce("inline-flex gap-8 select-none items-center whitespace-nowrap align-middle",u.label,e.disabled&&"text-disabled pointer-events-none",e.invalid&&"text-danger"),children:[x.jsx("input",{type:"radio",className:ce("focus-visible:ring outline-none","rounded-full transition-button border-2 appearance-none","border-text-muted disabled:border-disabled-fg checked:border-primary checked:hover:border-primary-dark","before:bg-primary disabled:before:bg-disabled-fg before:hover:bg-primary-dark","before:h-full before:w-full before:block before:rounded-full before:scale-10 before:opacity-0 before:transition before:duration-200","checked:before:scale-[.65] checked:before:opacity-100",u.circle),ref:o,...a}),n&&x.jsx("span",{children:n})]})});function dV(e){switch(e){case"xs":return{circle:"h-12 w-12",label:"text-xs"};case"sm":return{circle:"h-16 w-16",label:"text-sm"};case"lg":return{circle:"h-24 w-24",label:"text-lg"};default:return{circle:"h-20 w-20",label:"text-base"}}}function pV(){const e=he(t=>t.openPanels.export);return x.jsx(ih,{isOpen:e,onOpenChange:t=>{t||D().togglePanel("export",!1)},type:"modal",children:x.jsx(gV,{})})}function gV(){const[e,t]=k.useState(()=>{var n,r,i,s,h,a;return{filename:((r=(n=D().config.tools)==null?void 0:n.export)==null?void 0:r.defaultName)||"image",format:((s=(i=D().config.tools)==null?void 0:i.export)==null?void 0:s.defaultFormat)||"jpeg",quality:((a=(h=D().config.tools)==null?void 0:h.export)==null?void 0:a.defaultQuality)||.8}});return x.jsx(rh,{className:"text-center max-w-max text-main",size:"auto",children:x.jsx(z3,{children:x.jsxs("form",{onSubmit:n=>{n.preventDefault(),L().export.save(e.filename,e.format,e.quality),D().togglePanel("export",!1)},children:[x.jsx(Pr,{required:!0,size:"sm",label:x.jsx(xe,{message:"Save As"}),value:e.filename,onChange:n=>{t({...e,filename:n.target.value})}}),x.jsxs(hV,{size:"sm",className:"my-20","aria-label":"Image format",children:[x.jsx(L0,{value:"jpeg",checked:e.format==="jpeg",onChange:n=>{t({...e,format:n.target.value})},children:"JPEG"}),x.jsx(L0,{value:"png",checked:e.format==="png",onChange:n=>{t({...e,format:n.target.value})},children:"PNG"}),x.jsx(L0,{value:"json",checked:e.format==="json",onChange:n=>{t({...e,format:n.target.value})},children:"JSON"})]}),x.jsx(ms,{size:"sm",minValue:.1,step:.1,maxValue:1,value:e.quality,onChange:n=>{t({...e,quality:n})},formatOptions:{style:"percent"},label:x.jsx(xe,{message:"Quality"})}),x.jsx(At,{variant:"raised",color:"primary",type:"submit",className:"mt-20 w-full",size:"sm",children:x.jsx(xe,{message:"Save"})})]})})})}function mV(){const e=he(n=>n.objects.all),t=he(n=>n.objects.active.id);return x.jsxs(Pt.div,{...Lf,className:"absolute bottom-20 right-20 w-224 max-w-[calc(100%-40px)] max-h-[calc(100%-40px)] bg-paper shadow-xl border focus:outline-none rounded overflow-hidden",children:[x.jsxs("div",{className:"px-10 py-2 mb-4 font-medium text-sm border-b flex items-center",children:[x.jsx(xe,{message:"Objects"}),x.jsx(Ne,{size:"xs",className:"ml-auto flex-shrink-0",onClick:()=>{D().togglePanel("objects",!1)},children:x.jsx(mi,{})})]}),x.jsx("div",{className:"p-8",children:e.map(n=>{const r=n.id===t,i=n.name;if(!i)return null;const s=LP[i],h=s.icon&&de.createElement(s.icon,{className:"icon-sm"});return x.jsx(At,{onClick:()=>{r||!n.selectable||L().objects.select(n.id)},variant:"outline",color:r?"primary":null,size:"sm",className:ce("w-full mb-8",(r||!n.selectable)&&"pointer-events-none"),justify:"justify-start",startIcon:h,children:x.jsx(xe,{...s.name})},n.id)})})]})}function vV(){const e=he(n=>n.openPanels.history),t=he(n=>n.openPanels.objects);return x.jsxs("div",{className:"z-modal",children:[x.jsxs(Sr,{children:[e&&x.jsx(rV,{},"historyPanel"),t&&x.jsx(mV,{},"objListPanel")]}),x.jsx(aV,{}),x.jsx(pV,{})]})}/**
 * @remix-run/router v1.17.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function z0(){return z0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},z0.apply(this,arguments)}var B3;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(B3||(B3={}));function jr(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function N3(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function $3(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}var V3;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(V3||(V3={}));function yV(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function bV(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:i=""}=typeof e=="string"?$3(e):e;return{pathname:n?n.startsWith("/")?n:wV(n,t):t,search:CV(r),hash:SV(i)}}function wV(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function B0(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function xV(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function H3(e,t){let n=xV(e);return t?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function U3(e,t,n,r){r===void 0&&(r=!1);let i;typeof e=="string"?i=$3(e):(i=z0({},e),jr(!i.pathname||!i.pathname.includes("?"),B0("?","pathname","search",i)),jr(!i.pathname||!i.pathname.includes("#"),B0("#","pathname","hash",i)),jr(!i.search||!i.search.includes("#"),B0("#","search","hash",i)));let s=e===""||i.pathname==="",h=s?"/":i.pathname,a;if(h==null)a=n;else{let l=t.length-1;if(!r&&h.startsWith("..")){let c=h.split("/");for(;c[0]==="..";)c.shift(),l-=1;i.pathname=c.join("/")}a=l>=0?t[l]:"/"}let o=bV(i,a),u=h&&h!=="/"&&h.endsWith("/"),d=(s||h===".")&&n.endsWith("/");return!o.pathname.endsWith("/")&&(u||d)&&(o.pathname+="/"),o}const W3=e=>e.join("/").replace(/\/\/+/g,"/"),CV=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,SV=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e,X3=["post","put","patch","delete"];new Set(X3);const _V=["get",...X3];new Set(_V);/**
 * React Router v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function N0(){return N0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},N0.apply(this,arguments)}const Y3=k.createContext(null),Bl=k.createContext(null),G3=k.createContext(null),sh=k.createContext({outlet:null,matches:[],isDataRoute:!1});function EV(e,t){let{relative:n}=t===void 0?{}:t;$0()||jr(!1);let{basename:r,navigator:i}=k.useContext(Bl),{hash:s,pathname:h,search:a}=q3(e,{relative:n}),o=h;return r!=="/"&&(o=h==="/"?r:W3([r,h])),i.createHref({pathname:o,search:a,hash:s})}function $0(){return k.useContext(G3)!=null}function V0(){return $0()||jr(!1),k.useContext(G3).location}function K3(e){k.useContext(Bl).static||k.useLayoutEffect(e)}function kV(){let{isDataRoute:e}=k.useContext(sh);return e?AV():TV()}function TV(){$0()||jr(!1);let e=k.useContext(Y3),{basename:t,future:n,navigator:r}=k.useContext(Bl),{matches:i}=k.useContext(sh),{pathname:s}=V0(),h=JSON.stringify(H3(i,n.v7_relativeSplatPath)),a=k.useRef(!1);return K3(()=>{a.current=!0}),k.useCallback(function(u,d){if(d===void 0&&(d={}),!a.current)return;if(typeof u=="number"){r.go(u);return}let l=U3(u,JSON.parse(h),s,d.relative==="path");e==null&&t!=="/"&&(l.pathname=l.pathname==="/"?t:W3([t,l.pathname])),(d.replace?r.replace:r.push)(l,d.state,d)},[t,r,h,s,e])}function q3(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=k.useContext(Bl),{matches:i}=k.useContext(sh),{pathname:s}=V0(),h=JSON.stringify(H3(i,r.v7_relativeSplatPath));return k.useMemo(()=>U3(e,JSON.parse(h),s,n==="path"),[e,h,s,n])}var Q3=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Q3||{}),J3=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(J3||{});function OV(e){let t=k.useContext(Y3);return t||jr(!1),t}function PV(e){let t=k.useContext(sh);return t||jr(!1),t}function DV(e){let t=PV(),n=t.matches[t.matches.length-1];return n.route.id||jr(!1),n.route.id}function AV(){let{router:e}=OV(Q3.UseNavigateStable),t=DV(J3.UseNavigateStable),n=k.useRef(!1);return K3(()=>{n.current=!0}),k.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?e.navigate(i):e.navigate(i,N0({fromRouteId:t},s)))},[e,t])}new Promise(()=>{});/**
 * React Router DOM v6.24.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function H0(){return H0=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},H0.apply(this,arguments)}function MV(e,t){if(e==null)return{};var n={},r=Object.keys(e),i,s;for(s=0;s<r.length;s++)i=r[s],!(t.indexOf(i)>=0)&&(n[i]=e[i]);return n}function jV(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function RV(e,t){return e.button===0&&(!t||t==="_self")&&!jV(e)}const FV=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","unstable_viewTransition"],IV="6";try{window.__reactRouterVersion=IV}catch{}const LV=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",zV=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BV=k.forwardRef(function(t,n){let{onClick:r,relative:i,reloadDocument:s,replace:h,state:a,target:o,to:u,preventScrollReset:d,unstable_viewTransition:l}=t,c=MV(t,FV),{basename:f}=k.useContext(Bl),p,m=!1;if(typeof u=="string"&&zV.test(u)&&(p=u,LV))try{let b=new URL(window.location.href),w=u.startsWith("//")?new URL(b.protocol+u):new URL(u),C=yV(w.pathname,f);w.origin===b.origin&&C!=null?u=C+w.search+w.hash:m=!0}catch{}let g=EV(u,{relative:i}),v=NV(u,{replace:h,state:a,target:o,preventScrollReset:d,relative:i,unstable_viewTransition:l});function y(b){r&&r(b),b.defaultPrevented||v(b)}return k.createElement("a",H0({},c,{href:p||g,onClick:m||s?r:y,ref:n,target:o}))});var Z3;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(Z3||(Z3={}));var e5;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(e5||(e5={}));function NV(e,t){let{target:n,replace:r,state:i,preventScrollReset:s,relative:h,unstable_viewTransition:a}=t===void 0?{}:t,o=kV(),u=V0(),d=q3(e,{relative:h});return k.useCallback(l=>{if(RV(l,n)){l.preventDefault();let c=r!==void 0?r:N3(u)===N3(d);o(e,{replace:c,state:i,preventScrollReset:s,relative:h,unstable_viewTransition:a})}},[u,o,d,r,i,n,e,s,h,a])}const $V=be(x.jsx("path",{d:"M11 15h2v2h-2v-2zm0-8h2v6h-2V7zm.99-5C6.47 2 2 6.48 2 12s4.47 10 9.99 10C17.52 22 22 17.52 22 12S17.52 2 11.99 2zM12 20c-4.42 0-8-3.58-8-8s3.58-8 8-8 8 3.58 8 8-3.58 8-8 8z"}),"ErrorOutlineOutlined"),VV=be(x.jsx("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8zm4.59-12.42L10 14.17l-2.59-2.58L6 13l4 4 8-8z"}),"CheckCircleOutlined"),HV={opacity:0,y:50,scale:.3},UV={opacity:1,y:0,scale:1},WV={opacity:0,scale:.5};function XV(){const e=z1(t=>t.toasts);return x.jsx("div",{className:"relative pointer-events-none",children:x.jsx(Sr,{initial:!1,children:e.map(t=>x.jsx("div",{className:ce("fixed mx-auto p-20 z-toast",t.position==="bottom-center"?"left-0 right-0 bottom-0":"right-0 bottom-0"),children:x.jsxs(Pt.div,{initial:t.disableEnterAnimation?void 0:HV,animate:t.disableEnterAnimation?void 0:UV,exit:t.disableExitAnimation?void 0:WV,className:ce("flex items-center gap-10 min-w-288 max-w-500 shadow-lg w-min rounded-lg pl-16 pr-6 py-6 text-sm pointer-events-auto max-h-100 bg-paper text-main bg-paper border mx-auto min-h-50"),onPointerEnter:()=>{var n;return(n=t.timer)==null?void 0:n.pause()},onPointerLeave:()=>{var n;return(n=t.timer)==null?void 0:n.resume()},role:"alert","aria-live":t.type==="danger"?"assertive":"polite",children:[t.type==="danger"&&x.jsx($V,{className:"text-danger flex-shrink-0",size:"md"}),t.type==="loading"&&x.jsx(w3,{size:"sm",className:"flex-shrink-0",isIndeterminate:!0}),t.type==="positive"&&x.jsx(VV,{className:"text-positive flex-shrink-0",size:"md"}),x.jsx("div",{className:"overflow-hidden overflow-ellipsis w-max mr-auto","data-testid":"toast-message",children:x.jsx(g0,{value:t.message})}),t.action&&x.jsx(At,{variant:"text",color:"primary",size:"sm",className:"flex-shrink-0",onFocus:()=>{var n;return(n=t.timer)==null?void 0:n.pause()},onBlur:()=>{var n;return(n=t.timer)==null?void 0:n.resume()},onClick:()=>Vs().remove(t.id),elementType:BV,to:t.action.action,children:x.jsx(g0,{value:t.action.label})}),t.type!=="loading"&&x.jsx(Ne,{onFocus:()=>{var n;return(n=t.timer)==null?void 0:n.pause()},onBlur:()=>{var n;return(n=t.timer)==null?void 0:n.resume()},type:"button",className:"flex-shrink-0",onClick:()=>{Vs().remove(t.id)},size:"sm",children:x.jsx(mi,{})})]})},t.id))})})}function t5(e){return OC()?e.metaKey:e.ctrlKey}function YV(e){switch(e.key){case"z":t5(e)&&(e.preventDefault(),e.stopPropagation(),e.shiftKey?L().history.redo():L().history.undo());break;case"ArrowUp":e.preventDefault(),e.stopPropagation(),L().objects.move("up");break;case"ArrowRight":e.preventDefault(),e.stopPropagation(),L().objects.move("right");break;case"ArrowDown":e.preventDefault(),e.stopPropagation(),L().objects.move("down");break;case"ArrowLeft":e.preventDefault(),e.stopPropagation(),L().objects.move("left");break;case"Delete":e.preventDefault(),e.stopPropagation(),L().objects.delete();break;case"v":t5(e)&&(e.preventDefault(),e.stopPropagation(),GV());break}}async function GV(){try{const e=await navigator.clipboard.read();for(const t of e)for(const n of t.types)if(n.startsWith("image/")){const r=await t.getType(n),i=new FileReader;i.onload=s=>{var h;(h=s.target)!=null&&h.result&&L().import.addImageFromData(s.target.result)},i.readAsDataURL(r);return}}catch(e){console.error(e)}}const KV=new Map,U0=new Map,n5={status:"inactive"};async function*qV(e){const t=[];for(const n of e.items)if(n.kind==="file"){const r=n.webkitGetAsEntry();r&&t.push(r)}for(const n of t)if(n.isFile){if(n.name===".DS_Store")continue;const r=await i5(n);yield new cf(r,n.fullPath)}else n.isDirectory&&(yield*r5(n))}async function*r5(e){const t=e.createReader();let n;do{n=await new Promise((r,i)=>{t.readEntries(r,i)});for(const r of n)if(r.isFile){if(r.name===".DS_Store")continue;const i=await i5(r);yield new cf(i,r.fullPath)}else r.isDirectory&&(yield*r5(r))}while(n.length>0)}function i5(e){return new Promise((t,n)=>e.file(t,n))}async function QV(e){const t=[];for await(const n of e)t.push(n);return t}const JV=400;function ZV({id:e,disabled:t,ref:n,...r}){const i=k.useRef({dragOverElements:new Set,dropActivateTimer:void 0}).current,s=k.useRef(r);s.current=r,k.useLayoutEffect(()=>(U0.set(e,{...U0.get(e),disabled:t,id:e,ref:n}),()=>{U0.delete(e)}),[e,s,t,n]);const h=c=>{var m;const f=s.current,p=f.allowDragEventsFromItself||n.current!==((m=c.ref)==null?void 0:m.current);return!!(c!=null&&c.type&&p&&f.types.includes(c.type)&&(!f.acceptsDrop||f.acceptsDrop(c)))},a=c=>{var p,m;const f=Nl(c);f&&((m=(p=s.current).onDragLeave)==null||m.call(p,f))};return{droppableProps:t?{}:{onDragOver:c=>{var p,m;c.preventDefault(),c.stopPropagation();const f=Nl(c);f&&h(f)&&((m=(p=s.current).onDragOver)==null||m.call(p,f,c))},onDragEnter:c=>{var p,m;if(c.stopPropagation(),i.dragOverElements.add(c.target),i.dragOverElements.size>1)return;const f=Nl(c);f&&h(f)&&((m=(p=s.current).onDragEnter)==null||m.call(p,f),clearTimeout(i.dropActivateTimer),typeof s.current.onDropActivate=="function"&&(i.dropActivateTimer=setTimeout(()=>{var g,v;f&&((v=(g=s.current).onDropActivate)==null||v.call(g,f))},JV)))},onDragLeave:c=>{c.stopPropagation(),i.dragOverElements.delete(c.target);for(const p of i.dragOverElements)c.currentTarget.contains(p)||i.dragOverElements.delete(p);if(i.dragOverElements.size>0)return;const f=Nl(c);f&&h(f)&&(a(c),clearTimeout(i.dropActivateTimer))},onDrop:async c=>{var p,m,g,v;c.preventDefault(),c.stopPropagation(),i.dragOverElements.clear(),a(c),clearTimeout(i.dropActivateTimer);const f=Nl(c);f&&((m=(p=s.current).onDragLeave)==null||m.call(p,f),h(f)&&((v=(g=s.current).onDrop)==null||v.call(g,f)))}}}}function Nl(e){if(n5.dragTargetId!=null)return KV.get(n5.dragTargetId);if(e.dataTransfer.types.includes("Files"))return{type:"nativeFile",el:null,ref:null,getData:()=>QV(qV(e.dataTransfer))}}function eH({children:e}){const t=he(r=>r.bootstrapData),n=k.useMemo(()=>({data:t,setBootstrapData:()=>{},mergeBootstrapData:()=>{},invalidateBootstrapData:()=>{}}),[t]);return x.jsx(k_.Provider,{value:n,children:e})}function tH(){const e=he(p=>{var m;return(m=p.config.ui)==null?void 0:m.visible})??!0,t=he(p=>{var m,g;return(g=(m=p.config.ui)==null?void 0:m.nav)==null?void 0:g.position})??"bottom",n=he(p=>{var m,g;return(g=(m=p.config.ui)==null?void 0:m.menubar)==null?void 0:g.position})??"top",r=he(p=>{var m;return(m=p.config.ui)==null?void 0:m.allowEditorClose})??!0,i=k.useRef(null),s=k.useRef(null),{isModal:h,isMobile:a}=Xf(),o=k.useCallback(async p=>{var g,v;if(D().activeTool||D().dirty||p.type!=="nativeFile")return;const m=await p.getData();L().import.fileIsValid(m[0])&&(((v=(g=D().config.tools)==null?void 0:g.import)==null?void 0:v.openDroppedImageAsBackground)??!1?await L().import.openBackgroundImage(m[0]):await L().import.openUploadedFile(m[0]))},[]),{droppableProps:u}=ZV({id:"pixie-root",ref:s,types:["nativeFile"],onDrop:o});k.useEffect(()=>{var g,v;D().fabric||(he.setState({canvasRef:i}),xF(i.current),(g=D().config.ui)!=null&&g.defaultTool&&D().setActiveTool((v=D().config.ui)==null?void 0:v.defaultTool,null),L().canvas.loadInitialContent().then(()=>{var y,b;(b=(y=D().config).onLoad)==null||b.call(y,D().editor)}));const p=GC(s,()=>{D().setStageSize(KC(s.current))}),m=GC(i,()=>{D().setCanvasSize(KC(i.current))});return()=>{p(),m()}},[s]);const d={visible:{opacity:1,scale:1,display:"flex"},hidden:{opacity:0,transitionEnd:{display:"none"}}},l=ce("pixie-root flex flex-col overflow-hidden bg-background text-main no-tap-highlight w-full h-full",{relative:!h,"fixed inset-0 w-full h-full z-20":h,"shadow-lg border rounded-md m-auto max-h-[calc(100vh-90px)] max-w-[calc(100vw-90px)]":h&&!a}),c=h&&e&&!a&&r,f=h&&e;return x.jsx(U8,{features:W8,strict:!0,children:x.jsxs(eH,{children:[c&&x.jsx(Ne,{className:"z-20 fixed right-2 top-2 text-white",size:"lg",onClick:()=>{D().editor.close()},children:x.jsx(mi,{})}),f&&x.jsx(o0,{position:"fixed",disableInitialTransition:!0}),x.jsxs(Pt.div,{initial:!1,variants:d,animate:e?"visible":"hidden",className:l,children:[n==="top"&&x.jsx(W_,{}),t==="top"&&x.jsx(L3,{className:"pt-14"}),x.jsxs("main",{className:"relative flex-auto my-20 overflow-hidden outline-none",tabIndex:-1,..._r(u,{onKeyDownCapture:YV}),ref:s,children:[x.jsx(UB,{}),x.jsx(v7,{ref:i})]}),x.jsx(q9,{}),t==="bottom"&&x.jsx(L3,{}),n==="bottom"&&x.jsx(W_,{}),x.jsx(vV,{}),x.jsx(XV,{})]})]})})}(function(){fabric.Object.ENLIVEN_PROPS.push("eraser");var e=fabric.Object.prototype._drawClipPath,t=fabric.Object.prototype.needsItsOwnCache,n=fabric.Object.prototype.toObject,r=fabric.Object.prototype.getSvgCommons,i=fabric.Object.prototype._createBaseClipPathSVGMarkup,s=fabric.Object.prototype._createBaseSVGMarkup;fabric.Object.prototype.cacheProperties.push("eraser"),fabric.Object.prototype.stateProperties.push("eraser"),fabric.util.object.extend(fabric.Object.prototype,{erasable:!0,eraser:void 0,needsItsOwnCache:function(){return t.call(this)||!!this.eraser},_drawClipPath:function(o,u){if(e.call(this,o,u),this.eraser){var d=this._getNonTransformedDimensions();this.eraser.isType("eraser")&&this.eraser.set({width:d.x,height:d.y}),e.call(this,o,this.eraser)}},toObject:function(o){var u=n.call(this,["erasable"].concat(o));return this.eraser&&!this.eraser.excludeFromExport&&(u.eraser=this.eraser.toObject(o)),u},getSvgCommons:function(){return r.call(this)+(this.eraser?'mask="url(#'+this.eraser.clipPathId+')" ':"")},_createEraserSVGMarkup:function(o){return this.eraser?(this.eraser.clipPathId="MASK_"+fabric.Object.__uid++,['<mask id="',this.eraser.clipPathId,'" >',this.eraser.toSVG(o),"</mask>",`
`].join("")):""},_createBaseClipPathSVGMarkup:function(o,u){return[this._createEraserSVGMarkup(u&&u.reviver),i.call(this,o,u)].join("")},_createBaseSVGMarkup:function(o,u){return[this._createEraserSVGMarkup(u&&u.reviver),s.call(this,o,u)].join("")}});var h=fabric.Group.prototype._restoreObjectsState;fabric.util.object.extend(fabric.Group.prototype,{_addEraserPathToObjects:function(o){this._objects.forEach(function(u){fabric.EraserBrush.prototype._addPathToObjectEraser.call(fabric.EraserBrush.prototype,u,o)})},applyEraserToObjects:function(){var o=this,u=this.eraser;if(u){delete this.eraser;var d=o.calcTransformMatrix();u.clone(function(l){var c=o.clipPath;l.getObjects("path").forEach(function(f){var p=fabric.util.multiplyTransformMatrices(d,f.calcTransformMatrix());fabric.util.applyTransformToObject(f,p),c?c.clone(function(m){var g=fabric.EraserBrush.prototype.applyClipPathToPath.call(fabric.EraserBrush.prototype,f,m,d);o._addEraserPathToObjects(g)},["absolutePositioned","inverted"]):o._addEraserPathToObjects(f)})})}},_restoreObjectsState:function(){return this.erasable===!0&&this.applyEraserToObjects(),h.call(this)}}),fabric.Eraser=fabric.util.createClass(fabric.Group,{type:"eraser",originX:"center",originY:"center",drawObject:function(o){o.save(),o.fillStyle="black",o.fillRect(-this.width/2,-this.height/2,this.width,this.height),o.restore(),this.callSuper("drawObject",o)},_getBounds:function(){},_toSVG:function(o){var u=["<g ","COMMON_PARTS",` >
`],d=-this.width/2,l=-this.height/2,c=["<rect ",'fill="white" ','x="',d,'" y="',l,'" width="',this.width,'" height="',this.height,`" />
`].join("");u.push("		",c);for(var f=0,p=this._objects.length;f<p;f++)u.push("		",this._objects[f].toSVG(o));return u.push(`</g>
`),u}}),fabric.Eraser.fromObject=function(o,u){var d=o.objects;fabric.util.enlivenObjects(d,function(l){var c=fabric.util.object.clone(o,!0);delete c.objects,fabric.util.enlivenObjectEnlivables(o,c,function(){u&&u(new fabric.Eraser(l,c,!0))})})};var a=fabric.Canvas.prototype._renderOverlay;fabric.util.object.extend(fabric.Canvas.prototype,{isErasing:function(){return this.isDrawingMode&&this.freeDrawingBrush&&this.freeDrawingBrush.type==="eraser"&&this.freeDrawingBrush._isErasing},_renderOverlay:function(o){a.call(this,o),this.isErasing()&&!this.freeDrawingBrush.inverted&&this.freeDrawingBrush._render()}}),fabric.EraserBrush=fabric.util.createClass(fabric.PencilBrush,{type:"eraser",inverted:!1,_isErasing:!1,_isErasable:function(o){return o.erasable!==!1},_prepareCollectionTraversal:function(o,u,d){o.forEachObject(function(l){l.forEachObject&&l.erasable==="deep"?this._prepareCollectionTraversal(l,u,d):!this.inverted&&l.erasable&&l.visible?(l.visible=!1,o.dirty=!0,d.visibility.push(l),d.collection.push(o)):this.inverted&&l.visible&&(l.erasable&&l.eraser?(l.eraser.inverted=!0,l.dirty=!0,o.dirty=!0,d.eraser.push(l),d.collection.push(o)):(l.visible=!1,o.dirty=!0,d.visibility.push(l),d.collection.push(o)))},this)},preparePattern:function(){this._patternCanvas||(this._patternCanvas=fabric.util.createCanvasElement());var o=this._patternCanvas;o.width=this.canvas.width,o.height=this.canvas.height;var u=o.getContext("2d");if(this.canvas._isRetinaScaling()){var d=this.canvas.getRetinaScaling();this.canvas.__initRetinaScaling(d,o,u)}var l=this.canvas.backgroundImage,c=l&&this._isErasable(l),f=this.canvas.overlayImage,p=f&&this._isErasable(f);if(!this.inverted&&(l&&!c||this.canvas.backgroundColor))c&&(this.canvas.backgroundImage=void 0),this.canvas._renderBackground(u),c&&(this.canvas.backgroundImage=l);else if(this.inverted&&l&&c){var m=this.canvas.backgroundColor;this.canvas.backgroundColor=void 0,this.canvas._renderBackground(u),this.canvas.backgroundColor=m}u.save(),u.transform.apply(u,this.canvas.viewportTransform);var g={visibility:[],eraser:[],collection:[]};if(this._prepareCollectionTraversal(this.canvas,u,g),this.canvas._renderObjects(u,this.canvas._objects),g.visibility.forEach(function(v){v.visible=!0}),g.eraser.forEach(function(v){v.eraser.inverted=!1,v.dirty=!0}),g.collection.forEach(function(v){v.dirty=!0}),u.restore(),!this.inverted&&(f&&!p||this.canvas.overlayColor))p&&(this.canvas.overlayImage=void 0),a.call(this.canvas,u),p&&(this.canvas.overlayImage=f);else if(this.inverted&&f&&p){var m=this.canvas.overlayColor;this.canvas.overlayColor=void 0,a.call(this.canvas,u),this.canvas.overlayColor=m}},_setBrushStyles:function(o){this.callSuper("_setBrushStyles",o),o.strokeStyle="black"},_saveAndTransform:function(o){this.callSuper("_saveAndTransform",o),this._setBrushStyles(o),o.globalCompositeOperation=o===this.canvas.getContext()?"destination-out":"source-over"},needsFullRender:function(){return!0},onMouseDown:function(o,u){this.canvas._isMainEvent(u.e)&&(this._prepareForDrawing(o),this._captureDrawingPath(o),this.preparePattern(),this._isErasing=!0,this.canvas.fire("erasing:start"),this._render())},_render:function(){var o;this.inverted||(o=this.canvas.getContext(),this.callSuper("_render",o)),o=this.canvas.contextTop,this.canvas.clearContext(o),this.callSuper("_render",o),o.save();var u=this.canvas.getRetinaScaling(),d=1/u;o.scale(d,d),o.globalCompositeOperation="source-in",o.drawImage(this._patternCanvas,0,0),o.restore()},createPath:function(o){var u=this.callSuper("createPath",o);return u.globalCompositeOperation=this.inverted?"source-over":"destination-out",u.stroke=this.inverted?"white":"black",u},applyClipPathToPath:function(o,u,d){var l=fabric.util.invertTransform(o.calcTransformMatrix()),c=u.calcTransformMatrix(),f=u.absolutePositioned?l:fabric.util.multiplyTransformMatrices(l,d);return u.absolutePositioned=!1,fabric.util.applyTransformToObject(u,fabric.util.multiplyTransformMatrices(f,c)),o.clipPath=o.clipPath?fabric.util.mergeClipPaths(u,o.clipPath):u,o},clonePathWithClipPath:function(o,u,d){var l=u.calcTransformMatrix(),c=u.clipPath,f=this;o.clone(function(p){c.clone(function(m){d(f.applyClipPathToPath(p,m,l))},["absolutePositioned","inverted"])})},_addPathToObjectEraser:function(o,u){var d=this;if(o.forEachObject&&o.erasable==="deep"){var l=o._objects.filter(function(f){return f.erasable});l.length>0&&o.clipPath?this.clonePathWithClipPath(u,o,function(f){l.forEach(function(p){d._addPathToObjectEraser(p,f)})}):l.length>0&&l.forEach(function(f){d._addPathToObjectEraser(f,u)});return}var c=o.eraser;c||(c=new fabric.Eraser,o.eraser=c),u.clone(function(f){var p=fabric.util.multiplyTransformMatrices(fabric.util.invertTransform(o.calcTransformMatrix()),f.calcTransformMatrix());fabric.util.applyTransformToObject(f,p),c.addWithUpdate(f),o.set("dirty",!0),o.fire("erasing:end",{path:f}),o.group&&Array.isArray(d.__subTargets)&&d.__subTargets.push(o)})},applyEraserToCanvas:function(o){var u=this.canvas,d={};return["backgroundImage","overlayImage"].forEach(function(l){var c=u[l];c&&c.erasable&&(this._addPathToObjectEraser(c,o),d[l]=c)},this),d},_finalizeAndAddPath:function(){var o=this.canvas.contextTop,u=this.canvas;o.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate)),u.clearContext(u.contextTop),this._isErasing=!1;var d=this._points&&this._points.length>1?this.convertPointsToSVGPath(this._points):null;if(!d||this._isEmptySVGPath(d)){u.fire("erasing:end"),u.requestRenderAll();return}var l=this.createPath(d);l.setCoords(),u.fire("before:path:created",{path:l});var c=this.applyEraserToCanvas(l),f=this;this.__subTargets=[];var p=[];u.forEachObject(function(m){m.erasable&&m.intersectsWithObject(l,!0,!0)&&(f._addPathToObjectEraser(m,l),p.push(m))}),u.fire("erasing:end",{path:l,targets:p,subTargets:this.__subTargets,drawables:c}),delete this.__subTargets,u.requestRenderAll(),this._resetShadow(),u.fire("path:created",{path:l})}})})(),ph.enableBoundaryChecking(!1);const Hl=class Hl{constructor(t){Te(this,"tools",{});Te(this,"fabric",null);if(t.sentryDsn&&cO({dsn:t.sentryDsn}),L5(bD),!t.selector)throw new Error('Pixie required "selector" option.');const n=document.querySelector(t.selector);if(!n)return;n.classList.add("pi"),mD(n),this.setConfig(t),he.setState({editor:this}),Wx(n).render(x.jsx(de.StrictMode,{children:x.jsx(tH,{})}))}get state(){return D()}get defaultConfig(){return Hl.defaultConfig}open(t={}){return new Promise(async n=>{var r;Object.keys(t).length?await this.resetEditor({...m1(t,{ui:{visible:!0},image:t.image||D().config.image,state:t.state||D().config.state,blankCanvasSize:t.blankCanvasSize||D().config.blankCanvasSize})}):(r=D().config.ui)!=null&&r.visible||await D().setConfig({ui:{visible:!0}}),n()})}close(){var t,n,r;(t=D().config.ui)!=null&&t.visible&&(this.setConfig({ui:{visible:!1}}),(r=(n=D().config).onClose)==null||r.call(n))}setConfig(t){D().setConfig(t)}uploadAndAddImage(){return L().import.uploadAndAddImage()}uploadAndReplaceMainImage(){return L().import.uploadAndReplaceMainImage()}uploadAndOpenStateFile(){return L().import.uploadAndOpenStateFile()}newCanvas(t,n,r){return L().canvas.openNew(t,n,r)}getState(t){return JSON.stringify(ku(t))}setState(t){return L().import.loadState(t)}async setStateFromUrl(t){const n=await Eu(t);return L().import.loadState(n)}openTool(t){cd(t)}applyChanges(){D().applyChanges()}cancelChanges(){D().cancelChanges()}async resetEditor(t){await ud(t),await L().canvas.loadInitialContent()}togglePanel(t,n){t==="objects"&&D().togglePanel("history",!1),t==="history"&&D().togglePanel("objects",!1),D().togglePanel(t,n)}on(t,n){var r;(r=this.fabric)==null||r.on(t,n)}isDirty(){return D().dirty}get(t){return this.tools[t]}notify(t){return Hs(t)}static init(t){return new Promise(n=>{const r=t.onLoad;t.onLoad=i=>{r==null||r(i),n(i)},new this(t)})}};Te(Hl,"defaultConfig",Ky),Te(Hl,"version",RO);let W0=Hl;return W0});
//# sourceMappingURL=pixie.umd.js.map
